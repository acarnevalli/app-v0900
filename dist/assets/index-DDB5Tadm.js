function d_(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const c=Object.getOwnPropertyDescriptor(s,i);c&&Object.defineProperty(e,i,c.get?c:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(i){if(i.ep)return;i.ep=!0;const c=r(i);fetch(i.href,c)}})();var MT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function f_(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function s(){var i=!1;try{i=this instanceof s}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),r}var Xu={exports:{}},Na={},ed={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function h_(){if(Zp)return Me;Zp=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function y($){return $===null||typeof $!="object"?null:($=v&&$[v]||$["@@iterator"],typeof $=="function"?$:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function N($,q,R){this.props=$,this.context=q,this.refs=b,this.updater=R||j}N.prototype.isReactComponent={},N.prototype.setState=function($,q){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,q,"setState")},N.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function k(){}k.prototype=N.prototype;function C($,q,R){this.props=$,this.context=q,this.refs=b,this.updater=R||j}var P=C.prototype=new k;P.constructor=C,S(P,N.prototype),P.isPureReactComponent=!0;var D=Array.isArray,E=Object.prototype.hasOwnProperty,V={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function M($,q,R){var B,F={},W=null,Z=null;if(q!=null)for(B in q.ref!==void 0&&(Z=q.ref),q.key!==void 0&&(W=""+q.key),q)E.call(q,B)&&!A.hasOwnProperty(B)&&(F[B]=q[B]);var Q=arguments.length-2;if(Q===1)F.children=R;else if(1<Q){for(var xe=Array(Q),pe=0;pe<Q;pe++)xe[pe]=arguments[pe+2];F.children=xe}if($&&$.defaultProps)for(B in Q=$.defaultProps,Q)F[B]===void 0&&(F[B]=Q[B]);return{$$typeof:e,type:$,key:W,ref:Z,props:F,_owner:V.current}}function I($,q){return{$$typeof:e,type:$.type,key:q,ref:$.ref,props:$.props,_owner:$._owner}}function de($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function be($){var q={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(R){return q[R]})}var ue=/\/+/g;function X($,q){return typeof $=="object"&&$!==null&&$.key!=null?be(""+$.key):q.toString(36)}function ce($,q,R,B,F){var W=typeof $;(W==="undefined"||W==="boolean")&&($=null);var Z=!1;if($===null)Z=!0;else switch(W){case"string":case"number":Z=!0;break;case"object":switch($.$$typeof){case e:case t:Z=!0}}if(Z)return Z=$,F=F(Z),$=B===""?"."+X(Z,0):B,D(F)?(R="",$!=null&&(R=$.replace(ue,"$&/")+"/"),ce(F,q,R,"",function(pe){return pe})):F!=null&&(de(F)&&(F=I(F,R+(!F.key||Z&&Z.key===F.key?"":(""+F.key).replace(ue,"$&/")+"/")+$)),q.push(F)),1;if(Z=0,B=B===""?".":B+":",D($))for(var Q=0;Q<$.length;Q++){W=$[Q];var xe=B+X(W,Q);Z+=ce(W,q,R,xe,F)}else if(xe=y($),typeof xe=="function")for($=xe.call($),Q=0;!(W=$.next()).done;)W=W.value,xe=B+X(W,Q++),Z+=ce(W,q,R,xe,F);else if(W==="object")throw q=String($),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Z}function te($,q,R){if($==null)return $;var B=[],F=0;return ce($,B,"","",function(W){return q.call(R,W,F++)}),B}function Y($){if($._status===-1){var q=$._result;q=q(),q.then(function(R){($._status===0||$._status===-1)&&($._status=1,$._result=R)},function(R){($._status===0||$._status===-1)&&($._status=2,$._result=R)}),$._status===-1&&($._status=0,$._result=q)}if($._status===1)return $._result.default;throw $._result}var re={current:null},O={transition:null},ae={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:O,ReactCurrentOwner:V};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:te,forEach:function($,q,R){te($,function(){q.apply(this,arguments)},R)},count:function($){var q=0;return te($,function(){q++}),q},toArray:function($){return te($,function(q){return q})||[]},only:function($){if(!de($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Me.Component=N,Me.Fragment=r,Me.Profiler=i,Me.PureComponent=C,Me.StrictMode=s,Me.Suspense=h,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Me.act=ie,Me.cloneElement=function($,q,R){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var B=S({},$.props),F=$.key,W=$.ref,Z=$._owner;if(q!=null){if(q.ref!==void 0&&(W=q.ref,Z=V.current),q.key!==void 0&&(F=""+q.key),$.type&&$.type.defaultProps)var Q=$.type.defaultProps;for(xe in q)E.call(q,xe)&&!A.hasOwnProperty(xe)&&(B[xe]=q[xe]===void 0&&Q!==void 0?Q[xe]:q[xe])}var xe=arguments.length-2;if(xe===1)B.children=R;else if(1<xe){Q=Array(xe);for(var pe=0;pe<xe;pe++)Q[pe]=arguments[pe+2];B.children=Q}return{$$typeof:e,type:$.type,key:F,ref:W,props:B,_owner:Z}},Me.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:c,_context:$},$.Consumer=$},Me.createElement=M,Me.createFactory=function($){var q=M.bind(null,$);return q.type=$,q},Me.createRef=function(){return{current:null}},Me.forwardRef=function($){return{$$typeof:f,render:$}},Me.isValidElement=de,Me.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:Y}},Me.memo=function($,q){return{$$typeof:g,type:$,compare:q===void 0?null:q}},Me.startTransition=function($){var q=O.transition;O.transition={};try{$()}finally{O.transition=q}},Me.unstable_act=ie,Me.useCallback=function($,q){return re.current.useCallback($,q)},Me.useContext=function($){return re.current.useContext($)},Me.useDebugValue=function(){},Me.useDeferredValue=function($){return re.current.useDeferredValue($)},Me.useEffect=function($,q){return re.current.useEffect($,q)},Me.useId=function(){return re.current.useId()},Me.useImperativeHandle=function($,q,R){return re.current.useImperativeHandle($,q,R)},Me.useInsertionEffect=function($,q){return re.current.useInsertionEffect($,q)},Me.useLayoutEffect=function($,q){return re.current.useLayoutEffect($,q)},Me.useMemo=function($,q){return re.current.useMemo($,q)},Me.useReducer=function($,q,R){return re.current.useReducer($,q,R)},Me.useRef=function($){return re.current.useRef($)},Me.useState=function($){return re.current.useState($)},Me.useSyncExternalStore=function($,q,R){return re.current.useSyncExternalStore($,q,R)},Me.useTransition=function(){return re.current.useTransition()},Me.version="18.3.1",Me}var Kp;function kf(){return Kp||(Kp=1,ed.exports=h_()),ed.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function m_(){if(Gp)return Na;Gp=1;var e=kf(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,g){var p,v={},y=null,j=null;g!==void 0&&(y=""+g),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(j=h.ref);for(p in h)s.call(h,p)&&!c.hasOwnProperty(p)&&(v[p]=h[p]);if(f&&f.defaultProps)for(p in h=f.defaultProps,h)v[p]===void 0&&(v[p]=h[p]);return{$$typeof:t,type:f,key:y,ref:j,props:v,_owner:i.current}}return Na.Fragment=r,Na.jsx=u,Na.jsxs=u,Na}var Jp;function p_(){return Jp||(Jp=1,Xu.exports=m_()),Xu.exports}var a=p_(),_=kf();const Se=jf(_),G0=d_({__proto__:null,default:Se},[_]);var rl={},td={exports:{}},Ht={},rd={exports:{}},nd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function g_(){return Qp||(Qp=1,(function(e){function t(O,ae){var ie=O.length;O.push(ae);e:for(;0<ie;){var $=ie-1>>>1,q=O[$];if(0<i(q,ae))O[$]=ae,O[ie]=q,ie=$;else break e}}function r(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var ae=O[0],ie=O.pop();if(ie!==ae){O[0]=ie;e:for(var $=0,q=O.length,R=q>>>1;$<R;){var B=2*($+1)-1,F=O[B],W=B+1,Z=O[W];if(0>i(F,ie))W<q&&0>i(Z,F)?(O[$]=Z,O[W]=ie,$=W):(O[$]=F,O[B]=ie,$=B);else if(W<q&&0>i(Z,ie))O[$]=Z,O[W]=ie,$=W;else break e}}return ae}function i(O,ae){var ie=O.sortIndex-ae.sortIndex;return ie!==0?ie:O.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var h=[],g=[],p=1,v=null,y=3,j=!1,S=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(O){for(var ae=r(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=O)s(g),ae.sortIndex=ae.expirationTime,t(h,ae);else break;ae=r(g)}}function D(O){if(b=!1,P(O),!S)if(r(h)!==null)S=!0,Y(E);else{var ae=r(g);ae!==null&&re(D,ae.startTime-O)}}function E(O,ae){S=!1,b&&(b=!1,k(M),M=-1),j=!0;var ie=y;try{for(P(ae),v=r(h);v!==null&&(!(v.expirationTime>ae)||O&&!be());){var $=v.callback;if(typeof $=="function"){v.callback=null,y=v.priorityLevel;var q=$(v.expirationTime<=ae);ae=e.unstable_now(),typeof q=="function"?v.callback=q:v===r(h)&&s(h),P(ae)}else s(h);v=r(h)}if(v!==null)var R=!0;else{var B=r(g);B!==null&&re(D,B.startTime-ae),R=!1}return R}finally{v=null,y=ie,j=!1}}var V=!1,A=null,M=-1,I=5,de=-1;function be(){return!(e.unstable_now()-de<I)}function ue(){if(A!==null){var O=e.unstable_now();de=O;var ae=!0;try{ae=A(!0,O)}finally{ae?X():(V=!1,A=null)}}else V=!1}var X;if(typeof C=="function")X=function(){C(ue)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,te=ce.port2;ce.port1.onmessage=ue,X=function(){te.postMessage(null)}}else X=function(){N(ue,0)};function Y(O){A=O,V||(V=!0,X())}function re(O,ae){M=N(function(){O(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){S||j||(S=!0,Y(E))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(h)},e.unstable_next=function(O){switch(y){case 1:case 2:case 3:var ae=3;break;default:ae=y}var ie=y;y=ae;try{return O()}finally{y=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,ae){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var ie=y;y=O;try{return ae()}finally{y=ie}},e.unstable_scheduleCallback=function(O,ae,ie){var $=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?$+ie:$):ie=$,O){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ie+q,O={id:p++,callback:ae,priorityLevel:O,startTime:ie,expirationTime:q,sortIndex:-1},ie>$?(O.sortIndex=ie,t(g,O),r(h)===null&&O===r(g)&&(b?(k(M),M=-1):b=!0,re(D,ie-$))):(O.sortIndex=q,t(h,O),S||j||(S=!0,Y(E))),O},e.unstable_shouldYield=be,e.unstable_wrapCallback=function(O){var ae=y;return function(){var ie=y;y=ae;try{return O.apply(this,arguments)}finally{y=ie}}}})(nd)),nd}var Yp;function x_(){return Yp||(Yp=1,rd.exports=g_()),rd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function v_(){if(Xp)return Ht;Xp=1;var e=kf(),t=x_();function r(n){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function c(n,o){u(n,o),u(n+"Capture",o)}function u(n,o){for(i[n]=o,n=0;n<o.length;n++)s.add(o[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},v={};function y(n){return h.call(v,n)?!0:h.call(p,n)?!1:g.test(n)?v[n]=!0:(p[n]=!0,!1)}function j(n,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function S(n,o,l,d){if(o===null||typeof o>"u"||j(n,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(n,o,l,d,m,x,w){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=n,this.type=o,this.sanitizeURL=x,this.removeEmptyString=w}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){N[n]=new b(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var o=n[0];N[o]=new b(o,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){N[n]=new b(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){N[n]=new b(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){N[n]=new b(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){N[n]=new b(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){N[n]=new b(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){N[n]=new b(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){N[n]=new b(n,5,!1,n.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function C(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var o=n.replace(k,C);N[o]=new b(o,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var o=n.replace(k,C);N[o]=new b(o,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var o=n.replace(k,C);N[o]=new b(o,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){N[n]=new b(n,1,!1,n.toLowerCase(),null,!1,!1)}),N.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){N[n]=new b(n,1,!1,n.toLowerCase(),null,!0,!0)});function P(n,o,l,d){var m=N.hasOwnProperty(o)?N[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,l,m,d)&&(l=null),d||m===null?y(o)&&(l===null?n.removeAttribute(o):n.setAttribute(o,""+l)):m.mustUseProperty?n[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,d=m.attributeNamespace,l===null?n.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?n.setAttributeNS(d,o,l):n.setAttribute(o,l))))}var D=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),V=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),be=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),O=Symbol.iterator;function ae(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var ie=Object.assign,$;function q(n){if($===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+n}var R=!1;function B(n,o){if(!n||R)return"";R=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(J){var d=J}Reflect.construct(n,[],o)}else{try{o.call()}catch(J){d=J}n.call(o.prototype)}else{try{throw Error()}catch(J){d=J}n()}}catch(J){if(J&&d&&typeof J.stack=="string"){for(var m=J.stack.split(`
`),x=d.stack.split(`
`),w=m.length-1,T=x.length-1;1<=w&&0<=T&&m[w]!==x[T];)T--;for(;1<=w&&0<=T;w--,T--)if(m[w]!==x[T]){if(w!==1||T!==1)do if(w--,T--,0>T||m[w]!==x[T]){var L=`
`+m[w].replace(" at new "," at ");return n.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",n.displayName)),L}while(1<=w&&0<=T);break}}}finally{R=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?q(n):""}function F(n){switch(n.tag){case 5:return q(n.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return n=B(n.type,!1),n;case 11:return n=B(n.type.render,!1),n;case 1:return n=B(n.type,!0),n;default:return""}}function W(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case V:return"Portal";case I:return"Profiler";case M:return"StrictMode";case X:return"Suspense";case ce:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case be:return(n.displayName||"Context")+".Consumer";case de:return(n._context.displayName||"Context")+".Provider";case ue:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case te:return o=n.displayName||null,o!==null?o:W(n.type)||"Memo";case Y:o=n._payload,n=n._init;try{return W(n(o))}catch{}}return null}function Z(n){var o=n.type;switch(n.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=o.render,n=n.displayName||n.name||"",o.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(o);case 8:return o===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Q(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function xe(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function pe(n){var o=xe(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),d=""+n[o];if(!n.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,x=l.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return m.call(this)},set:function(w){d=""+w,x.call(this,w)}}),Object.defineProperty(n,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Ie(n){n._valueTracker||(n._valueTracker=pe(n))}function Ve(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return n&&(d=xe(n)?n.checked?"true":"false":n.value),n=d,n!==l?(o.setValue(n),!0):!1}function gt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ft(n,o){var l=o.checked;return ie({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function Kr(n,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=Q(o.value!=null?o.value:l),n._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function fn(n,o){o=o.checked,o!=null&&P(n,"checked",o,!1)}function Gr(n,o){fn(n,o);var l=Q(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}o.hasOwnProperty("value")?Es(n,o.type,l):o.hasOwnProperty("defaultValue")&&Es(n,o.type,Q(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(n.defaultChecked=!!o.defaultChecked)}function dc(n,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+n._wrapperState.initialValue,l||o===n.value||(n.value=o),n.defaultValue=o}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function Es(n,o,l){(o!=="number"||gt(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var z=Array.isArray;function K(n,o,l,d){if(n=n.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<n.length;l++)m=o.hasOwnProperty("$"+n[l].value),n[l].selected!==m&&(n[l].selected=m),m&&d&&(n[l].defaultSelected=!0)}else{for(l=""+Q(l),o=null,m=0;m<n.length;m++){if(n[m].value===l){n[m].selected=!0,d&&(n[m].defaultSelected=!0);return}o!==null||n[m].disabled||(o=n[m])}o!==null&&(o.selected=!0)}}function ee(n,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return ie({},o,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ve(n,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(r(92));if(z(l)){if(1<l.length)throw Error(r(93));l=l[0]}o=l}o==null&&(o=""),l=o}n._wrapperState={initialValue:Q(l)}}function ge(n,o){var l=Q(o.value),d=Q(o.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),o.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),d!=null&&(n.defaultValue=""+d)}function he(n){var o=n.textContent;o===n._wrapperState.initialValue&&o!==""&&o!==null&&(n.value=o)}function Pe(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(n,o){return n==null||n==="http://www.w3.org/1999/xhtml"?Pe(o):n==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Be,It=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,m){MSApp.execUnsafeLocalFunction(function(){return n(o,l,d,m)})}:n})(function(n,o){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=o;else{for(Be=Be||document.createElement("div"),Be.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Be.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;o.firstChild;)n.appendChild(o.firstChild)}});function Rr(n,o){if(o){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=o;return}}n.textContent=o}var Lt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fc=["Webkit","ms","Moz","O"];Object.keys(Lt).forEach(function(n){fc.forEach(function(o){o=o+n.charAt(0).toUpperCase()+n.substring(1),Lt[o]=Lt[n]})});function Ps(n,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Lt.hasOwnProperty(n)&&Lt[n]?(""+o).trim():o+"px"}function As(n,o){n=n.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=Ps(l,o[l],d);l==="float"&&(l="cssFloat"),d?n.setProperty(l,m):n[l]=m}}var hc=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ts(n,o){if(o){if(hc[n]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function Bo(n,o){if(n.indexOf("-")===-1)return typeof o.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Os=null;function mc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var pc=null,Rs=null,Is=null;function uh(n){if(n=da(n)){if(typeof pc!="function")throw Error(r(280));var o=n.stateNode;o&&(o=xi(o),pc(n.stateNode,n.type,o))}}function dh(n){Rs?Is?Is.push(n):Is=[n]:Rs=n}function fh(){if(Rs){var n=Rs,o=Is;if(Is=Rs=null,uh(n),o)for(n=0;n<o.length;n++)uh(o[n])}}function hh(n,o){return n(o)}function mh(){}var gc=!1;function ph(n,o,l){if(gc)return n(o,l);gc=!0;try{return hh(n,o,l)}finally{gc=!1,(Rs!==null||Is!==null)&&(mh(),fh())}}function Wo(n,o){var l=n.stateNode;if(l===null)return null;var d=xi(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var xc=!1;if(f)try{var qo={};Object.defineProperty(qo,"passive",{get:function(){xc=!0}}),window.addEventListener("test",qo,qo),window.removeEventListener("test",qo,qo)}catch{xc=!1}function xb(n,o,l,d,m,x,w,T,L){var J=Array.prototype.slice.call(arguments,3);try{o.apply(l,J)}catch(oe){this.onError(oe)}}var Ho=!1,Ga=null,Ja=!1,vc=null,vb={onError:function(n){Ho=!0,Ga=n}};function yb(n,o,l,d,m,x,w,T,L){Ho=!1,Ga=null,xb.apply(vb,arguments)}function bb(n,o,l,d,m,x,w,T,L){if(yb.apply(this,arguments),Ho){if(Ho){var J=Ga;Ho=!1,Ga=null}else throw Error(r(198));Ja||(Ja=!0,vc=J)}}function Jn(n){var o=n,l=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(l=o.return),n=o.return;while(n)}return o.tag===3?l:null}function gh(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function xh(n){if(Jn(n)!==n)throw Error(r(188))}function wb(n){var o=n.alternate;if(!o){if(o=Jn(n),o===null)throw Error(r(188));return o!==n?null:n}for(var l=n,d=o;;){var m=l.return;if(m===null)break;var x=m.alternate;if(x===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===l)return xh(m),n;if(x===d)return xh(m),o;x=x.sibling}throw Error(r(188))}if(l.return!==d.return)l=m,d=x;else{for(var w=!1,T=m.child;T;){if(T===l){w=!0,l=m,d=x;break}if(T===d){w=!0,d=m,l=x;break}T=T.sibling}if(!w){for(T=x.child;T;){if(T===l){w=!0,l=x,d=m;break}if(T===d){w=!0,d=x,l=m;break}T=T.sibling}if(!w)throw Error(r(189))}}if(l.alternate!==d)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:o}function vh(n){return n=wb(n),n!==null?yh(n):null}function yh(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var o=yh(n);if(o!==null)return o;n=n.sibling}return null}var bh=t.unstable_scheduleCallback,wh=t.unstable_cancelCallback,_b=t.unstable_shouldYield,jb=t.unstable_requestPaint,it=t.unstable_now,kb=t.unstable_getCurrentPriorityLevel,yc=t.unstable_ImmediatePriority,_h=t.unstable_UserBlockingPriority,Qa=t.unstable_NormalPriority,Sb=t.unstable_LowPriority,jh=t.unstable_IdlePriority,Ya=null,Ir=null;function Nb(n){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(Ya,n,void 0,(n.current.flags&128)===128)}catch{}}var br=Math.clz32?Math.clz32:Pb,Cb=Math.log,Eb=Math.LN2;function Pb(n){return n>>>=0,n===0?32:31-(Cb(n)/Eb|0)|0}var Xa=64,ei=4194304;function Zo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ti(n,o){var l=n.pendingLanes;if(l===0)return 0;var d=0,m=n.suspendedLanes,x=n.pingedLanes,w=l&268435455;if(w!==0){var T=w&~m;T!==0?d=Zo(T):(x&=w,x!==0&&(d=Zo(x)))}else w=l&~m,w!==0?d=Zo(w):x!==0&&(d=Zo(x));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,x=o&-o,m>=x||m===16&&(x&4194240)!==0))return o;if((d&4)!==0&&(d|=l&16),o=n.entangledLanes,o!==0)for(n=n.entanglements,o&=d;0<o;)l=31-br(o),m=1<<l,d|=n[l],o&=~m;return d}function Ab(n,o){switch(n){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tb(n,o){for(var l=n.suspendedLanes,d=n.pingedLanes,m=n.expirationTimes,x=n.pendingLanes;0<x;){var w=31-br(x),T=1<<w,L=m[w];L===-1?((T&l)===0||(T&d)!==0)&&(m[w]=Ab(T,o)):L<=o&&(n.expiredLanes|=T),x&=~T}}function bc(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function kh(){var n=Xa;return Xa<<=1,(Xa&4194240)===0&&(Xa=64),n}function wc(n){for(var o=[],l=0;31>l;l++)o.push(n);return o}function Ko(n,o,l){n.pendingLanes|=o,o!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,o=31-br(o),n[o]=l}function Ob(n,o){var l=n.pendingLanes&~o;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=o,n.mutableReadLanes&=o,n.entangledLanes&=o,o=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<l;){var m=31-br(l),x=1<<m;o[m]=0,d[m]=-1,n[m]=-1,l&=~x}}function _c(n,o){var l=n.entangledLanes|=o;for(n=n.entanglements;l;){var d=31-br(l),m=1<<d;m&o|n[d]&o&&(n[d]|=o),l&=~m}}var qe=0;function Sh(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Nh,jc,Ch,Eh,Ph,kc=!1,ri=[],hn=null,mn=null,pn=null,Go=new Map,Jo=new Map,gn=[],Rb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ah(n,o){switch(n){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":Go.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(o.pointerId)}}function Qo(n,o,l,d,m,x){return n===null||n.nativeEvent!==x?(n={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[m]},o!==null&&(o=da(o),o!==null&&jc(o)),n):(n.eventSystemFlags|=d,o=n.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),n)}function Ib(n,o,l,d,m){switch(o){case"focusin":return hn=Qo(hn,n,o,l,d,m),!0;case"dragenter":return mn=Qo(mn,n,o,l,d,m),!0;case"mouseover":return pn=Qo(pn,n,o,l,d,m),!0;case"pointerover":var x=m.pointerId;return Go.set(x,Qo(Go.get(x)||null,n,o,l,d,m)),!0;case"gotpointercapture":return x=m.pointerId,Jo.set(x,Qo(Jo.get(x)||null,n,o,l,d,m)),!0}return!1}function Th(n){var o=Qn(n.target);if(o!==null){var l=Jn(o);if(l!==null){if(o=l.tag,o===13){if(o=gh(l),o!==null){n.blockedOn=o,Ph(n.priority,function(){Ch(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ni(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var l=Nc(n.domEventName,n.eventSystemFlags,o[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var d=new l.constructor(l.type,l);Os=d,l.target.dispatchEvent(d),Os=null}else return o=da(l),o!==null&&jc(o),n.blockedOn=l,!1;o.shift()}return!0}function Oh(n,o,l){ni(n)&&l.delete(o)}function $b(){kc=!1,hn!==null&&ni(hn)&&(hn=null),mn!==null&&ni(mn)&&(mn=null),pn!==null&&ni(pn)&&(pn=null),Go.forEach(Oh),Jo.forEach(Oh)}function Yo(n,o){n.blockedOn===o&&(n.blockedOn=null,kc||(kc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$b)))}function Xo(n){function o(m){return Yo(m,n)}if(0<ri.length){Yo(ri[0],n);for(var l=1;l<ri.length;l++){var d=ri[l];d.blockedOn===n&&(d.blockedOn=null)}}for(hn!==null&&Yo(hn,n),mn!==null&&Yo(mn,n),pn!==null&&Yo(pn,n),Go.forEach(o),Jo.forEach(o),l=0;l<gn.length;l++)d=gn[l],d.blockedOn===n&&(d.blockedOn=null);for(;0<gn.length&&(l=gn[0],l.blockedOn===null);)Th(l),l.blockedOn===null&&gn.shift()}var $s=D.ReactCurrentBatchConfig,si=!0;function Db(n,o,l,d){var m=qe,x=$s.transition;$s.transition=null;try{qe=1,Sc(n,o,l,d)}finally{qe=m,$s.transition=x}}function Mb(n,o,l,d){var m=qe,x=$s.transition;$s.transition=null;try{qe=4,Sc(n,o,l,d)}finally{qe=m,$s.transition=x}}function Sc(n,o,l,d){if(si){var m=Nc(n,o,l,d);if(m===null)Bc(n,o,d,oi,l),Ah(n,d);else if(Ib(m,n,o,l,d))d.stopPropagation();else if(Ah(n,d),o&4&&-1<Rb.indexOf(n)){for(;m!==null;){var x=da(m);if(x!==null&&Nh(x),x=Nc(n,o,l,d),x===null&&Bc(n,o,d,oi,l),x===m)break;m=x}m!==null&&d.stopPropagation()}else Bc(n,o,d,null,l)}}var oi=null;function Nc(n,o,l,d){if(oi=null,n=mc(d),n=Qn(n),n!==null)if(o=Jn(n),o===null)n=null;else if(l=o.tag,l===13){if(n=gh(o),n!==null)return n;n=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null);return oi=n,null}function Rh(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kb()){case yc:return 1;case _h:return 4;case Qa:case Sb:return 16;case jh:return 536870912;default:return 16}default:return 16}}var xn=null,Cc=null,ai=null;function Ih(){if(ai)return ai;var n,o=Cc,l=o.length,d,m="value"in xn?xn.value:xn.textContent,x=m.length;for(n=0;n<l&&o[n]===m[n];n++);var w=l-n;for(d=1;d<=w&&o[l-d]===m[x-d];d++);return ai=m.slice(n,1<d?1-d:void 0)}function ii(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function li(){return!0}function $h(){return!1}function Yt(n){function o(l,d,m,x,w){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=x,this.target=w,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(l=n[T],this[T]=l?l(x):x[T]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?li:$h,this.isPropagationStopped=$h,this}return ie(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),o}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ec=Yt(Ds),ea=ie({},Ds,{view:0,detail:0}),zb=Yt(ea),Pc,Ac,ta,ci=ie({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ta&&(ta&&n.type==="mousemove"?(Pc=n.screenX-ta.screenX,Ac=n.screenY-ta.screenY):Ac=Pc=0,ta=n),Pc)},movementY:function(n){return"movementY"in n?n.movementY:Ac}}),Dh=Yt(ci),Fb=ie({},ci,{dataTransfer:0}),Lb=Yt(Fb),Ub=ie({},ea,{relatedTarget:0}),Tc=Yt(Ub),Vb=ie({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),Bb=Yt(Vb),Wb=ie({},Ds,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),qb=Yt(Wb),Hb=ie({},Ds,{data:0}),Mh=Yt(Hb),Zb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jb(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=Gb[n])?!!o[n]:!1}function Oc(){return Jb}var Qb=ie({},ea,{key:function(n){if(n.key){var o=Zb[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=ii(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Kb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oc,charCode:function(n){return n.type==="keypress"?ii(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ii(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Yb=Yt(Qb),Xb=ie({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zh=Yt(Xb),ew=ie({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oc}),tw=Yt(ew),rw=ie({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),nw=Yt(rw),sw=ie({},ci,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ow=Yt(sw),aw=[9,13,27,32],Rc=f&&"CompositionEvent"in window,ra=null;f&&"documentMode"in document&&(ra=document.documentMode);var iw=f&&"TextEvent"in window&&!ra,Fh=f&&(!Rc||ra&&8<ra&&11>=ra),Lh=" ",Uh=!1;function Vh(n,o){switch(n){case"keyup":return aw.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ms=!1;function lw(n,o){switch(n){case"compositionend":return Bh(o);case"keypress":return o.which!==32?null:(Uh=!0,Lh);case"textInput":return n=o.data,n===Lh&&Uh?null:n;default:return null}}function cw(n,o){if(Ms)return n==="compositionend"||!Rc&&Vh(n,o)?(n=Ih(),ai=Cc=xn=null,Ms=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Fh&&o.locale!=="ko"?null:o.data;default:return null}}var uw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wh(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!uw[n.type]:o==="textarea"}function qh(n,o,l,d){dh(d),o=mi(o,"onChange"),0<o.length&&(l=new Ec("onChange","change",null,l,d),n.push({event:l,listeners:o}))}var na=null,sa=null;function dw(n){cm(n,0)}function ui(n){var o=Vs(n);if(Ve(o))return n}function fw(n,o){if(n==="change")return o}var Hh=!1;if(f){var Ic;if(f){var $c="oninput"in document;if(!$c){var Zh=document.createElement("div");Zh.setAttribute("oninput","return;"),$c=typeof Zh.oninput=="function"}Ic=$c}else Ic=!1;Hh=Ic&&(!document.documentMode||9<document.documentMode)}function Kh(){na&&(na.detachEvent("onpropertychange",Gh),sa=na=null)}function Gh(n){if(n.propertyName==="value"&&ui(sa)){var o=[];qh(o,sa,n,mc(n)),ph(dw,o)}}function hw(n,o,l){n==="focusin"?(Kh(),na=o,sa=l,na.attachEvent("onpropertychange",Gh)):n==="focusout"&&Kh()}function mw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ui(sa)}function pw(n,o){if(n==="click")return ui(o)}function gw(n,o){if(n==="input"||n==="change")return ui(o)}function xw(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var wr=typeof Object.is=="function"?Object.is:xw;function oa(n,o){if(wr(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var l=Object.keys(n),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!h.call(o,m)||!wr(n[m],o[m]))return!1}return!0}function Jh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Qh(n,o){var l=Jh(n);n=0;for(var d;l;){if(l.nodeType===3){if(d=n+l.textContent.length,n<=o&&d>=o)return{node:l,offset:o-n};n=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Jh(l)}}function Yh(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?Yh(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function Xh(){for(var n=window,o=gt();o instanceof n.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)n=o.contentWindow;else break;o=gt(n.document)}return o}function Dc(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}function vw(n){var o=Xh(),l=n.focusedElem,d=n.selectionRange;if(o!==l&&l&&l.ownerDocument&&Yh(l.ownerDocument.documentElement,l)){if(d!==null&&Dc(l)){if(o=d.start,n=d.end,n===void 0&&(n=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(n,l.value.length);else if(n=(o=l.ownerDocument||document)&&o.defaultView||window,n.getSelection){n=n.getSelection();var m=l.textContent.length,x=Math.min(d.start,m);d=d.end===void 0?x:Math.min(d.end,m),!n.extend&&x>d&&(m=d,d=x,x=m),m=Qh(l,x);var w=Qh(l,d);m&&w&&(n.rangeCount!==1||n.anchorNode!==m.node||n.anchorOffset!==m.offset||n.focusNode!==w.node||n.focusOffset!==w.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),n.removeAllRanges(),x>d?(n.addRange(o),n.extend(w.node,w.offset)):(o.setEnd(w.node,w.offset),n.addRange(o)))}}for(o=[],n=l;n=n.parentNode;)n.nodeType===1&&o.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)n=o[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var yw=f&&"documentMode"in document&&11>=document.documentMode,zs=null,Mc=null,aa=null,zc=!1;function em(n,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;zc||zs==null||zs!==gt(d)||(d=zs,"selectionStart"in d&&Dc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),aa&&oa(aa,d)||(aa=d,d=mi(Mc,"onSelect"),0<d.length&&(o=new Ec("onSelect","select",null,o,l),n.push({event:o,listeners:d}),o.target=zs)))}function di(n,o){var l={};return l[n.toLowerCase()]=o.toLowerCase(),l["Webkit"+n]="webkit"+o,l["Moz"+n]="moz"+o,l}var Fs={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionend:di("Transition","TransitionEnd")},Fc={},tm={};f&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function fi(n){if(Fc[n])return Fc[n];if(!Fs[n])return n;var o=Fs[n],l;for(l in o)if(o.hasOwnProperty(l)&&l in tm)return Fc[n]=o[l];return n}var rm=fi("animationend"),nm=fi("animationiteration"),sm=fi("animationstart"),om=fi("transitionend"),am=new Map,im="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vn(n,o){am.set(n,o),c(o,[n])}for(var Lc=0;Lc<im.length;Lc++){var Uc=im[Lc],bw=Uc.toLowerCase(),ww=Uc[0].toUpperCase()+Uc.slice(1);vn(bw,"on"+ww)}vn(rm,"onAnimationEnd"),vn(nm,"onAnimationIteration"),vn(sm,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(om,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_w=new Set("cancel close invalid load scroll toggle".split(" ").concat(ia));function lm(n,o,l){var d=n.type||"unknown-event";n.currentTarget=l,bb(d,o,void 0,n),n.currentTarget=null}function cm(n,o){o=(o&4)!==0;for(var l=0;l<n.length;l++){var d=n[l],m=d.event;d=d.listeners;e:{var x=void 0;if(o)for(var w=d.length-1;0<=w;w--){var T=d[w],L=T.instance,J=T.currentTarget;if(T=T.listener,L!==x&&m.isPropagationStopped())break e;lm(m,T,J),x=L}else for(w=0;w<d.length;w++){if(T=d[w],L=T.instance,J=T.currentTarget,T=T.listener,L!==x&&m.isPropagationStopped())break e;lm(m,T,J),x=L}}}if(Ja)throw n=vc,Ja=!1,vc=null,n}function Je(n,o){var l=o[Gc];l===void 0&&(l=o[Gc]=new Set);var d=n+"__bubble";l.has(d)||(um(o,n,2,!1),l.add(d))}function Vc(n,o,l){var d=0;o&&(d|=4),um(l,n,d,o)}var hi="_reactListening"+Math.random().toString(36).slice(2);function la(n){if(!n[hi]){n[hi]=!0,s.forEach(function(l){l!=="selectionchange"&&(_w.has(l)||Vc(l,!1,n),Vc(l,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[hi]||(o[hi]=!0,Vc("selectionchange",!1,o))}}function um(n,o,l,d){switch(Rh(o)){case 1:var m=Db;break;case 4:m=Mb;break;default:m=Sc}l=m.bind(null,o,l,n),m=void 0,!xc||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?n.addEventListener(o,l,{capture:!0,passive:m}):n.addEventListener(o,l,!0):m!==void 0?n.addEventListener(o,l,{passive:m}):n.addEventListener(o,l,!1)}function Bc(n,o,l,d,m){var x=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var T=d.stateNode.containerInfo;if(T===m||T.nodeType===8&&T.parentNode===m)break;if(w===4)for(w=d.return;w!==null;){var L=w.tag;if((L===3||L===4)&&(L=w.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;w=w.return}for(;T!==null;){if(w=Qn(T),w===null)return;if(L=w.tag,L===5||L===6){d=x=w;continue e}T=T.parentNode}}d=d.return}ph(function(){var J=x,oe=mc(l),le=[];e:{var se=am.get(n);if(se!==void 0){var ye=Ec,_e=n;switch(n){case"keypress":if(ii(l)===0)break e;case"keydown":case"keyup":ye=Yb;break;case"focusin":_e="focus",ye=Tc;break;case"focusout":_e="blur",ye=Tc;break;case"beforeblur":case"afterblur":ye=Tc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Dh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Lb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=tw;break;case rm:case nm:case sm:ye=Bb;break;case om:ye=nw;break;case"scroll":ye=zb;break;case"wheel":ye=ow;break;case"copy":case"cut":case"paste":ye=qb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=zh}var Ce=(o&4)!==0,lt=!Ce&&n==="scroll",H=Ce?se!==null?se+"Capture":null:se;Ce=[];for(var U=J,G;U!==null;){G=U;var fe=G.stateNode;if(G.tag===5&&fe!==null&&(G=fe,H!==null&&(fe=Wo(U,H),fe!=null&&Ce.push(ca(U,fe,G)))),lt)break;U=U.return}0<Ce.length&&(se=new ye(se,_e,null,l,oe),le.push({event:se,listeners:Ce}))}}if((o&7)===0){e:{if(se=n==="mouseover"||n==="pointerover",ye=n==="mouseout"||n==="pointerout",se&&l!==Os&&(_e=l.relatedTarget||l.fromElement)&&(Qn(_e)||_e[Jr]))break e;if((ye||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,ye?(_e=l.relatedTarget||l.toElement,ye=J,_e=_e?Qn(_e):null,_e!==null&&(lt=Jn(_e),_e!==lt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(ye=null,_e=J),ye!==_e)){if(Ce=Dh,fe="onMouseLeave",H="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(Ce=zh,fe="onPointerLeave",H="onPointerEnter",U="pointer"),lt=ye==null?se:Vs(ye),G=_e==null?se:Vs(_e),se=new Ce(fe,U+"leave",ye,l,oe),se.target=lt,se.relatedTarget=G,fe=null,Qn(oe)===J&&(Ce=new Ce(H,U+"enter",_e,l,oe),Ce.target=G,Ce.relatedTarget=lt,fe=Ce),lt=fe,ye&&_e)t:{for(Ce=ye,H=_e,U=0,G=Ce;G;G=Ls(G))U++;for(G=0,fe=H;fe;fe=Ls(fe))G++;for(;0<U-G;)Ce=Ls(Ce),U--;for(;0<G-U;)H=Ls(H),G--;for(;U--;){if(Ce===H||H!==null&&Ce===H.alternate)break t;Ce=Ls(Ce),H=Ls(H)}Ce=null}else Ce=null;ye!==null&&dm(le,se,ye,Ce,!1),_e!==null&&lt!==null&&dm(le,lt,_e,Ce,!0)}}e:{if(se=J?Vs(J):window,ye=se.nodeName&&se.nodeName.toLowerCase(),ye==="select"||ye==="input"&&se.type==="file")var Ee=fw;else if(Wh(se))if(Hh)Ee=gw;else{Ee=mw;var Te=hw}else(ye=se.nodeName)&&ye.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Ee=pw);if(Ee&&(Ee=Ee(n,J))){qh(le,Ee,l,oe);break e}Te&&Te(n,se,J),n==="focusout"&&(Te=se._wrapperState)&&Te.controlled&&se.type==="number"&&Es(se,"number",se.value)}switch(Te=J?Vs(J):window,n){case"focusin":(Wh(Te)||Te.contentEditable==="true")&&(zs=Te,Mc=J,aa=null);break;case"focusout":aa=Mc=zs=null;break;case"mousedown":zc=!0;break;case"contextmenu":case"mouseup":case"dragend":zc=!1,em(le,l,oe);break;case"selectionchange":if(yw)break;case"keydown":case"keyup":em(le,l,oe)}var Oe;if(Rc)e:{switch(n){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Ms?Vh(n,l)&&(Re="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(Fh&&l.locale!=="ko"&&(Ms||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Ms&&(Oe=Ih()):(xn=oe,Cc="value"in xn?xn.value:xn.textContent,Ms=!0)),Te=mi(J,Re),0<Te.length&&(Re=new Mh(Re,n,null,l,oe),le.push({event:Re,listeners:Te}),Oe?Re.data=Oe:(Oe=Bh(l),Oe!==null&&(Re.data=Oe)))),(Oe=iw?lw(n,l):cw(n,l))&&(J=mi(J,"onBeforeInput"),0<J.length&&(oe=new Mh("onBeforeInput","beforeinput",null,l,oe),le.push({event:oe,listeners:J}),oe.data=Oe))}cm(le,o)})}function ca(n,o,l){return{instance:n,listener:o,currentTarget:l}}function mi(n,o){for(var l=o+"Capture",d=[];n!==null;){var m=n,x=m.stateNode;m.tag===5&&x!==null&&(m=x,x=Wo(n,l),x!=null&&d.unshift(ca(n,x,m)),x=Wo(n,o),x!=null&&d.push(ca(n,x,m))),n=n.return}return d}function Ls(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function dm(n,o,l,d,m){for(var x=o._reactName,w=[];l!==null&&l!==d;){var T=l,L=T.alternate,J=T.stateNode;if(L!==null&&L===d)break;T.tag===5&&J!==null&&(T=J,m?(L=Wo(l,x),L!=null&&w.unshift(ca(l,L,T))):m||(L=Wo(l,x),L!=null&&w.push(ca(l,L,T)))),l=l.return}w.length!==0&&n.push({event:o,listeners:w})}var jw=/\r\n?/g,kw=/\u0000|\uFFFD/g;function fm(n){return(typeof n=="string"?n:""+n).replace(jw,`
`).replace(kw,"")}function pi(n,o,l){if(o=fm(o),fm(n)!==o&&l)throw Error(r(425))}function gi(){}var Wc=null,qc=null;function Hc(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Zc=typeof setTimeout=="function"?setTimeout:void 0,Sw=typeof clearTimeout=="function"?clearTimeout:void 0,hm=typeof Promise=="function"?Promise:void 0,Nw=typeof queueMicrotask=="function"?queueMicrotask:typeof hm<"u"?function(n){return hm.resolve(null).then(n).catch(Cw)}:Zc;function Cw(n){setTimeout(function(){throw n})}function Kc(n,o){var l=o,d=0;do{var m=l.nextSibling;if(n.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){n.removeChild(m),Xo(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);Xo(o)}function yn(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return n}function mm(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return n;o--}else l==="/$"&&o++}n=n.previousSibling}return null}var Us=Math.random().toString(36).slice(2),$r="__reactFiber$"+Us,ua="__reactProps$"+Us,Jr="__reactContainer$"+Us,Gc="__reactEvents$"+Us,Ew="__reactListeners$"+Us,Pw="__reactHandles$"+Us;function Qn(n){var o=n[$r];if(o)return o;for(var l=n.parentNode;l;){if(o=l[Jr]||l[$r]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(n=mm(n);n!==null;){if(l=n[$r])return l;n=mm(n)}return o}n=l,l=n.parentNode}return null}function da(n){return n=n[$r]||n[Jr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Vs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function xi(n){return n[ua]||null}var Jc=[],Bs=-1;function bn(n){return{current:n}}function Qe(n){0>Bs||(n.current=Jc[Bs],Jc[Bs]=null,Bs--)}function Ze(n,o){Bs++,Jc[Bs]=n.current,n.current=o}var wn={},Pt=bn(wn),Ut=bn(!1),Yn=wn;function Ws(n,o){var l=n.type.contextTypes;if(!l)return wn;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},x;for(x in l)m[x]=o[x];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=m),m}function Vt(n){return n=n.childContextTypes,n!=null}function vi(){Qe(Ut),Qe(Pt)}function pm(n,o,l){if(Pt.current!==wn)throw Error(r(168));Ze(Pt,o),Ze(Ut,l)}function gm(n,o,l){var d=n.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(r(108,Z(n)||"Unknown",m));return ie({},l,d)}function yi(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||wn,Yn=Pt.current,Ze(Pt,n),Ze(Ut,Ut.current),!0}function xm(n,o,l){var d=n.stateNode;if(!d)throw Error(r(169));l?(n=gm(n,o,Yn),d.__reactInternalMemoizedMergedChildContext=n,Qe(Ut),Qe(Pt),Ze(Pt,n)):Qe(Ut),Ze(Ut,l)}var Qr=null,bi=!1,Qc=!1;function vm(n){Qr===null?Qr=[n]:Qr.push(n)}function Aw(n){bi=!0,vm(n)}function _n(){if(!Qc&&Qr!==null){Qc=!0;var n=0,o=qe;try{var l=Qr;for(qe=1;n<l.length;n++){var d=l[n];do d=d(!0);while(d!==null)}Qr=null,bi=!1}catch(m){throw Qr!==null&&(Qr=Qr.slice(n+1)),bh(yc,_n),m}finally{qe=o,Qc=!1}}return null}var qs=[],Hs=0,wi=null,_i=0,ir=[],lr=0,Xn=null,Yr=1,Xr="";function es(n,o){qs[Hs++]=_i,qs[Hs++]=wi,wi=n,_i=o}function ym(n,o,l){ir[lr++]=Yr,ir[lr++]=Xr,ir[lr++]=Xn,Xn=n;var d=Yr;n=Xr;var m=32-br(d)-1;d&=~(1<<m),l+=1;var x=32-br(o)+m;if(30<x){var w=m-m%5;x=(d&(1<<w)-1).toString(32),d>>=w,m-=w,Yr=1<<32-br(o)+m|l<<m|d,Xr=x+n}else Yr=1<<x|l<<m|d,Xr=n}function Yc(n){n.return!==null&&(es(n,1),ym(n,1,0))}function Xc(n){for(;n===wi;)wi=qs[--Hs],qs[Hs]=null,_i=qs[--Hs],qs[Hs]=null;for(;n===Xn;)Xn=ir[--lr],ir[lr]=null,Xr=ir[--lr],ir[lr]=null,Yr=ir[--lr],ir[lr]=null}var Xt=null,er=null,tt=!1,_r=null;function bm(n,o){var l=fr(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=n,o=n.deletions,o===null?(n.deletions=[l],n.flags|=16):o.push(l)}function wm(n,o){switch(n.tag){case 5:var l=n.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(n.stateNode=o,Xt=n,er=yn(o.firstChild),!0):!1;case 6:return o=n.pendingProps===""||o.nodeType!==3?null:o,o!==null?(n.stateNode=o,Xt=n,er=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Xn!==null?{id:Yr,overflow:Xr}:null,n.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=fr(18,null,null,0),l.stateNode=o,l.return=n,n.child=l,Xt=n,er=null,!0):!1;default:return!1}}function eu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function tu(n){if(tt){var o=er;if(o){var l=o;if(!wm(n,o)){if(eu(n))throw Error(r(418));o=yn(l.nextSibling);var d=Xt;o&&wm(n,o)?bm(d,l):(n.flags=n.flags&-4097|2,tt=!1,Xt=n)}}else{if(eu(n))throw Error(r(418));n.flags=n.flags&-4097|2,tt=!1,Xt=n}}}function _m(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Xt=n}function ji(n){if(n!==Xt)return!1;if(!tt)return _m(n),tt=!0,!1;var o;if((o=n.tag!==3)&&!(o=n.tag!==5)&&(o=n.type,o=o!=="head"&&o!=="body"&&!Hc(n.type,n.memoizedProps)),o&&(o=er)){if(eu(n))throw jm(),Error(r(418));for(;o;)bm(n,o),o=yn(o.nextSibling)}if(_m(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(o===0){er=yn(n.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}n=n.nextSibling}er=null}}else er=Xt?yn(n.stateNode.nextSibling):null;return!0}function jm(){for(var n=er;n;)n=yn(n.nextSibling)}function Zs(){er=Xt=null,tt=!1}function ru(n){_r===null?_r=[n]:_r.push(n)}var Tw=D.ReactCurrentBatchConfig;function fa(n,o,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var d=l.stateNode}if(!d)throw Error(r(147,n));var m=d,x=""+n;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(w){var T=m.refs;w===null?delete T[x]:T[x]=w},o._stringRef=x,o)}if(typeof n!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,n))}return n}function ki(n,o){throw n=Object.prototype.toString.call(o),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n))}function km(n){var o=n._init;return o(n._payload)}function Sm(n){function o(H,U){if(n){var G=H.deletions;G===null?(H.deletions=[U],H.flags|=16):G.push(U)}}function l(H,U){if(!n)return null;for(;U!==null;)o(H,U),U=U.sibling;return null}function d(H,U){for(H=new Map;U!==null;)U.key!==null?H.set(U.key,U):H.set(U.index,U),U=U.sibling;return H}function m(H,U){return H=An(H,U),H.index=0,H.sibling=null,H}function x(H,U,G){return H.index=G,n?(G=H.alternate,G!==null?(G=G.index,G<U?(H.flags|=2,U):G):(H.flags|=2,U)):(H.flags|=1048576,U)}function w(H){return n&&H.alternate===null&&(H.flags|=2),H}function T(H,U,G,fe){return U===null||U.tag!==6?(U=Zu(G,H.mode,fe),U.return=H,U):(U=m(U,G),U.return=H,U)}function L(H,U,G,fe){var Ee=G.type;return Ee===A?oe(H,U,G.props.children,fe,G.key):U!==null&&(U.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Y&&km(Ee)===U.type)?(fe=m(U,G.props),fe.ref=fa(H,U,G),fe.return=H,fe):(fe=Ki(G.type,G.key,G.props,null,H.mode,fe),fe.ref=fa(H,U,G),fe.return=H,fe)}function J(H,U,G,fe){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Ku(G,H.mode,fe),U.return=H,U):(U=m(U,G.children||[]),U.return=H,U)}function oe(H,U,G,fe,Ee){return U===null||U.tag!==7?(U=ls(G,H.mode,fe,Ee),U.return=H,U):(U=m(U,G),U.return=H,U)}function le(H,U,G){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Zu(""+U,H.mode,G),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case E:return G=Ki(U.type,U.key,U.props,null,H.mode,G),G.ref=fa(H,null,U),G.return=H,G;case V:return U=Ku(U,H.mode,G),U.return=H,U;case Y:var fe=U._init;return le(H,fe(U._payload),G)}if(z(U)||ae(U))return U=ls(U,H.mode,G,null),U.return=H,U;ki(H,U)}return null}function se(H,U,G,fe){var Ee=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Ee!==null?null:T(H,U,""+G,fe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return G.key===Ee?L(H,U,G,fe):null;case V:return G.key===Ee?J(H,U,G,fe):null;case Y:return Ee=G._init,se(H,U,Ee(G._payload),fe)}if(z(G)||ae(G))return Ee!==null?null:oe(H,U,G,fe,null);ki(H,G)}return null}function ye(H,U,G,fe,Ee){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return H=H.get(G)||null,T(U,H,""+fe,Ee);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case E:return H=H.get(fe.key===null?G:fe.key)||null,L(U,H,fe,Ee);case V:return H=H.get(fe.key===null?G:fe.key)||null,J(U,H,fe,Ee);case Y:var Te=fe._init;return ye(H,U,G,Te(fe._payload),Ee)}if(z(fe)||ae(fe))return H=H.get(G)||null,oe(U,H,fe,Ee,null);ki(U,fe)}return null}function _e(H,U,G,fe){for(var Ee=null,Te=null,Oe=U,Re=U=0,kt=null;Oe!==null&&Re<G.length;Re++){Oe.index>Re?(kt=Oe,Oe=null):kt=Oe.sibling;var Ue=se(H,Oe,G[Re],fe);if(Ue===null){Oe===null&&(Oe=kt);break}n&&Oe&&Ue.alternate===null&&o(H,Oe),U=x(Ue,U,Re),Te===null?Ee=Ue:Te.sibling=Ue,Te=Ue,Oe=kt}if(Re===G.length)return l(H,Oe),tt&&es(H,Re),Ee;if(Oe===null){for(;Re<G.length;Re++)Oe=le(H,G[Re],fe),Oe!==null&&(U=x(Oe,U,Re),Te===null?Ee=Oe:Te.sibling=Oe,Te=Oe);return tt&&es(H,Re),Ee}for(Oe=d(H,Oe);Re<G.length;Re++)kt=ye(Oe,H,Re,G[Re],fe),kt!==null&&(n&&kt.alternate!==null&&Oe.delete(kt.key===null?Re:kt.key),U=x(kt,U,Re),Te===null?Ee=kt:Te.sibling=kt,Te=kt);return n&&Oe.forEach(function(Tn){return o(H,Tn)}),tt&&es(H,Re),Ee}function Ce(H,U,G,fe){var Ee=ae(G);if(typeof Ee!="function")throw Error(r(150));if(G=Ee.call(G),G==null)throw Error(r(151));for(var Te=Ee=null,Oe=U,Re=U=0,kt=null,Ue=G.next();Oe!==null&&!Ue.done;Re++,Ue=G.next()){Oe.index>Re?(kt=Oe,Oe=null):kt=Oe.sibling;var Tn=se(H,Oe,Ue.value,fe);if(Tn===null){Oe===null&&(Oe=kt);break}n&&Oe&&Tn.alternate===null&&o(H,Oe),U=x(Tn,U,Re),Te===null?Ee=Tn:Te.sibling=Tn,Te=Tn,Oe=kt}if(Ue.done)return l(H,Oe),tt&&es(H,Re),Ee;if(Oe===null){for(;!Ue.done;Re++,Ue=G.next())Ue=le(H,Ue.value,fe),Ue!==null&&(U=x(Ue,U,Re),Te===null?Ee=Ue:Te.sibling=Ue,Te=Ue);return tt&&es(H,Re),Ee}for(Oe=d(H,Oe);!Ue.done;Re++,Ue=G.next())Ue=ye(Oe,H,Re,Ue.value,fe),Ue!==null&&(n&&Ue.alternate!==null&&Oe.delete(Ue.key===null?Re:Ue.key),U=x(Ue,U,Re),Te===null?Ee=Ue:Te.sibling=Ue,Te=Ue);return n&&Oe.forEach(function(u_){return o(H,u_)}),tt&&es(H,Re),Ee}function lt(H,U,G,fe){if(typeof G=="object"&&G!==null&&G.type===A&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case E:e:{for(var Ee=G.key,Te=U;Te!==null;){if(Te.key===Ee){if(Ee=G.type,Ee===A){if(Te.tag===7){l(H,Te.sibling),U=m(Te,G.props.children),U.return=H,H=U;break e}}else if(Te.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Y&&km(Ee)===Te.type){l(H,Te.sibling),U=m(Te,G.props),U.ref=fa(H,Te,G),U.return=H,H=U;break e}l(H,Te);break}else o(H,Te);Te=Te.sibling}G.type===A?(U=ls(G.props.children,H.mode,fe,G.key),U.return=H,H=U):(fe=Ki(G.type,G.key,G.props,null,H.mode,fe),fe.ref=fa(H,U,G),fe.return=H,H=fe)}return w(H);case V:e:{for(Te=G.key;U!==null;){if(U.key===Te)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){l(H,U.sibling),U=m(U,G.children||[]),U.return=H,H=U;break e}else{l(H,U);break}else o(H,U);U=U.sibling}U=Ku(G,H.mode,fe),U.return=H,H=U}return w(H);case Y:return Te=G._init,lt(H,U,Te(G._payload),fe)}if(z(G))return _e(H,U,G,fe);if(ae(G))return Ce(H,U,G,fe);ki(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,U!==null&&U.tag===6?(l(H,U.sibling),U=m(U,G),U.return=H,H=U):(l(H,U),U=Zu(G,H.mode,fe),U.return=H,H=U),w(H)):l(H,U)}return lt}var Ks=Sm(!0),Nm=Sm(!1),Si=bn(null),Ni=null,Gs=null,nu=null;function su(){nu=Gs=Ni=null}function ou(n){var o=Si.current;Qe(Si),n._currentValue=o}function au(n,o,l){for(;n!==null;){var d=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),n===l)break;n=n.return}}function Js(n,o){Ni=n,nu=Gs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&o)!==0&&(Bt=!0),n.firstContext=null)}function cr(n){var o=n._currentValue;if(nu!==n)if(n={context:n,memoizedValue:o,next:null},Gs===null){if(Ni===null)throw Error(r(308));Gs=n,Ni.dependencies={lanes:0,firstContext:n}}else Gs=Gs.next=n;return o}var ts=null;function iu(n){ts===null?ts=[n]:ts.push(n)}function Cm(n,o,l,d){var m=o.interleaved;return m===null?(l.next=l,iu(o)):(l.next=m.next,m.next=l),o.interleaved=l,en(n,d)}function en(n,o){n.lanes|=o;var l=n.alternate;for(l!==null&&(l.lanes|=o),l=n,n=n.return;n!==null;)n.childLanes|=o,l=n.alternate,l!==null&&(l.childLanes|=o),l=n,n=n.return;return l.tag===3?l.stateNode:null}var jn=!1;function lu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Em(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function tn(n,o){return{eventTime:n,lane:o,tag:0,payload:null,callback:null,next:null}}function kn(n,o,l){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(Le&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,en(n,l)}return m=d.interleaved,m===null?(o.next=o,iu(d)):(o.next=m.next,m.next=o),d.interleaved=o,en(n,l)}function Ci(n,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=n.pendingLanes,l|=d,o.lanes=l,_c(n,l)}}function Pm(n,o){var l=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};x===null?m=x=w:x=x.next=w,l=l.next}while(l!==null);x===null?m=x=o:x=x.next=o}else m=x=o;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:d.shared,effects:d.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=o:n.next=o,l.lastBaseUpdate=o}function Ei(n,o,l,d){var m=n.updateQueue;jn=!1;var x=m.firstBaseUpdate,w=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var L=T,J=L.next;L.next=null,w===null?x=J:w.next=J,w=L;var oe=n.alternate;oe!==null&&(oe=oe.updateQueue,T=oe.lastBaseUpdate,T!==w&&(T===null?oe.firstBaseUpdate=J:T.next=J,oe.lastBaseUpdate=L))}if(x!==null){var le=m.baseState;w=0,oe=J=L=null,T=x;do{var se=T.lane,ye=T.eventTime;if((d&se)===se){oe!==null&&(oe=oe.next={eventTime:ye,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var _e=n,Ce=T;switch(se=o,ye=l,Ce.tag){case 1:if(_e=Ce.payload,typeof _e=="function"){le=_e.call(ye,le,se);break e}le=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ce.payload,se=typeof _e=="function"?_e.call(ye,le,se):_e,se==null)break e;le=ie({},le,se);break e;case 2:jn=!0}}T.callback!==null&&T.lane!==0&&(n.flags|=64,se=m.effects,se===null?m.effects=[T]:se.push(T))}else ye={eventTime:ye,lane:se,tag:T.tag,payload:T.payload,callback:T.callback,next:null},oe===null?(J=oe=ye,L=le):oe=oe.next=ye,w|=se;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;se=T,T=se.next,se.next=null,m.lastBaseUpdate=se,m.shared.pending=null}}while(!0);if(oe===null&&(L=le),m.baseState=L,m.firstBaseUpdate=J,m.lastBaseUpdate=oe,o=m.shared.interleaved,o!==null){m=o;do w|=m.lane,m=m.next;while(m!==o)}else x===null&&(m.shared.lanes=0);ss|=w,n.lanes=w,n.memoizedState=le}}function Am(n,o,l){if(n=o.effects,o.effects=null,n!==null)for(o=0;o<n.length;o++){var d=n[o],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(r(191,m));m.call(d)}}}var ha={},Dr=bn(ha),ma=bn(ha),pa=bn(ha);function rs(n){if(n===ha)throw Error(r(174));return n}function cu(n,o){switch(Ze(pa,o),Ze(ma,n),Ze(Dr,ha),n=o.nodeType,n){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Fe(null,"");break;default:n=n===8?o.parentNode:o,o=n.namespaceURI||null,n=n.tagName,o=Fe(o,n)}Qe(Dr),Ze(Dr,o)}function Qs(){Qe(Dr),Qe(ma),Qe(pa)}function Tm(n){rs(pa.current);var o=rs(Dr.current),l=Fe(o,n.type);o!==l&&(Ze(ma,n),Ze(Dr,l))}function uu(n){ma.current===n&&(Qe(Dr),Qe(ma))}var nt=bn(0);function Pi(n){for(var o=n;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var du=[];function fu(){for(var n=0;n<du.length;n++)du[n]._workInProgressVersionPrimary=null;du.length=0}var Ai=D.ReactCurrentDispatcher,hu=D.ReactCurrentBatchConfig,ns=0,st=null,xt=null,_t=null,Ti=!1,ga=!1,xa=0,Ow=0;function At(){throw Error(r(321))}function mu(n,o){if(o===null)return!1;for(var l=0;l<o.length&&l<n.length;l++)if(!wr(n[l],o[l]))return!1;return!0}function pu(n,o,l,d,m,x){if(ns=x,st=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ai.current=n===null||n.memoizedState===null?Dw:Mw,n=l(d,m),ga){x=0;do{if(ga=!1,xa=0,25<=x)throw Error(r(301));x+=1,_t=xt=null,o.updateQueue=null,Ai.current=zw,n=l(d,m)}while(ga)}if(Ai.current=Ii,o=xt!==null&&xt.next!==null,ns=0,_t=xt=st=null,Ti=!1,o)throw Error(r(300));return n}function gu(){var n=xa!==0;return xa=0,n}function Mr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?st.memoizedState=_t=n:_t=_t.next=n,_t}function ur(){if(xt===null){var n=st.alternate;n=n!==null?n.memoizedState:null}else n=xt.next;var o=_t===null?st.memoizedState:_t.next;if(o!==null)_t=o,xt=n;else{if(n===null)throw Error(r(310));xt=n,n={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},_t===null?st.memoizedState=_t=n:_t=_t.next=n}return _t}function va(n,o){return typeof o=="function"?o(n):o}function xu(n){var o=ur(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var d=xt,m=d.baseQueue,x=l.pending;if(x!==null){if(m!==null){var w=m.next;m.next=x.next,x.next=w}d.baseQueue=m=x,l.pending=null}if(m!==null){x=m.next,d=d.baseState;var T=w=null,L=null,J=x;do{var oe=J.lane;if((ns&oe)===oe)L!==null&&(L=L.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),d=J.hasEagerState?J.eagerState:n(d,J.action);else{var le={lane:oe,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};L===null?(T=L=le,w=d):L=L.next=le,st.lanes|=oe,ss|=oe}J=J.next}while(J!==null&&J!==x);L===null?w=d:L.next=T,wr(d,o.memoizedState)||(Bt=!0),o.memoizedState=d,o.baseState=w,o.baseQueue=L,l.lastRenderedState=d}if(n=l.interleaved,n!==null){m=n;do x=m.lane,st.lanes|=x,ss|=x,m=m.next;while(m!==n)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function vu(n){var o=ur(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var d=l.dispatch,m=l.pending,x=o.memoizedState;if(m!==null){l.pending=null;var w=m=m.next;do x=n(x,w.action),w=w.next;while(w!==m);wr(x,o.memoizedState)||(Bt=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),l.lastRenderedState=x}return[x,d]}function Om(){}function Rm(n,o){var l=st,d=ur(),m=o(),x=!wr(d.memoizedState,m);if(x&&(d.memoizedState=m,Bt=!0),d=d.queue,yu(Dm.bind(null,l,d,n),[n]),d.getSnapshot!==o||x||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,ya(9,$m.bind(null,l,d,m,o),void 0,null),jt===null)throw Error(r(349));(ns&30)!==0||Im(l,o,m)}return m}function Im(n,o,l){n.flags|=16384,n={getSnapshot:o,value:l},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.stores=[n]):(l=o.stores,l===null?o.stores=[n]:l.push(n))}function $m(n,o,l,d){o.value=l,o.getSnapshot=d,Mm(o)&&zm(n)}function Dm(n,o,l){return l(function(){Mm(o)&&zm(n)})}function Mm(n){var o=n.getSnapshot;n=n.value;try{var l=o();return!wr(n,l)}catch{return!0}}function zm(n){var o=en(n,1);o!==null&&Nr(o,n,1,-1)}function Fm(n){var o=Mr();return typeof n=="function"&&(n=n()),o.memoizedState=o.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:n},o.queue=n,n=n.dispatch=$w.bind(null,st,n),[o.memoizedState,n]}function ya(n,o,l,d){return n={tag:n,create:o,destroy:l,deps:d,next:null},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.lastEffect=n.next=n):(l=o.lastEffect,l===null?o.lastEffect=n.next=n:(d=l.next,l.next=n,n.next=d,o.lastEffect=n)),n}function Lm(){return ur().memoizedState}function Oi(n,o,l,d){var m=Mr();st.flags|=n,m.memoizedState=ya(1|o,l,void 0,d===void 0?null:d)}function Ri(n,o,l,d){var m=ur();d=d===void 0?null:d;var x=void 0;if(xt!==null){var w=xt.memoizedState;if(x=w.destroy,d!==null&&mu(d,w.deps)){m.memoizedState=ya(o,l,x,d);return}}st.flags|=n,m.memoizedState=ya(1|o,l,x,d)}function Um(n,o){return Oi(8390656,8,n,o)}function yu(n,o){return Ri(2048,8,n,o)}function Vm(n,o){return Ri(4,2,n,o)}function Bm(n,o){return Ri(4,4,n,o)}function Wm(n,o){if(typeof o=="function")return n=n(),o(n),function(){o(null)};if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function qm(n,o,l){return l=l!=null?l.concat([n]):null,Ri(4,4,Wm.bind(null,o,n),l)}function bu(){}function Hm(n,o){var l=ur();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&mu(o,d[1])?d[0]:(l.memoizedState=[n,o],n)}function Zm(n,o){var l=ur();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&mu(o,d[1])?d[0]:(n=n(),l.memoizedState=[n,o],n)}function Km(n,o,l){return(ns&21)===0?(n.baseState&&(n.baseState=!1,Bt=!0),n.memoizedState=l):(wr(l,o)||(l=kh(),st.lanes|=l,ss|=l,n.baseState=!0),o)}function Rw(n,o){var l=qe;qe=l!==0&&4>l?l:4,n(!0);var d=hu.transition;hu.transition={};try{n(!1),o()}finally{qe=l,hu.transition=d}}function Gm(){return ur().memoizedState}function Iw(n,o,l){var d=En(n);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Jm(n))Qm(o,l);else if(l=Cm(n,o,l,d),l!==null){var m=Dt();Nr(l,n,d,m),Ym(l,o,d)}}function $w(n,o,l){var d=En(n),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Jm(n))Qm(o,m);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var w=o.lastRenderedState,T=x(w,l);if(m.hasEagerState=!0,m.eagerState=T,wr(T,w)){var L=o.interleaved;L===null?(m.next=m,iu(o)):(m.next=L.next,L.next=m),o.interleaved=m;return}}catch{}finally{}l=Cm(n,o,m,d),l!==null&&(m=Dt(),Nr(l,n,d,m),Ym(l,o,d))}}function Jm(n){var o=n.alternate;return n===st||o!==null&&o===st}function Qm(n,o){ga=Ti=!0;var l=n.pending;l===null?o.next=o:(o.next=l.next,l.next=o),n.pending=o}function Ym(n,o,l){if((l&4194240)!==0){var d=o.lanes;d&=n.pendingLanes,l|=d,o.lanes=l,_c(n,l)}}var Ii={readContext:cr,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},Dw={readContext:cr,useCallback:function(n,o){return Mr().memoizedState=[n,o===void 0?null:o],n},useContext:cr,useEffect:Um,useImperativeHandle:function(n,o,l){return l=l!=null?l.concat([n]):null,Oi(4194308,4,Wm.bind(null,o,n),l)},useLayoutEffect:function(n,o){return Oi(4194308,4,n,o)},useInsertionEffect:function(n,o){return Oi(4,2,n,o)},useMemo:function(n,o){var l=Mr();return o=o===void 0?null:o,n=n(),l.memoizedState=[n,o],n},useReducer:function(n,o,l){var d=Mr();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:o},d.queue=n,n=n.dispatch=Iw.bind(null,st,n),[d.memoizedState,n]},useRef:function(n){var o=Mr();return n={current:n},o.memoizedState=n},useState:Fm,useDebugValue:bu,useDeferredValue:function(n){return Mr().memoizedState=n},useTransition:function(){var n=Fm(!1),o=n[0];return n=Rw.bind(null,n[1]),Mr().memoizedState=n,[o,n]},useMutableSource:function(){},useSyncExternalStore:function(n,o,l){var d=st,m=Mr();if(tt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),jt===null)throw Error(r(349));(ns&30)!==0||Im(d,o,l)}m.memoizedState=l;var x={value:l,getSnapshot:o};return m.queue=x,Um(Dm.bind(null,d,x,n),[n]),d.flags|=2048,ya(9,$m.bind(null,d,x,l,o),void 0,null),l},useId:function(){var n=Mr(),o=jt.identifierPrefix;if(tt){var l=Xr,d=Yr;l=(d&~(1<<32-br(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=xa++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=Ow++,o=":"+o+"r"+l.toString(32)+":";return n.memoizedState=o},unstable_isNewReconciler:!1},Mw={readContext:cr,useCallback:Hm,useContext:cr,useEffect:yu,useImperativeHandle:qm,useInsertionEffect:Vm,useLayoutEffect:Bm,useMemo:Zm,useReducer:xu,useRef:Lm,useState:function(){return xu(va)},useDebugValue:bu,useDeferredValue:function(n){var o=ur();return Km(o,xt.memoizedState,n)},useTransition:function(){var n=xu(va)[0],o=ur().memoizedState;return[n,o]},useMutableSource:Om,useSyncExternalStore:Rm,useId:Gm,unstable_isNewReconciler:!1},zw={readContext:cr,useCallback:Hm,useContext:cr,useEffect:yu,useImperativeHandle:qm,useInsertionEffect:Vm,useLayoutEffect:Bm,useMemo:Zm,useReducer:vu,useRef:Lm,useState:function(){return vu(va)},useDebugValue:bu,useDeferredValue:function(n){var o=ur();return xt===null?o.memoizedState=n:Km(o,xt.memoizedState,n)},useTransition:function(){var n=vu(va)[0],o=ur().memoizedState;return[n,o]},useMutableSource:Om,useSyncExternalStore:Rm,useId:Gm,unstable_isNewReconciler:!1};function jr(n,o){if(n&&n.defaultProps){o=ie({},o),n=n.defaultProps;for(var l in n)o[l]===void 0&&(o[l]=n[l]);return o}return o}function wu(n,o,l,d){o=n.memoizedState,l=l(d,o),l=l==null?o:ie({},o,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var $i={isMounted:function(n){return(n=n._reactInternals)?Jn(n)===n:!1},enqueueSetState:function(n,o,l){n=n._reactInternals;var d=Dt(),m=En(n),x=tn(d,m);x.payload=o,l!=null&&(x.callback=l),o=kn(n,x,m),o!==null&&(Nr(o,n,m,d),Ci(o,n,m))},enqueueReplaceState:function(n,o,l){n=n._reactInternals;var d=Dt(),m=En(n),x=tn(d,m);x.tag=1,x.payload=o,l!=null&&(x.callback=l),o=kn(n,x,m),o!==null&&(Nr(o,n,m,d),Ci(o,n,m))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var l=Dt(),d=En(n),m=tn(l,d);m.tag=2,o!=null&&(m.callback=o),o=kn(n,m,d),o!==null&&(Nr(o,n,d,l),Ci(o,n,d))}};function Xm(n,o,l,d,m,x,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,x,w):o.prototype&&o.prototype.isPureReactComponent?!oa(l,d)||!oa(m,x):!0}function ep(n,o,l){var d=!1,m=wn,x=o.contextType;return typeof x=="object"&&x!==null?x=cr(x):(m=Vt(o)?Yn:Pt.current,d=o.contextTypes,x=(d=d!=null)?Ws(n,m):wn),o=new o(l,x),n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=$i,n.stateNode=o,o._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=m,n.__reactInternalMemoizedMaskedChildContext=x),o}function tp(n,o,l,d){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==n&&$i.enqueueReplaceState(o,o.state,null)}function _u(n,o,l,d){var m=n.stateNode;m.props=l,m.state=n.memoizedState,m.refs={},lu(n);var x=o.contextType;typeof x=="object"&&x!==null?m.context=cr(x):(x=Vt(o)?Yn:Pt.current,m.context=Ws(n,x)),m.state=n.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(wu(n,o,x,l),m.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&$i.enqueueReplaceState(m,m.state,null),Ei(n,l,m,d),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308)}function Ys(n,o){try{var l="",d=o;do l+=F(d),d=d.return;while(d);var m=l}catch(x){m=`
Error generating stack: `+x.message+`
`+x.stack}return{value:n,source:o,stack:m,digest:null}}function ju(n,o,l){return{value:n,source:null,stack:l??null,digest:o??null}}function ku(n,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var Fw=typeof WeakMap=="function"?WeakMap:Map;function rp(n,o,l){l=tn(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){Vi||(Vi=!0,Fu=d),ku(n,o)},l}function np(n,o,l){l=tn(-1,l),l.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;l.payload=function(){return d(m)},l.callback=function(){ku(n,o)}}var x=n.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(l.callback=function(){ku(n,o),typeof d!="function"&&(Nn===null?Nn=new Set([this]):Nn.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})}),l}function sp(n,o,l){var d=n.pingCache;if(d===null){d=n.pingCache=new Fw;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(l)||(m.add(l),n=Xw.bind(null,n,o,l),o.then(n,n))}function op(n){do{var o;if((o=n.tag===13)&&(o=n.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return n;n=n.return}while(n!==null);return null}function ap(n,o,l,d,m){return(n.mode&1)===0?(n===o?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=tn(-1,1),o.tag=2,kn(l,o,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=m,n)}var Lw=D.ReactCurrentOwner,Bt=!1;function $t(n,o,l,d){o.child=n===null?Nm(o,null,l,d):Ks(o,n.child,l,d)}function ip(n,o,l,d,m){l=l.render;var x=o.ref;return Js(o,m),d=pu(n,o,l,d,x,m),l=gu(),n!==null&&!Bt?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~m,rn(n,o,m)):(tt&&l&&Yc(o),o.flags|=1,$t(n,o,d,m),o.child)}function lp(n,o,l,d,m){if(n===null){var x=l.type;return typeof x=="function"&&!Hu(x)&&x.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=x,cp(n,o,x,d,m)):(n=Ki(l.type,null,d,o,o.mode,m),n.ref=o.ref,n.return=o,o.child=n)}if(x=n.child,(n.lanes&m)===0){var w=x.memoizedProps;if(l=l.compare,l=l!==null?l:oa,l(w,d)&&n.ref===o.ref)return rn(n,o,m)}return o.flags|=1,n=An(x,d),n.ref=o.ref,n.return=o,o.child=n}function cp(n,o,l,d,m){if(n!==null){var x=n.memoizedProps;if(oa(x,d)&&n.ref===o.ref)if(Bt=!1,o.pendingProps=d=x,(n.lanes&m)!==0)(n.flags&131072)!==0&&(Bt=!0);else return o.lanes=n.lanes,rn(n,o,m)}return Su(n,o,l,d,m)}function up(n,o,l){var d=o.pendingProps,m=d.children,x=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(eo,tr),tr|=l;else{if((l&1073741824)===0)return n=x!==null?x.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:n,cachePool:null,transitions:null},o.updateQueue=null,Ze(eo,tr),tr|=n,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=x!==null?x.baseLanes:l,Ze(eo,tr),tr|=d}else x!==null?(d=x.baseLanes|l,o.memoizedState=null):d=l,Ze(eo,tr),tr|=d;return $t(n,o,m,l),o.child}function dp(n,o){var l=o.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Su(n,o,l,d,m){var x=Vt(l)?Yn:Pt.current;return x=Ws(o,x),Js(o,m),l=pu(n,o,l,d,x,m),d=gu(),n!==null&&!Bt?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~m,rn(n,o,m)):(tt&&d&&Yc(o),o.flags|=1,$t(n,o,l,m),o.child)}function fp(n,o,l,d,m){if(Vt(l)){var x=!0;yi(o)}else x=!1;if(Js(o,m),o.stateNode===null)Mi(n,o),ep(o,l,d),_u(o,l,d,m),d=!0;else if(n===null){var w=o.stateNode,T=o.memoizedProps;w.props=T;var L=w.context,J=l.contextType;typeof J=="object"&&J!==null?J=cr(J):(J=Vt(l)?Yn:Pt.current,J=Ws(o,J));var oe=l.getDerivedStateFromProps,le=typeof oe=="function"||typeof w.getSnapshotBeforeUpdate=="function";le||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==d||L!==J)&&tp(o,w,d,J),jn=!1;var se=o.memoizedState;w.state=se,Ei(o,d,w,m),L=o.memoizedState,T!==d||se!==L||Ut.current||jn?(typeof oe=="function"&&(wu(o,l,oe,d),L=o.memoizedState),(T=jn||Xm(o,l,T,d,se,L,J))?(le||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=L),w.props=d,w.state=L,w.context=J,d=T):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{w=o.stateNode,Em(n,o),T=o.memoizedProps,J=o.type===o.elementType?T:jr(o.type,T),w.props=J,le=o.pendingProps,se=w.context,L=l.contextType,typeof L=="object"&&L!==null?L=cr(L):(L=Vt(l)?Yn:Pt.current,L=Ws(o,L));var ye=l.getDerivedStateFromProps;(oe=typeof ye=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==le||se!==L)&&tp(o,w,d,L),jn=!1,se=o.memoizedState,w.state=se,Ei(o,d,w,m);var _e=o.memoizedState;T!==le||se!==_e||Ut.current||jn?(typeof ye=="function"&&(wu(o,l,ye,d),_e=o.memoizedState),(J=jn||Xm(o,l,J,d,se,_e,L)||!1)?(oe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,_e,L),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,_e,L)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||T===n.memoizedProps&&se===n.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&se===n.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=_e),w.props=d,w.state=_e,w.context=L,d=J):(typeof w.componentDidUpdate!="function"||T===n.memoizedProps&&se===n.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&se===n.memoizedState||(o.flags|=1024),d=!1)}return Nu(n,o,l,d,x,m)}function Nu(n,o,l,d,m,x){dp(n,o);var w=(o.flags&128)!==0;if(!d&&!w)return m&&xm(o,l,!1),rn(n,o,x);d=o.stateNode,Lw.current=o;var T=w&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,n!==null&&w?(o.child=Ks(o,n.child,null,x),o.child=Ks(o,null,T,x)):$t(n,o,T,x),o.memoizedState=d.state,m&&xm(o,l,!0),o.child}function hp(n){var o=n.stateNode;o.pendingContext?pm(n,o.pendingContext,o.pendingContext!==o.context):o.context&&pm(n,o.context,!1),cu(n,o.containerInfo)}function mp(n,o,l,d,m){return Zs(),ru(m),o.flags|=256,$t(n,o,l,d),o.child}var Cu={dehydrated:null,treeContext:null,retryLane:0};function Eu(n){return{baseLanes:n,cachePool:null,transitions:null}}function pp(n,o,l){var d=o.pendingProps,m=nt.current,x=!1,w=(o.flags&128)!==0,T;if((T=w)||(T=n!==null&&n.memoizedState===null?!1:(m&2)!==0),T?(x=!0,o.flags&=-129):(n===null||n.memoizedState!==null)&&(m|=1),Ze(nt,m&1),n===null)return tu(o),n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((o.mode&1)===0?o.lanes=1:n.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(w=d.children,n=d.fallback,x?(d=o.mode,x=o.child,w={mode:"hidden",children:w},(d&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=w):x=Gi(w,d,0,null),n=ls(n,d,l,null),x.return=o,n.return=o,x.sibling=n,o.child=x,o.child.memoizedState=Eu(l),o.memoizedState=Cu,n):Pu(o,w));if(m=n.memoizedState,m!==null&&(T=m.dehydrated,T!==null))return Uw(n,o,w,d,T,m,l);if(x){x=d.fallback,w=o.mode,m=n.child,T=m.sibling;var L={mode:"hidden",children:d.children};return(w&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=L,o.deletions=null):(d=An(m,L),d.subtreeFlags=m.subtreeFlags&14680064),T!==null?x=An(T,x):(x=ls(x,w,l,null),x.flags|=2),x.return=o,d.return=o,d.sibling=x,o.child=d,d=x,x=o.child,w=n.child.memoizedState,w=w===null?Eu(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},x.memoizedState=w,x.childLanes=n.childLanes&~l,o.memoizedState=Cu,d}return x=n.child,n=x.sibling,d=An(x,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=l),d.return=o,d.sibling=null,n!==null&&(l=o.deletions,l===null?(o.deletions=[n],o.flags|=16):l.push(n)),o.child=d,o.memoizedState=null,d}function Pu(n,o){return o=Gi({mode:"visible",children:o},n.mode,0,null),o.return=n,n.child=o}function Di(n,o,l,d){return d!==null&&ru(d),Ks(o,n.child,null,l),n=Pu(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function Uw(n,o,l,d,m,x,w){if(l)return o.flags&256?(o.flags&=-257,d=ju(Error(r(422))),Di(n,o,w,d)):o.memoizedState!==null?(o.child=n.child,o.flags|=128,null):(x=d.fallback,m=o.mode,d=Gi({mode:"visible",children:d.children},m,0,null),x=ls(x,m,w,null),x.flags|=2,d.return=o,x.return=o,d.sibling=x,o.child=d,(o.mode&1)!==0&&Ks(o,n.child,null,w),o.child.memoizedState=Eu(w),o.memoizedState=Cu,x);if((o.mode&1)===0)return Di(n,o,w,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var T=d.dgst;return d=T,x=Error(r(419)),d=ju(x,d,void 0),Di(n,o,w,d)}if(T=(w&n.childLanes)!==0,Bt||T){if(d=jt,d!==null){switch(w&-w){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|w))!==0?0:m,m!==0&&m!==x.retryLane&&(x.retryLane=m,en(n,m),Nr(d,n,m,-1))}return qu(),d=ju(Error(r(421))),Di(n,o,w,d)}return m.data==="$?"?(o.flags|=128,o.child=n.child,o=e_.bind(null,n),m._reactRetry=o,null):(n=x.treeContext,er=yn(m.nextSibling),Xt=o,tt=!0,_r=null,n!==null&&(ir[lr++]=Yr,ir[lr++]=Xr,ir[lr++]=Xn,Yr=n.id,Xr=n.overflow,Xn=o),o=Pu(o,d.children),o.flags|=4096,o)}function gp(n,o,l){n.lanes|=o;var d=n.alternate;d!==null&&(d.lanes|=o),au(n.return,o,l)}function Au(n,o,l,d,m){var x=n.memoizedState;x===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=l,x.tailMode=m)}function xp(n,o,l){var d=o.pendingProps,m=d.revealOrder,x=d.tail;if($t(n,o,d.children,l),d=nt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&gp(n,l,o);else if(n.tag===19)gp(n,l,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(Ze(nt,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)n=l.alternate,n!==null&&Pi(n)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Au(o,!1,m,l,x);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(n=m.alternate,n!==null&&Pi(n)===null){o.child=m;break}n=m.sibling,m.sibling=l,l=m,m=n}Au(o,!0,l,null,x);break;case"together":Au(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Mi(n,o){(o.mode&1)===0&&n!==null&&(n.alternate=null,o.alternate=null,o.flags|=2)}function rn(n,o,l){if(n!==null&&(o.dependencies=n.dependencies),ss|=o.lanes,(l&o.childLanes)===0)return null;if(n!==null&&o.child!==n.child)throw Error(r(153));if(o.child!==null){for(n=o.child,l=An(n,n.pendingProps),o.child=l,l.return=o;n.sibling!==null;)n=n.sibling,l=l.sibling=An(n,n.pendingProps),l.return=o;l.sibling=null}return o.child}function Vw(n,o,l){switch(o.tag){case 3:hp(o),Zs();break;case 5:Tm(o);break;case 1:Vt(o.type)&&yi(o);break;case 4:cu(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;Ze(Si,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Ze(nt,nt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?pp(n,o,l):(Ze(nt,nt.current&1),n=rn(n,o,l),n!==null?n.sibling:null);Ze(nt,nt.current&1);break;case 19:if(d=(l&o.childLanes)!==0,(n.flags&128)!==0){if(d)return xp(n,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ze(nt,nt.current),d)break;return null;case 22:case 23:return o.lanes=0,up(n,o,l)}return rn(n,o,l)}var vp,Tu,yp,bp;vp=function(n,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Tu=function(){},yp=function(n,o,l,d){var m=n.memoizedProps;if(m!==d){n=o.stateNode,rs(Dr.current);var x=null;switch(l){case"input":m=Ft(n,m),d=Ft(n,d),x=[];break;case"select":m=ie({},m,{value:void 0}),d=ie({},d,{value:void 0}),x=[];break;case"textarea":m=ee(n,m),d=ee(n,d),x=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=gi)}Ts(l,d);var w;l=null;for(J in m)if(!d.hasOwnProperty(J)&&m.hasOwnProperty(J)&&m[J]!=null)if(J==="style"){var T=m[J];for(w in T)T.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?x||(x=[]):(x=x||[]).push(J,null));for(J in d){var L=d[J];if(T=m?.[J],d.hasOwnProperty(J)&&L!==T&&(L!=null||T!=null))if(J==="style")if(T){for(w in T)!T.hasOwnProperty(w)||L&&L.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in L)L.hasOwnProperty(w)&&T[w]!==L[w]&&(l||(l={}),l[w]=L[w])}else l||(x||(x=[]),x.push(J,l)),l=L;else J==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,T=T?T.__html:void 0,L!=null&&T!==L&&(x=x||[]).push(J,L)):J==="children"?typeof L!="string"&&typeof L!="number"||(x=x||[]).push(J,""+L):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(i.hasOwnProperty(J)?(L!=null&&J==="onScroll"&&Je("scroll",n),x||T===L||(x=[])):(x=x||[]).push(J,L))}l&&(x=x||[]).push("style",l);var J=x;(o.updateQueue=J)&&(o.flags|=4)}},bp=function(n,o,l,d){l!==d&&(o.flags|=4)};function ba(n,o){if(!tt)switch(n.tailMode){case"hidden":o=n.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Tt(n){var o=n.alternate!==null&&n.alternate.child===n.child,l=0,d=0;if(o)for(var m=n.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=d,n.childLanes=l,o}function Bw(n,o,l){var d=o.pendingProps;switch(Xc(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(o),null;case 1:return Vt(o.type)&&vi(),Tt(o),null;case 3:return d=o.stateNode,Qs(),Qe(Ut),Qe(Pt),fu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(ji(o)?o.flags|=4:n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,_r!==null&&(Vu(_r),_r=null))),Tu(n,o),Tt(o),null;case 5:uu(o);var m=rs(pa.current);if(l=o.type,n!==null&&o.stateNode!=null)yp(n,o,l,d,m),n.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(r(166));return Tt(o),null}if(n=rs(Dr.current),ji(o)){d=o.stateNode,l=o.type;var x=o.memoizedProps;switch(d[$r]=o,d[ua]=x,n=(o.mode&1)!==0,l){case"dialog":Je("cancel",d),Je("close",d);break;case"iframe":case"object":case"embed":Je("load",d);break;case"video":case"audio":for(m=0;m<ia.length;m++)Je(ia[m],d);break;case"source":Je("error",d);break;case"img":case"image":case"link":Je("error",d),Je("load",d);break;case"details":Je("toggle",d);break;case"input":Kr(d,x),Je("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!x.multiple},Je("invalid",d);break;case"textarea":ve(d,x),Je("invalid",d)}Ts(l,x),m=null;for(var w in x)if(x.hasOwnProperty(w)){var T=x[w];w==="children"?typeof T=="string"?d.textContent!==T&&(x.suppressHydrationWarning!==!0&&pi(d.textContent,T,n),m=["children",T]):typeof T=="number"&&d.textContent!==""+T&&(x.suppressHydrationWarning!==!0&&pi(d.textContent,T,n),m=["children",""+T]):i.hasOwnProperty(w)&&T!=null&&w==="onScroll"&&Je("scroll",d)}switch(l){case"input":Ie(d),dc(d,x,!0);break;case"textarea":Ie(d),he(d);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(d.onclick=gi)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{w=m.nodeType===9?m:m.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Pe(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=w.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=w.createElement(l,{is:d.is}):(n=w.createElement(l),l==="select"&&(w=n,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):n=w.createElementNS(n,l),n[$r]=o,n[ua]=d,vp(n,o,!1,!1),o.stateNode=n;e:{switch(w=Bo(l,d),l){case"dialog":Je("cancel",n),Je("close",n),m=d;break;case"iframe":case"object":case"embed":Je("load",n),m=d;break;case"video":case"audio":for(m=0;m<ia.length;m++)Je(ia[m],n);m=d;break;case"source":Je("error",n),m=d;break;case"img":case"image":case"link":Je("error",n),Je("load",n),m=d;break;case"details":Je("toggle",n),m=d;break;case"input":Kr(n,d),m=Ft(n,d),Je("invalid",n);break;case"option":m=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},m=ie({},d,{value:void 0}),Je("invalid",n);break;case"textarea":ve(n,d),m=ee(n,d),Je("invalid",n);break;default:m=d}Ts(l,m),T=m;for(x in T)if(T.hasOwnProperty(x)){var L=T[x];x==="style"?As(n,L):x==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&It(n,L)):x==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&Rr(n,L):typeof L=="number"&&Rr(n,""+L):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?L!=null&&x==="onScroll"&&Je("scroll",n):L!=null&&P(n,x,L,w))}switch(l){case"input":Ie(n),dc(n,d,!1);break;case"textarea":Ie(n),he(n);break;case"option":d.value!=null&&n.setAttribute("value",""+Q(d.value));break;case"select":n.multiple=!!d.multiple,x=d.value,x!=null?K(n,!!d.multiple,x,!1):d.defaultValue!=null&&K(n,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(n.onclick=gi)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Tt(o),null;case 6:if(n&&o.stateNode!=null)bp(n,o,n.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(l=rs(pa.current),rs(Dr.current),ji(o)){if(d=o.stateNode,l=o.memoizedProps,d[$r]=o,(x=d.nodeValue!==l)&&(n=Xt,n!==null))switch(n.tag){case 3:pi(d.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&pi(d.nodeValue,l,(n.mode&1)!==0)}x&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[$r]=o,o.stateNode=d}return Tt(o),null;case 13:if(Qe(nt),d=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(tt&&er!==null&&(o.mode&1)!==0&&(o.flags&128)===0)jm(),Zs(),o.flags|=98560,x=!1;else if(x=ji(o),d!==null&&d.dehydrated!==null){if(n===null){if(!x)throw Error(r(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[$r]=o}else Zs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Tt(o),x=!1}else _r!==null&&(Vu(_r),_r=null),x=!0;if(!x)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(n===null||(nt.current&1)!==0?vt===0&&(vt=3):qu())),o.updateQueue!==null&&(o.flags|=4),Tt(o),null);case 4:return Qs(),Tu(n,o),n===null&&la(o.stateNode.containerInfo),Tt(o),null;case 10:return ou(o.type._context),Tt(o),null;case 17:return Vt(o.type)&&vi(),Tt(o),null;case 19:if(Qe(nt),x=o.memoizedState,x===null)return Tt(o),null;if(d=(o.flags&128)!==0,w=x.rendering,w===null)if(d)ba(x,!1);else{if(vt!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(w=Pi(n),w!==null){for(o.flags|=128,ba(x,!1),d=w.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)x=l,n=d,x.flags&=14680066,w=x.alternate,w===null?(x.childLanes=0,x.lanes=n,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=w.childLanes,x.lanes=w.lanes,x.child=w.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=w.memoizedProps,x.memoizedState=w.memoizedState,x.updateQueue=w.updateQueue,x.type=w.type,n=w.dependencies,x.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return Ze(nt,nt.current&1|2),o.child}n=n.sibling}x.tail!==null&&it()>to&&(o.flags|=128,d=!0,ba(x,!1),o.lanes=4194304)}else{if(!d)if(n=Pi(w),n!==null){if(o.flags|=128,d=!0,l=n.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),ba(x,!0),x.tail===null&&x.tailMode==="hidden"&&!w.alternate&&!tt)return Tt(o),null}else 2*it()-x.renderingStartTime>to&&l!==1073741824&&(o.flags|=128,d=!0,ba(x,!1),o.lanes=4194304);x.isBackwards?(w.sibling=o.child,o.child=w):(l=x.last,l!==null?l.sibling=w:o.child=w,x.last=w)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=it(),o.sibling=null,l=nt.current,Ze(nt,d?l&1|2:l&1),o):(Tt(o),null);case 22:case 23:return Wu(),d=o.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(tr&1073741824)!==0&&(Tt(o),o.subtreeFlags&6&&(o.flags|=8192)):Tt(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function Ww(n,o){switch(Xc(o),o.tag){case 1:return Vt(o.type)&&vi(),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return Qs(),Qe(Ut),Qe(Pt),fu(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 5:return uu(o),null;case 13:if(Qe(nt),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Zs()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return Qe(nt),null;case 4:return Qs(),null;case 10:return ou(o.type._context),null;case 22:case 23:return Wu(),null;case 24:return null;default:return null}}var zi=!1,Ot=!1,qw=typeof WeakSet=="function"?WeakSet:Set,we=null;function Xs(n,o){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){at(n,o,d)}else l.current=null}function Ou(n,o,l){try{l()}catch(d){at(n,o,d)}}var wp=!1;function Hw(n,o){if(Wc=si,n=Xh(),Dc(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var w=0,T=-1,L=-1,J=0,oe=0,le=n,se=null;t:for(;;){for(var ye;le!==l||m!==0&&le.nodeType!==3||(T=w+m),le!==x||d!==0&&le.nodeType!==3||(L=w+d),le.nodeType===3&&(w+=le.nodeValue.length),(ye=le.firstChild)!==null;)se=le,le=ye;for(;;){if(le===n)break t;if(se===l&&++J===m&&(T=w),se===x&&++oe===d&&(L=w),(ye=le.nextSibling)!==null)break;le=se,se=le.parentNode}le=ye}l=T===-1||L===-1?null:{start:T,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(qc={focusedElem:n,selectionRange:l},si=!1,we=o;we!==null;)if(o=we,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,we=n;else for(;we!==null;){o=we;try{var _e=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var Ce=_e.memoizedProps,lt=_e.memoizedState,H=o.stateNode,U=H.getSnapshotBeforeUpdate(o.elementType===o.type?Ce:jr(o.type,Ce),lt);H.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var G=o.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(fe){at(o,o.return,fe)}if(n=o.sibling,n!==null){n.return=o.return,we=n;break}we=o.return}return _e=wp,wp=!1,_e}function wa(n,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&n)===n){var x=m.destroy;m.destroy=void 0,x!==void 0&&Ou(o,l,x)}m=m.next}while(m!==d)}}function Fi(n,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&n)===n){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function Ru(n){var o=n.ref;if(o!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof o=="function"?o(n):o.current=n}}function _p(n){var o=n.alternate;o!==null&&(n.alternate=null,_p(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&(delete o[$r],delete o[ua],delete o[Gc],delete o[Ew],delete o[Pw])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function jp(n){return n.tag===5||n.tag===3||n.tag===4}function kp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||jp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Iu(n,o,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(n,o):l.insertBefore(n,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(n,l)):(o=l,o.appendChild(n)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=gi));else if(d!==4&&(n=n.child,n!==null))for(Iu(n,o,l),n=n.sibling;n!==null;)Iu(n,o,l),n=n.sibling}function $u(n,o,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,o?l.insertBefore(n,o):l.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for($u(n,o,l),n=n.sibling;n!==null;)$u(n,o,l),n=n.sibling}var Ct=null,kr=!1;function Sn(n,o,l){for(l=l.child;l!==null;)Sp(n,o,l),l=l.sibling}function Sp(n,o,l){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(Ya,l)}catch{}switch(l.tag){case 5:Ot||Xs(l,o);case 6:var d=Ct,m=kr;Ct=null,Sn(n,o,l),Ct=d,kr=m,Ct!==null&&(kr?(n=Ct,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):Ct.removeChild(l.stateNode));break;case 18:Ct!==null&&(kr?(n=Ct,l=l.stateNode,n.nodeType===8?Kc(n.parentNode,l):n.nodeType===1&&Kc(n,l),Xo(n)):Kc(Ct,l.stateNode));break;case 4:d=Ct,m=kr,Ct=l.stateNode.containerInfo,kr=!0,Sn(n,o,l),Ct=d,kr=m;break;case 0:case 11:case 14:case 15:if(!Ot&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var x=m,w=x.destroy;x=x.tag,w!==void 0&&((x&2)!==0||(x&4)!==0)&&Ou(l,o,w),m=m.next}while(m!==d)}Sn(n,o,l);break;case 1:if(!Ot&&(Xs(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(T){at(l,o,T)}Sn(n,o,l);break;case 21:Sn(n,o,l);break;case 22:l.mode&1?(Ot=(d=Ot)||l.memoizedState!==null,Sn(n,o,l),Ot=d):Sn(n,o,l);break;default:Sn(n,o,l)}}function Np(n){var o=n.updateQueue;if(o!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new qw),o.forEach(function(d){var m=t_.bind(null,n,d);l.has(d)||(l.add(d),d.then(m,m))})}}function Sr(n,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var x=n,w=o,T=w;e:for(;T!==null;){switch(T.tag){case 5:Ct=T.stateNode,kr=!1;break e;case 3:Ct=T.stateNode.containerInfo,kr=!0;break e;case 4:Ct=T.stateNode.containerInfo,kr=!0;break e}T=T.return}if(Ct===null)throw Error(r(160));Sp(x,w,m),Ct=null,kr=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(J){at(m,o,J)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Cp(o,n),o=o.sibling}function Cp(n,o){var l=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Sr(o,n),zr(n),d&4){try{wa(3,n,n.return),Fi(3,n)}catch(Ce){at(n,n.return,Ce)}try{wa(5,n,n.return)}catch(Ce){at(n,n.return,Ce)}}break;case 1:Sr(o,n),zr(n),d&512&&l!==null&&Xs(l,l.return);break;case 5:if(Sr(o,n),zr(n),d&512&&l!==null&&Xs(l,l.return),n.flags&32){var m=n.stateNode;try{Rr(m,"")}catch(Ce){at(n,n.return,Ce)}}if(d&4&&(m=n.stateNode,m!=null)){var x=n.memoizedProps,w=l!==null?l.memoizedProps:x,T=n.type,L=n.updateQueue;if(n.updateQueue=null,L!==null)try{T==="input"&&x.type==="radio"&&x.name!=null&&fn(m,x),Bo(T,w);var J=Bo(T,x);for(w=0;w<L.length;w+=2){var oe=L[w],le=L[w+1];oe==="style"?As(m,le):oe==="dangerouslySetInnerHTML"?It(m,le):oe==="children"?Rr(m,le):P(m,oe,le,J)}switch(T){case"input":Gr(m,x);break;case"textarea":ge(m,x);break;case"select":var se=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!x.multiple;var ye=x.value;ye!=null?K(m,!!x.multiple,ye,!1):se!==!!x.multiple&&(x.defaultValue!=null?K(m,!!x.multiple,x.defaultValue,!0):K(m,!!x.multiple,x.multiple?[]:"",!1))}m[ua]=x}catch(Ce){at(n,n.return,Ce)}}break;case 6:if(Sr(o,n),zr(n),d&4){if(n.stateNode===null)throw Error(r(162));m=n.stateNode,x=n.memoizedProps;try{m.nodeValue=x}catch(Ce){at(n,n.return,Ce)}}break;case 3:if(Sr(o,n),zr(n),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Xo(o.containerInfo)}catch(Ce){at(n,n.return,Ce)}break;case 4:Sr(o,n),zr(n);break;case 13:Sr(o,n),zr(n),m=n.child,m.flags&8192&&(x=m.memoizedState!==null,m.stateNode.isHidden=x,!x||m.alternate!==null&&m.alternate.memoizedState!==null||(zu=it())),d&4&&Np(n);break;case 22:if(oe=l!==null&&l.memoizedState!==null,n.mode&1?(Ot=(J=Ot)||oe,Sr(o,n),Ot=J):Sr(o,n),zr(n),d&8192){if(J=n.memoizedState!==null,(n.stateNode.isHidden=J)&&!oe&&(n.mode&1)!==0)for(we=n,oe=n.child;oe!==null;){for(le=we=oe;we!==null;){switch(se=we,ye=se.child,se.tag){case 0:case 11:case 14:case 15:wa(4,se,se.return);break;case 1:Xs(se,se.return);var _e=se.stateNode;if(typeof _e.componentWillUnmount=="function"){d=se,l=se.return;try{o=d,_e.props=o.memoizedProps,_e.state=o.memoizedState,_e.componentWillUnmount()}catch(Ce){at(d,l,Ce)}}break;case 5:Xs(se,se.return);break;case 22:if(se.memoizedState!==null){Ap(le);continue}}ye!==null?(ye.return=se,we=ye):Ap(le)}oe=oe.sibling}e:for(oe=null,le=n;;){if(le.tag===5){if(oe===null){oe=le;try{m=le.stateNode,J?(x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(T=le.stateNode,L=le.memoizedProps.style,w=L!=null&&L.hasOwnProperty("display")?L.display:null,T.style.display=Ps("display",w))}catch(Ce){at(n,n.return,Ce)}}}else if(le.tag===6){if(oe===null)try{le.stateNode.nodeValue=J?"":le.memoizedProps}catch(Ce){at(n,n.return,Ce)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===n)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===n)break e;for(;le.sibling===null;){if(le.return===null||le.return===n)break e;oe===le&&(oe=null),le=le.return}oe===le&&(oe=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Sr(o,n),zr(n),d&4&&Np(n);break;case 21:break;default:Sr(o,n),zr(n)}}function zr(n){var o=n.flags;if(o&2){try{e:{for(var l=n.return;l!==null;){if(jp(l)){var d=l;break e}l=l.return}throw Error(r(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Rr(m,""),d.flags&=-33);var x=kp(n);$u(n,x,m);break;case 3:case 4:var w=d.stateNode.containerInfo,T=kp(n);Iu(n,T,w);break;default:throw Error(r(161))}}catch(L){at(n,n.return,L)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function Zw(n,o,l){we=n,Ep(n)}function Ep(n,o,l){for(var d=(n.mode&1)!==0;we!==null;){var m=we,x=m.child;if(m.tag===22&&d){var w=m.memoizedState!==null||zi;if(!w){var T=m.alternate,L=T!==null&&T.memoizedState!==null||Ot;T=zi;var J=Ot;if(zi=w,(Ot=L)&&!J)for(we=m;we!==null;)w=we,L=w.child,w.tag===22&&w.memoizedState!==null?Tp(m):L!==null?(L.return=w,we=L):Tp(m);for(;x!==null;)we=x,Ep(x),x=x.sibling;we=m,zi=T,Ot=J}Pp(n)}else(m.subtreeFlags&8772)!==0&&x!==null?(x.return=m,we=x):Pp(n)}}function Pp(n){for(;we!==null;){var o=we;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ot||Fi(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Ot)if(l===null)d.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:jr(o.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&Am(o,x,d);break;case 3:var w=o.updateQueue;if(w!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Am(o,w,l)}break;case 5:var T=o.stateNode;if(l===null&&o.flags&4){l=T;var L=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var J=o.alternate;if(J!==null){var oe=J.memoizedState;if(oe!==null){var le=oe.dehydrated;le!==null&&Xo(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ot||o.flags&512&&Ru(o)}catch(se){at(o,o.return,se)}}if(o===n){we=null;break}if(l=o.sibling,l!==null){l.return=o.return,we=l;break}we=o.return}}function Ap(n){for(;we!==null;){var o=we;if(o===n){we=null;break}var l=o.sibling;if(l!==null){l.return=o.return,we=l;break}we=o.return}}function Tp(n){for(;we!==null;){var o=we;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Fi(4,o)}catch(L){at(o,l,L)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(L){at(o,m,L)}}var x=o.return;try{Ru(o)}catch(L){at(o,x,L)}break;case 5:var w=o.return;try{Ru(o)}catch(L){at(o,w,L)}}}catch(L){at(o,o.return,L)}if(o===n){we=null;break}var T=o.sibling;if(T!==null){T.return=o.return,we=T;break}we=o.return}}var Kw=Math.ceil,Li=D.ReactCurrentDispatcher,Du=D.ReactCurrentOwner,dr=D.ReactCurrentBatchConfig,Le=0,jt=null,dt=null,Et=0,tr=0,eo=bn(0),vt=0,_a=null,ss=0,Ui=0,Mu=0,ja=null,Wt=null,zu=0,to=1/0,nn=null,Vi=!1,Fu=null,Nn=null,Bi=!1,Cn=null,Wi=0,ka=0,Lu=null,qi=-1,Hi=0;function Dt(){return(Le&6)!==0?it():qi!==-1?qi:qi=it()}function En(n){return(n.mode&1)===0?1:(Le&2)!==0&&Et!==0?Et&-Et:Tw.transition!==null?(Hi===0&&(Hi=kh()),Hi):(n=qe,n!==0||(n=window.event,n=n===void 0?16:Rh(n.type)),n)}function Nr(n,o,l,d){if(50<ka)throw ka=0,Lu=null,Error(r(185));Ko(n,l,d),((Le&2)===0||n!==jt)&&(n===jt&&((Le&2)===0&&(Ui|=l),vt===4&&Pn(n,Et)),qt(n,d),l===1&&Le===0&&(o.mode&1)===0&&(to=it()+500,bi&&_n()))}function qt(n,o){var l=n.callbackNode;Tb(n,o);var d=ti(n,n===jt?Et:0);if(d===0)l!==null&&wh(l),n.callbackNode=null,n.callbackPriority=0;else if(o=d&-d,n.callbackPriority!==o){if(l!=null&&wh(l),o===1)n.tag===0?Aw(Rp.bind(null,n)):vm(Rp.bind(null,n)),Nw(function(){(Le&6)===0&&_n()}),l=null;else{switch(Sh(d)){case 1:l=yc;break;case 4:l=_h;break;case 16:l=Qa;break;case 536870912:l=jh;break;default:l=Qa}l=Up(l,Op.bind(null,n))}n.callbackPriority=o,n.callbackNode=l}}function Op(n,o){if(qi=-1,Hi=0,(Le&6)!==0)throw Error(r(327));var l=n.callbackNode;if(ro()&&n.callbackNode!==l)return null;var d=ti(n,n===jt?Et:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||o)o=Zi(n,d);else{o=d;var m=Le;Le|=2;var x=$p();(jt!==n||Et!==o)&&(nn=null,to=it()+500,as(n,o));do try{Qw();break}catch(T){Ip(n,T)}while(!0);su(),Li.current=x,Le=m,dt!==null?o=0:(jt=null,Et=0,o=vt)}if(o!==0){if(o===2&&(m=bc(n),m!==0&&(d=m,o=Uu(n,m))),o===1)throw l=_a,as(n,0),Pn(n,d),qt(n,it()),l;if(o===6)Pn(n,d);else{if(m=n.current.alternate,(d&30)===0&&!Gw(m)&&(o=Zi(n,d),o===2&&(x=bc(n),x!==0&&(d=x,o=Uu(n,x))),o===1))throw l=_a,as(n,0),Pn(n,d),qt(n,it()),l;switch(n.finishedWork=m,n.finishedLanes=d,o){case 0:case 1:throw Error(r(345));case 2:is(n,Wt,nn);break;case 3:if(Pn(n,d),(d&130023424)===d&&(o=zu+500-it(),10<o)){if(ti(n,0)!==0)break;if(m=n.suspendedLanes,(m&d)!==d){Dt(),n.pingedLanes|=n.suspendedLanes&m;break}n.timeoutHandle=Zc(is.bind(null,n,Wt,nn),o);break}is(n,Wt,nn);break;case 4:if(Pn(n,d),(d&4194240)===d)break;for(o=n.eventTimes,m=-1;0<d;){var w=31-br(d);x=1<<w,w=o[w],w>m&&(m=w),d&=~x}if(d=m,d=it()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Kw(d/1960))-d,10<d){n.timeoutHandle=Zc(is.bind(null,n,Wt,nn),d);break}is(n,Wt,nn);break;case 5:is(n,Wt,nn);break;default:throw Error(r(329))}}}return qt(n,it()),n.callbackNode===l?Op.bind(null,n):null}function Uu(n,o){var l=ja;return n.current.memoizedState.isDehydrated&&(as(n,o).flags|=256),n=Zi(n,o),n!==2&&(o=Wt,Wt=l,o!==null&&Vu(o)),n}function Vu(n){Wt===null?Wt=n:Wt.push.apply(Wt,n)}function Gw(n){for(var o=n;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],x=m.getSnapshot;m=m.value;try{if(!wr(x(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Pn(n,o){for(o&=~Mu,o&=~Ui,n.suspendedLanes|=o,n.pingedLanes&=~o,n=n.expirationTimes;0<o;){var l=31-br(o),d=1<<l;n[l]=-1,o&=~d}}function Rp(n){if((Le&6)!==0)throw Error(r(327));ro();var o=ti(n,0);if((o&1)===0)return qt(n,it()),null;var l=Zi(n,o);if(n.tag!==0&&l===2){var d=bc(n);d!==0&&(o=d,l=Uu(n,d))}if(l===1)throw l=_a,as(n,0),Pn(n,o),qt(n,it()),l;if(l===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=o,is(n,Wt,nn),qt(n,it()),null}function Bu(n,o){var l=Le;Le|=1;try{return n(o)}finally{Le=l,Le===0&&(to=it()+500,bi&&_n())}}function os(n){Cn!==null&&Cn.tag===0&&(Le&6)===0&&ro();var o=Le;Le|=1;var l=dr.transition,d=qe;try{if(dr.transition=null,qe=1,n)return n()}finally{qe=d,dr.transition=l,Le=o,(Le&6)===0&&_n()}}function Wu(){tr=eo.current,Qe(eo)}function as(n,o){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,Sw(l)),dt!==null)for(l=dt.return;l!==null;){var d=l;switch(Xc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&vi();break;case 3:Qs(),Qe(Ut),Qe(Pt),fu();break;case 5:uu(d);break;case 4:Qs();break;case 13:Qe(nt);break;case 19:Qe(nt);break;case 10:ou(d.type._context);break;case 22:case 23:Wu()}l=l.return}if(jt=n,dt=n=An(n.current,null),Et=tr=o,vt=0,_a=null,Mu=Ui=ss=0,Wt=ja=null,ts!==null){for(o=0;o<ts.length;o++)if(l=ts[o],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,x=l.pending;if(x!==null){var w=x.next;x.next=m,d.next=w}l.pending=d}ts=null}return n}function Ip(n,o){do{var l=dt;try{if(su(),Ai.current=Ii,Ti){for(var d=st.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Ti=!1}if(ns=0,_t=xt=st=null,ga=!1,xa=0,Du.current=null,l===null||l.return===null){vt=1,_a=o,dt=null;break}e:{var x=n,w=l.return,T=l,L=o;if(o=Et,T.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var J=L,oe=T,le=oe.tag;if((oe.mode&1)===0&&(le===0||le===11||le===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ye=op(w);if(ye!==null){ye.flags&=-257,ap(ye,w,T,x,o),ye.mode&1&&sp(x,J,o),o=ye,L=J;var _e=o.updateQueue;if(_e===null){var Ce=new Set;Ce.add(L),o.updateQueue=Ce}else _e.add(L);break e}else{if((o&1)===0){sp(x,J,o),qu();break e}L=Error(r(426))}}else if(tt&&T.mode&1){var lt=op(w);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),ap(lt,w,T,x,o),ru(Ys(L,T));break e}}x=L=Ys(L,T),vt!==4&&(vt=2),ja===null?ja=[x]:ja.push(x),x=w;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var H=rp(x,L,o);Pm(x,H);break e;case 1:T=L;var U=x.type,G=x.stateNode;if((x.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Nn===null||!Nn.has(G)))){x.flags|=65536,o&=-o,x.lanes|=o;var fe=np(x,T,o);Pm(x,fe);break e}}x=x.return}while(x!==null)}Mp(l)}catch(Ee){o=Ee,dt===l&&l!==null&&(dt=l=l.return);continue}break}while(!0)}function $p(){var n=Li.current;return Li.current=Ii,n===null?Ii:n}function qu(){(vt===0||vt===3||vt===2)&&(vt=4),jt===null||(ss&268435455)===0&&(Ui&268435455)===0||Pn(jt,Et)}function Zi(n,o){var l=Le;Le|=2;var d=$p();(jt!==n||Et!==o)&&(nn=null,as(n,o));do try{Jw();break}catch(m){Ip(n,m)}while(!0);if(su(),Le=l,Li.current=d,dt!==null)throw Error(r(261));return jt=null,Et=0,vt}function Jw(){for(;dt!==null;)Dp(dt)}function Qw(){for(;dt!==null&&!_b();)Dp(dt)}function Dp(n){var o=Lp(n.alternate,n,tr);n.memoizedProps=n.pendingProps,o===null?Mp(n):dt=o,Du.current=null}function Mp(n){var o=n;do{var l=o.alternate;if(n=o.return,(o.flags&32768)===0){if(l=Bw(l,o,tr),l!==null){dt=l;return}}else{if(l=Ww(l,o),l!==null){l.flags&=32767,dt=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{vt=6,dt=null;return}}if(o=o.sibling,o!==null){dt=o;return}dt=o=n}while(o!==null);vt===0&&(vt=5)}function is(n,o,l){var d=qe,m=dr.transition;try{dr.transition=null,qe=1,Yw(n,o,l,d)}finally{dr.transition=m,qe=d}return null}function Yw(n,o,l,d){do ro();while(Cn!==null);if((Le&6)!==0)throw Error(r(327));l=n.finishedWork;var m=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var x=l.lanes|l.childLanes;if(Ob(n,x),n===jt&&(dt=jt=null,Et=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Bi||(Bi=!0,Up(Qa,function(){return ro(),null})),x=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||x){x=dr.transition,dr.transition=null;var w=qe;qe=1;var T=Le;Le|=4,Du.current=null,Hw(n,l),Cp(l,n),vw(qc),si=!!Wc,qc=Wc=null,n.current=l,Zw(l),jb(),Le=T,qe=w,dr.transition=x}else n.current=l;if(Bi&&(Bi=!1,Cn=n,Wi=m),x=n.pendingLanes,x===0&&(Nn=null),Nb(l.stateNode),qt(n,it()),o!==null)for(d=n.onRecoverableError,l=0;l<o.length;l++)m=o[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(Vi)throw Vi=!1,n=Fu,Fu=null,n;return(Wi&1)!==0&&n.tag!==0&&ro(),x=n.pendingLanes,(x&1)!==0?n===Lu?ka++:(ka=0,Lu=n):ka=0,_n(),null}function ro(){if(Cn!==null){var n=Sh(Wi),o=dr.transition,l=qe;try{if(dr.transition=null,qe=16>n?16:n,Cn===null)var d=!1;else{if(n=Cn,Cn=null,Wi=0,(Le&6)!==0)throw Error(r(331));var m=Le;for(Le|=4,we=n.current;we!==null;){var x=we,w=x.child;if((we.flags&16)!==0){var T=x.deletions;if(T!==null){for(var L=0;L<T.length;L++){var J=T[L];for(we=J;we!==null;){var oe=we;switch(oe.tag){case 0:case 11:case 15:wa(8,oe,x)}var le=oe.child;if(le!==null)le.return=oe,we=le;else for(;we!==null;){oe=we;var se=oe.sibling,ye=oe.return;if(_p(oe),oe===J){we=null;break}if(se!==null){se.return=ye,we=se;break}we=ye}}}var _e=x.alternate;if(_e!==null){var Ce=_e.child;if(Ce!==null){_e.child=null;do{var lt=Ce.sibling;Ce.sibling=null,Ce=lt}while(Ce!==null)}}we=x}}if((x.subtreeFlags&2064)!==0&&w!==null)w.return=x,we=w;else e:for(;we!==null;){if(x=we,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:wa(9,x,x.return)}var H=x.sibling;if(H!==null){H.return=x.return,we=H;break e}we=x.return}}var U=n.current;for(we=U;we!==null;){w=we;var G=w.child;if((w.subtreeFlags&2064)!==0&&G!==null)G.return=w,we=G;else e:for(w=U;we!==null;){if(T=we,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Fi(9,T)}}catch(Ee){at(T,T.return,Ee)}if(T===w){we=null;break e}var fe=T.sibling;if(fe!==null){fe.return=T.return,we=fe;break e}we=T.return}}if(Le=m,_n(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(Ya,n)}catch{}d=!0}return d}finally{qe=l,dr.transition=o}}return!1}function zp(n,o,l){o=Ys(l,o),o=rp(n,o,1),n=kn(n,o,1),o=Dt(),n!==null&&(Ko(n,1,o),qt(n,o))}function at(n,o,l){if(n.tag===3)zp(n,n,l);else for(;o!==null;){if(o.tag===3){zp(o,n,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Nn===null||!Nn.has(d))){n=Ys(l,n),n=np(o,n,1),o=kn(o,n,1),n=Dt(),o!==null&&(Ko(o,1,n),qt(o,n));break}}o=o.return}}function Xw(n,o,l){var d=n.pingCache;d!==null&&d.delete(o),o=Dt(),n.pingedLanes|=n.suspendedLanes&l,jt===n&&(Et&l)===l&&(vt===4||vt===3&&(Et&130023424)===Et&&500>it()-zu?as(n,0):Mu|=l),qt(n,o)}function Fp(n,o){o===0&&((n.mode&1)===0?o=1:(o=ei,ei<<=1,(ei&130023424)===0&&(ei=4194304)));var l=Dt();n=en(n,o),n!==null&&(Ko(n,o,l),qt(n,l))}function e_(n){var o=n.memoizedState,l=0;o!==null&&(l=o.retryLane),Fp(n,l)}function t_(n,o){var l=0;switch(n.tag){case 13:var d=n.stateNode,m=n.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(r(314))}d!==null&&d.delete(o),Fp(n,l)}var Lp;Lp=function(n,o,l){if(n!==null)if(n.memoizedProps!==o.pendingProps||Ut.current)Bt=!0;else{if((n.lanes&l)===0&&(o.flags&128)===0)return Bt=!1,Vw(n,o,l);Bt=(n.flags&131072)!==0}else Bt=!1,tt&&(o.flags&1048576)!==0&&ym(o,_i,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Mi(n,o),n=o.pendingProps;var m=Ws(o,Pt.current);Js(o,l),m=pu(null,o,d,n,m,l);var x=gu();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Vt(d)?(x=!0,yi(o)):x=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,lu(o),m.updater=$i,o.stateNode=m,m._reactInternals=o,_u(o,d,n,l),o=Nu(null,o,d,!0,x,l)):(o.tag=0,tt&&x&&Yc(o),$t(null,o,m,l),o=o.child),o;case 16:d=o.elementType;e:{switch(Mi(n,o),n=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=n_(d),n=jr(d,n),m){case 0:o=Su(null,o,d,n,l);break e;case 1:o=fp(null,o,d,n,l);break e;case 11:o=ip(null,o,d,n,l);break e;case 14:o=lp(null,o,d,jr(d.type,n),l);break e}throw Error(r(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:jr(d,m),Su(n,o,d,m,l);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:jr(d,m),fp(n,o,d,m,l);case 3:e:{if(hp(o),n===null)throw Error(r(387));d=o.pendingProps,x=o.memoizedState,m=x.element,Em(n,o),Ei(o,d,null,l);var w=o.memoizedState;if(d=w.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){m=Ys(Error(r(423)),o),o=mp(n,o,d,l,m);break e}else if(d!==m){m=Ys(Error(r(424)),o),o=mp(n,o,d,l,m);break e}else for(er=yn(o.stateNode.containerInfo.firstChild),Xt=o,tt=!0,_r=null,l=Nm(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Zs(),d===m){o=rn(n,o,l);break e}$t(n,o,d,l)}o=o.child}return o;case 5:return Tm(o),n===null&&tu(o),d=o.type,m=o.pendingProps,x=n!==null?n.memoizedProps:null,w=m.children,Hc(d,m)?w=null:x!==null&&Hc(d,x)&&(o.flags|=32),dp(n,o),$t(n,o,w,l),o.child;case 6:return n===null&&tu(o),null;case 13:return pp(n,o,l);case 4:return cu(o,o.stateNode.containerInfo),d=o.pendingProps,n===null?o.child=Ks(o,null,d,l):$t(n,o,d,l),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:jr(d,m),ip(n,o,d,m,l);case 7:return $t(n,o,o.pendingProps,l),o.child;case 8:return $t(n,o,o.pendingProps.children,l),o.child;case 12:return $t(n,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,x=o.memoizedProps,w=m.value,Ze(Si,d._currentValue),d._currentValue=w,x!==null)if(wr(x.value,w)){if(x.children===m.children&&!Ut.current){o=rn(n,o,l);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var T=x.dependencies;if(T!==null){w=x.child;for(var L=T.firstContext;L!==null;){if(L.context===d){if(x.tag===1){L=tn(-1,l&-l),L.tag=2;var J=x.updateQueue;if(J!==null){J=J.shared;var oe=J.pending;oe===null?L.next=L:(L.next=oe.next,oe.next=L),J.pending=L}}x.lanes|=l,L=x.alternate,L!==null&&(L.lanes|=l),au(x.return,l,o),T.lanes|=l;break}L=L.next}}else if(x.tag===10)w=x.type===o.type?null:x.child;else if(x.tag===18){if(w=x.return,w===null)throw Error(r(341));w.lanes|=l,T=w.alternate,T!==null&&(T.lanes|=l),au(w,l,o),w=x.sibling}else w=x.child;if(w!==null)w.return=x;else for(w=x;w!==null;){if(w===o){w=null;break}if(x=w.sibling,x!==null){x.return=w.return,w=x;break}w=w.return}x=w}$t(n,o,m.children,l),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Js(o,l),m=cr(m),d=d(m),o.flags|=1,$t(n,o,d,l),o.child;case 14:return d=o.type,m=jr(d,o.pendingProps),m=jr(d.type,m),lp(n,o,d,m,l);case 15:return cp(n,o,o.type,o.pendingProps,l);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:jr(d,m),Mi(n,o),o.tag=1,Vt(d)?(n=!0,yi(o)):n=!1,Js(o,l),ep(o,d,m),_u(o,d,m,l),Nu(null,o,d,!0,n,l);case 19:return xp(n,o,l);case 22:return up(n,o,l)}throw Error(r(156,o.tag))};function Up(n,o){return bh(n,o)}function r_(n,o,l,d){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(n,o,l,d){return new r_(n,o,l,d)}function Hu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function n_(n){if(typeof n=="function")return Hu(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ue)return 11;if(n===te)return 14}return 2}function An(n,o){var l=n.alternate;return l===null?(l=fr(n.tag,o,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=o,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,o=n.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function Ki(n,o,l,d,m,x){var w=2;if(d=n,typeof n=="function")Hu(n)&&(w=1);else if(typeof n=="string")w=5;else e:switch(n){case A:return ls(l.children,m,x,o);case M:w=8,m|=8;break;case I:return n=fr(12,l,o,m|2),n.elementType=I,n.lanes=x,n;case X:return n=fr(13,l,o,m),n.elementType=X,n.lanes=x,n;case ce:return n=fr(19,l,o,m),n.elementType=ce,n.lanes=x,n;case re:return Gi(l,m,x,o);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case de:w=10;break e;case be:w=9;break e;case ue:w=11;break e;case te:w=14;break e;case Y:w=16,d=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return o=fr(w,l,o,m),o.elementType=n,o.type=d,o.lanes=x,o}function ls(n,o,l,d){return n=fr(7,n,d,o),n.lanes=l,n}function Gi(n,o,l,d){return n=fr(22,n,d,o),n.elementType=re,n.lanes=l,n.stateNode={isHidden:!1},n}function Zu(n,o,l){return n=fr(6,n,null,o),n.lanes=l,n}function Ku(n,o,l){return o=fr(4,n.children!==null?n.children:[],n.key,o),o.lanes=l,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}function s_(n,o,l,d,m){this.tag=o,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wc(0),this.expirationTimes=wc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wc(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Gu(n,o,l,d,m,x,w,T,L){return n=new s_(n,o,l,T,L),o===1?(o=1,x===!0&&(o|=8)):o=0,x=fr(3,null,null,o),n.current=x,x.stateNode=n,x.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},lu(x),n}function o_(n,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:d==null?null:""+d,children:n,containerInfo:o,implementation:l}}function Vp(n){if(!n)return wn;n=n._reactInternals;e:{if(Jn(n)!==n||n.tag!==1)throw Error(r(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Vt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(n.tag===1){var l=n.type;if(Vt(l))return gm(n,l,o)}return o}function Bp(n,o,l,d,m,x,w,T,L){return n=Gu(l,d,!0,n,m,x,w,T,L),n.context=Vp(null),l=n.current,d=Dt(),m=En(l),x=tn(d,m),x.callback=o??null,kn(l,x,m),n.current.lanes=m,Ko(n,m,d),qt(n,d),n}function Ji(n,o,l,d){var m=o.current,x=Dt(),w=En(m);return l=Vp(l),o.context===null?o.context=l:o.pendingContext=l,o=tn(x,w),o.payload={element:n},d=d===void 0?null:d,d!==null&&(o.callback=d),n=kn(m,o,w),n!==null&&(Nr(n,m,w,x),Ci(n,m,w)),w}function Qi(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Wp(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<o?l:o}}function Ju(n,o){Wp(n,o),(n=n.alternate)&&Wp(n,o)}function a_(){return null}var qp=typeof reportError=="function"?reportError:function(n){console.error(n)};function Qu(n){this._internalRoot=n}Yi.prototype.render=Qu.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(r(409));Ji(n,o,null,null)},Yi.prototype.unmount=Qu.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;os(function(){Ji(null,n,null,null)}),o[Jr]=null}};function Yi(n){this._internalRoot=n}Yi.prototype.unstable_scheduleHydration=function(n){if(n){var o=Eh();n={blockedOn:null,target:n,priority:o};for(var l=0;l<gn.length&&o!==0&&o<gn[l].priority;l++);gn.splice(l,0,n),l===0&&Th(n)}};function Yu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Xi(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Hp(){}function i_(n,o,l,d,m){if(m){if(typeof d=="function"){var x=d;d=function(){var J=Qi(w);x.call(J)}}var w=Bp(o,d,n,0,null,!1,!1,"",Hp);return n._reactRootContainer=w,n[Jr]=w.current,la(n.nodeType===8?n.parentNode:n),os(),w}for(;m=n.lastChild;)n.removeChild(m);if(typeof d=="function"){var T=d;d=function(){var J=Qi(L);T.call(J)}}var L=Gu(n,0,!1,null,null,!1,!1,"",Hp);return n._reactRootContainer=L,n[Jr]=L.current,la(n.nodeType===8?n.parentNode:n),os(function(){Ji(o,L,l,d)}),L}function el(n,o,l,d,m){var x=l._reactRootContainer;if(x){var w=x;if(typeof m=="function"){var T=m;m=function(){var L=Qi(w);T.call(L)}}Ji(o,w,n,m)}else w=i_(l,o,n,m,d);return Qi(w)}Nh=function(n){switch(n.tag){case 3:var o=n.stateNode;if(o.current.memoizedState.isDehydrated){var l=Zo(o.pendingLanes);l!==0&&(_c(o,l|1),qt(o,it()),(Le&6)===0&&(to=it()+500,_n()))}break;case 13:os(function(){var d=en(n,1);if(d!==null){var m=Dt();Nr(d,n,1,m)}}),Ju(n,1)}},jc=function(n){if(n.tag===13){var o=en(n,134217728);if(o!==null){var l=Dt();Nr(o,n,134217728,l)}Ju(n,134217728)}},Ch=function(n){if(n.tag===13){var o=En(n),l=en(n,o);if(l!==null){var d=Dt();Nr(l,n,o,d)}Ju(n,o)}},Eh=function(){return qe},Ph=function(n,o){var l=qe;try{return qe=n,o()}finally{qe=l}},pc=function(n,o,l){switch(o){case"input":if(Gr(n,l),o=l.name,l.type==="radio"&&o!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==n&&d.form===n.form){var m=xi(d);if(!m)throw Error(r(90));Ve(d),Gr(d,m)}}}break;case"textarea":ge(n,l);break;case"select":o=l.value,o!=null&&K(n,!!l.multiple,o,!1)}},hh=Bu,mh=os;var l_={usingClientEntryPoint:!1,Events:[da,Vs,xi,dh,fh,Bu]},Sa={findFiberByHostInstance:Qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c_={bundleType:Sa.bundleType,version:Sa.version,rendererPackageName:Sa.rendererPackageName,rendererConfig:Sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=vh(n),n===null?null:n.stateNode},findFiberByHostInstance:Sa.findFiberByHostInstance||a_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{Ya=tl.inject(c_),Ir=tl}catch{}}return Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l_,Ht.createPortal=function(n,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yu(o))throw Error(r(200));return o_(n,o,null,l)},Ht.createRoot=function(n,o){if(!Yu(n))throw Error(r(299));var l=!1,d="",m=qp;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Gu(n,1,!1,null,null,l,!1,d,m),n[Jr]=o.current,la(n.nodeType===8?n.parentNode:n),new Qu(o)},Ht.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=vh(o),n=n===null?null:n.stateNode,n},Ht.flushSync=function(n){return os(n)},Ht.hydrate=function(n,o,l){if(!Xi(o))throw Error(r(200));return el(null,n,o,!0,l)},Ht.hydrateRoot=function(n,o,l){if(!Yu(n))throw Error(r(405));var d=l!=null&&l.hydratedSources||null,m=!1,x="",w=qp;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),o=Bp(o,null,n,1,l??null,m,!1,x,w),n[Jr]=o.current,la(n),d)for(n=0;n<d.length;n++)l=d[n],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new Yi(o)},Ht.render=function(n,o,l){if(!Xi(o))throw Error(r(200));return el(null,n,o,!1,l)},Ht.unmountComponentAtNode=function(n){if(!Xi(n))throw Error(r(40));return n._reactRootContainer?(os(function(){el(null,null,n,!1,function(){n._reactRootContainer=null,n[Jr]=null})}),!0):!1},Ht.unstable_batchedUpdates=Bu,Ht.unstable_renderSubtreeIntoContainer=function(n,o,l,d){if(!Xi(l))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return el(n,o,l,!1,d)},Ht.version="18.3.1-next-f1338f8080-20240426",Ht}var eg;function J0(){if(eg)return td.exports;eg=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),td.exports=v_(),td.exports}var tg;function y_(){if(tg)return rl;tg=1;var e=J0();return rl.createRoot=e.createRoot,rl.hydrateRoot=e.hydrateRoot,rl}var b_=y_();/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ne=(e,t)=>{const r=_.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:u,className:f="",children:h,...g},p)=>_.createElement("svg",{ref:p,...w_,width:i,height:i,stroke:s,strokeWidth:u?Number(c)*24/Number(i):c,className:["lucide",`lucide-${__(e)}`,f].join(" "),...g},[...t.map(([v,y])=>_.createElement(v,y)),...Array.isArray(h)?h:[h]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=Ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=Ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=Ne("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=Ne("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=Ne("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=Ne("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=Ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Ne("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=Ne("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=Ne("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=Ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=Ne("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Ne("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=Ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=Ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=Ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=Ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=Ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=Ne("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=Ne("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=Ne("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=Ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=Ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=Ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=Ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=Ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=Ne("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=Ne("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=Ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=Ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=Ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=Ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=Ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=Ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=Ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=Ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=Ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=Ne("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=Ne("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=Ne("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=Ne("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=Ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),ax=_.createContext(void 0),Ba=()=>{const e=_.useContext(ax);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},H_=[{id:"1",name:"Administrador",email:"admin@marcenaria.com",role:"admin",active:!0,created_at:"2024-01-01T10:00:00Z",password:"admin123"},{id:"2",name:"João Silva",email:"joao@marcenaria.com",role:"user",active:!0,created_at:"2024-01-15T10:00:00Z",password:"user123"}],Z_=({children:e})=>{const[t,r]=_.useState(null),[s,i]=_.useState(H_),[c,u]=_.useState(!1);_.useEffect(()=>{const j=localStorage.getItem("currentUser");if(j){const S=JSON.parse(j);r(S),u(!0)}},[]);const f=async(j,S)=>{const b=s.find(N=>N.email===j&&N.password===S&&N.active);if(b){const N={id:b.id,name:b.name,email:b.email,role:b.role,active:b.active,created_at:b.created_at,last_login:new Date().toISOString()};return r(N),u(!0),localStorage.setItem("currentUser",JSON.stringify(N)),i(k=>k.map(C=>C.id===b.id?{...C,last_login:new Date().toISOString()}:C)),!0}return!1},h=()=>{r(null),u(!1),localStorage.removeItem("currentUser")},g=j=>{const S={...j,id:Date.now().toString(),created_at:new Date().toISOString()};i(b=>[...b,S])},p=(j,S)=>{if(i(b=>b.map(N=>N.id===j?{...N,...S}:N)),t&&t.id===j){const b={...t,...S};r(b),localStorage.setItem("currentUser",JSON.stringify(b))}},v=j=>{i(S=>S.filter(b=>b.id!==j))},y=(j,S)=>{i(b=>b.map(N=>N.id===j?{...N,password:S}:N))};return a.jsx(ax.Provider,{value:{user:t,users:s.map(({password:j,...S})=>S),isAuthenticated:c,login:f,logout:h,addUser:g,updateUser:p,deleteUser:v,changePassword:y},children:e})},K_="marcenaria_db",G_=1,sd=["clients","products","product_components","projects","project_products","transactions","stock_movements"];class J_{db=null;deviceId;constructor(){this.deviceId=this.getOrCreateDeviceId()}getOrCreateDeviceId(){let t=localStorage.getItem("device_id");return t||(t="device_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("device_id",t)),t}async initialize(){return new Promise((t,r)=>{const s=indexedDB.open(K_,G_);s.onerror=()=>r(s.error),s.onsuccess=()=>{this.db=s.result,t()},s.onupgradeneeded=i=>{const c=i.target.result;sd.forEach(u=>{if(!c.objectStoreNames.contains(u)){const f=c.createObjectStore(u,{keyPath:"id"});f.createIndex("created_at","created_at",{unique:!1}),f.createIndex("updated_at","updated_at",{unique:!1}),f.createIndex("_sync_status","_sync_status",{unique:!1}),f.createIndex("_version","_version",{unique:!1}),u==="products"?(f.createIndex("name","name",{unique:!1}),f.createIndex("category","category",{unique:!1}),f.createIndex("type","type",{unique:!1})):u==="clients"?(f.createIndex("name","name",{unique:!1}),f.createIndex("email","email",{unique:!1})):u==="projects"?(f.createIndex("client_id","client_id",{unique:!1}),f.createIndex("status","status",{unique:!1}),f.createIndex("number","number",{unique:!0})):u==="product_components"?(f.createIndex("parent_product_id","parent_product_id",{unique:!1}),f.createIndex("component_product_id","component_product_id",{unique:!1})):u==="project_products"?(f.createIndex("project_id","project_id",{unique:!1}),f.createIndex("product_id","product_id",{unique:!1})):u==="transactions"?(f.createIndex("type","type",{unique:!1}),f.createIndex("date","date",{unique:!1}),f.createIndex("project_id","project_id",{unique:!1})):u==="stock_movements"&&(f.createIndex("product_id","product_id",{unique:!1}),f.createIndex("project_id","project_id",{unique:!1}),f.createIndex("movement_date","movement_date",{unique:!1}))}})}})}ensureDb(){if(!this.db)throw new Error("Database not initialized. Call initialize() first.");return this.db}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2,9)}addMetadata(t){const r=new Date().toISOString();return{...t,id:t.id||this.generateId(),created_at:t.created_at||r,updated_at:r,_version:(t._version||0)+1,_device_id:this.deviceId,_sync_status:"pending"}}async get(t,r){const s=this.ensureDb();return new Promise((i,c)=>{const h=s.transaction(t,"readonly").objectStore(t).get(r);h.onsuccess=()=>i(h.result||null),h.onerror=()=>c(h.error)})}async list(t,r){return this.query(t,r||{})}async create(t,r){const s=this.ensureDb(),i=this.addMetadata(r);return new Promise((c,u)=>{const g=s.transaction(t,"readwrite").objectStore(t).add(i);g.onsuccess=()=>c(i),g.onerror=()=>u(g.error)})}async update(t,r,s){const i=this.ensureDb(),c=await this.get(t,r);if(!c)throw new Error(`Record with id ${r} not found in ${t}`);const u=this.addMetadata({...c,...s,id:r});return new Promise((f,h)=>{const v=i.transaction(t,"readwrite").objectStore(t).put(u);v.onsuccess=()=>f(u),v.onerror=()=>h(v.error)})}async delete(t,r){const s=this.ensureDb();return new Promise((i,c)=>{const h=s.transaction(t,"readwrite").objectStore(t).delete(r);h.onsuccess=()=>i(),h.onerror=()=>c(h.error)})}async query(t,r){const s=this.ensureDb();return new Promise((i,c)=>{const f=s.transaction(t,"readonly").objectStore(t);let h;if(r.where&&Object.keys(r.where).length>0){const[g,p]=Object.entries(r.where)[0];f.indexNames.contains(g)?h=f.index(g).getAll(p):h=f.getAll()}else h=f.getAll();h.onsuccess=()=>{let g=h.result||[];if(r.where&&(g=g.filter(p=>Object.entries(r.where).every(([v,y])=>p[v]===y))),r.orderBy){const p=r.order||"asc";g.sort((v,y)=>{const j=v[r.orderBy],S=y[r.orderBy];return j<S?p==="asc"?-1:1:j>S?p==="asc"?1:-1:0})}r.offset&&(g=g.slice(r.offset)),r.limit&&(g=g.slice(0,r.limit)),i(g)},h.onerror=()=>c(h.error)})}async bulkCreate(t,r){const s=this.ensureDb(),i=r.map(c=>this.addMetadata(c));return new Promise((c,u)=>{const h=s.transaction(t,"readwrite").objectStore(t),g=i.map(p=>new Promise((v,y)=>{const j=h.add(p);j.onsuccess=()=>v(),j.onerror=()=>y(j.error)}));Promise.all(g).then(()=>c(i)).catch(u)})}async bulkUpdate(t,r){const s=[];for(const i of r){const c=await this.update(t,i.id,i.data);s.push(c)}return s}async bulkDelete(t,r){const s=this.ensureDb();return new Promise((i,c)=>{const f=s.transaction(t,"readwrite").objectStore(t),h=r.map(g=>new Promise((p,v)=>{const y=f.delete(g);y.onsuccess=()=>p(),y.onerror=()=>v(y.error)}));Promise.all(h).then(()=>i()).catch(c)})}async count(t,r){return(await this.query(t,r||{})).length}async exists(t,r){return await this.get(t,r)!==null}async clear(t){const r=this.ensureDb();return new Promise((s,i)=>{const f=r.transaction(t,"readwrite").objectStore(t).clear();f.onsuccess=()=>s(),f.onerror=()=>i(f.error)})}async export(t){const r=t||sd,s={};for(const i of r)s[i]=await this.list(i);return s}async import(t){for(const[r,s]of Object.entries(t))sd.includes(r)&&(await this.clear(r),s.length>0&&await this.bulkCreate(r,s))}}const Q_="modulepreload",Y_=function(e){return"/"+e},og={},$o=function(t,r,s){let i=Promise.resolve();if(r&&r.length>0){let h=function(g){return Promise.all(g.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");i=h(r.map(g=>{if(g=Y_(g),g in og)return;og[g]=!0;const p=g.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":Q_,p||(y.as="script"),y.crossOrigin="",y.href=g,f&&y.setAttribute("nonce",f),document.head.appendChild(y),p)return new Promise((j,S)=>{y.addEventListener("load",j),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return i.then(u=>{for(const f of u||[])f.status==="rejected"&&c(f.reason);return t().catch(c)})},X_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$o(async()=>{const{default:s}=await Promise.resolve().then(()=>Do);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)};class Af extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class ag extends Af{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ig extends Af{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class lg extends Af{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ud;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ud||(Ud={}));var ej=function(e,t,r,s){function i(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(p){try{g(s.next(p))}catch(v){u(v)}}function h(p){try{g(s.throw(p))}catch(v){u(v)}}function g(p){p.done?c(p.value):i(p.value).then(f,h)}g((s=s.apply(e,t||[])).next())})};class tj{constructor(t,{headers:r={},customFetch:s,region:i=Ud.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=X_(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var s;return ej(this,void 0,void 0,function*(){try{const{headers:i,method:c,body:u,signal:f}=r;let h={},{region:g}=r;g||(g=this.region);const p=new URL(`${this.url}/${t}`);g&&g!=="any"&&(h["x-region"]=g,p.searchParams.set("forceFunctionRegion",g));let v;u&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(h["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(h["Content-Type"]="application/json",v=JSON.stringify(u)));const y=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),i),body:v,signal:f}).catch(N=>{throw N.name==="AbortError"?N:new ag(N)}),j=y.headers.get("x-relay-error");if(j&&j==="true")throw new ig(y);if(!y.ok)throw new lg(y);let S=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return S==="application/json"?b=yield y.json():S==="application/octet-stream"?b=yield y.blob():S==="text/event-stream"?b=y:S==="multipart/form-data"?b=yield y.formData():b=yield y.text(),{data:b,error:null,response:y}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new ag(i)}:{data:null,error:i,response:i instanceof lg||i instanceof ig?i.context:void 0}}})}}var St={},no={},so={},oo={},ao={},io={},rj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},To=rj();const nj=To.fetch,ix=To.fetch.bind(To),lx=To.Headers,sj=To.Request,oj=To.Response,Do=Object.freeze(Object.defineProperty({__proto__:null,Headers:lx,Request:sj,Response:oj,default:ix,fetch:nj},Symbol.toStringTag,{value:"Module"})),aj=f_(Do);var nl={},cg;function cx(){if(cg)return nl;cg=1,Object.defineProperty(nl,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return nl.default=e,nl}var ug;function ux(){if(ug)return io;ug=1;var e=io&&io.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(io,"__esModule",{value:!0});const t=e(aj),r=e(cx());class s{constructor(c){var u,f;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(u=c.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=c.signal,this.isMaybeSingle=(f=c.isMaybeSingle)!==null&&f!==void 0?f:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=new Headers(this.headers),this.headers.set(c,u),this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let h=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var p,v,y,j;let S=null,b=null,N=null,k=g.status,C=g.statusText;if(g.ok){if(this.method!=="HEAD"){const V=await g.text();V===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?b=V:b=JSON.parse(V))}const D=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),E=(y=g.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");D&&E&&E.length>1&&(N=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(S={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,N=null,k=406,C="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const D=await g.text();try{S=JSON.parse(D),Array.isArray(S)&&g.status===404&&(b=[],S=null,k=200,C="OK")}catch{g.status===404&&D===""?(k=204,C="No Content"):S={message:D}}if(S&&this.isMaybeSingle&&(!((j=S?.details)===null||j===void 0)&&j.includes("0 rows"))&&(S=null,k=200,C="OK"),S&&this.shouldThrowOnError)throw new r.default(S)}return{error:S,data:b,count:N,status:k,statusText:C}});return this.shouldThrowOnError||(h=h.catch(g=>{var p,v,y;return{error:{message:`${(p=g?.name)!==null&&p!==void 0?p:"FetchError"}: ${g?.message}`,details:`${(v=g?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(y=g?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),h.then(c,u)}returns(){return this}overrideTypes(){return this}}return io.default=s,io}var dg;function dx(){if(dg)return ao;dg=1;var e=ao&&ao.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ao,"__esModule",{value:!0});const t=e(ux());class r extends t.default{select(i){let c=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:c=!0,nullsFirst:u,foreignTable:f,referencedTable:h=f}={}){const g=h?`${h}.order`:"order",p=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${p?`${p},`:""}${i}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:c,referencedTable:u=c}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${i}`),this}range(i,c,{foreignTable:u,referencedTable:f=u}={}){const h=typeof f>"u"?"offset":`${f}.offset`,g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(g,`${c-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:c=!1,settings:u=!1,buffers:f=!1,wal:h=!1,format:g="text"}={}){var p;const v=[i?"analyze":null,c?"verbose":null,u?"settings":null,f?"buffers":null,h?"wal":null].filter(Boolean).join("|"),y=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${y}"; options=${v};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return ao.default=r,ao}var fg;function Tf(){if(fg)return oo;fg=1;var e=oo&&oo.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(oo,"__esModule",{value:!0});const t=e(dx());class r extends t.default{eq(i,c){return this.url.searchParams.append(i,`eq.${c}`),this}neq(i,c){return this.url.searchParams.append(i,`neq.${c}`),this}gt(i,c){return this.url.searchParams.append(i,`gt.${c}`),this}gte(i,c){return this.url.searchParams.append(i,`gte.${c}`),this}lt(i,c){return this.url.searchParams.append(i,`lt.${c}`),this}lte(i,c){return this.url.searchParams.append(i,`lte.${c}`),this}like(i,c){return this.url.searchParams.append(i,`like.${c}`),this}likeAllOf(i,c){return this.url.searchParams.append(i,`like(all).{${c.join(",")}}`),this}likeAnyOf(i,c){return this.url.searchParams.append(i,`like(any).{${c.join(",")}}`),this}ilike(i,c){return this.url.searchParams.append(i,`ilike.${c}`),this}ilikeAllOf(i,c){return this.url.searchParams.append(i,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(i,c){return this.url.searchParams.append(i,`ilike(any).{${c.join(",")}}`),this}is(i,c){return this.url.searchParams.append(i,`is.${c}`),this}in(i,c){const u=Array.from(new Set(c)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(i,`in.(${u})`),this}contains(i,c){return typeof c=="string"?this.url.searchParams.append(i,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(i,`cs.{${c.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(c)}`),this}containedBy(i,c){return typeof c=="string"?this.url.searchParams.append(i,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(i,`cd.{${c.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(c)}`),this}rangeGt(i,c){return this.url.searchParams.append(i,`sr.${c}`),this}rangeGte(i,c){return this.url.searchParams.append(i,`nxl.${c}`),this}rangeLt(i,c){return this.url.searchParams.append(i,`sl.${c}`),this}rangeLte(i,c){return this.url.searchParams.append(i,`nxr.${c}`),this}rangeAdjacent(i,c){return this.url.searchParams.append(i,`adj.${c}`),this}overlaps(i,c){return typeof c=="string"?this.url.searchParams.append(i,`ov.${c}`):this.url.searchParams.append(i,`ov.{${c.join(",")}}`),this}textSearch(i,c,{config:u,type:f}={}){let h="";f==="plain"?h="pl":f==="phrase"?h="ph":f==="websearch"&&(h="w");const g=u===void 0?"":`(${u})`;return this.url.searchParams.append(i,`${h}fts${g}.${c}`),this}match(i){return Object.entries(i).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(i,c,u){return this.url.searchParams.append(i,`not.${c}.${u}`),this}or(i,{foreignTable:c,referencedTable:u=c}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${i})`),this}filter(i,c,u){return this.url.searchParams.append(i,`${c}.${u}`),this}}return oo.default=r,oo}var hg;function fx(){if(hg)return so;hg=1;var e=so&&so.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(so,"__esModule",{value:!0});const t=e(Tf());class r{constructor(i,{headers:c={},schema:u,fetch:f}){this.url=i,this.headers=new Headers(c),this.schema=u,this.fetch=f}select(i,{head:c=!1,count:u}={}){const f=c?"HEAD":"GET";let h=!1;const g=(i??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",g),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:c,defaultToNull:u=!0}={}){var f;const h="POST";if(c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(g.length>0){const p=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(i,{onConflict:c,ignoreDuplicates:u=!1,count:f,defaultToNull:h=!0}={}){var g;const p="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),f&&this.headers.append("Prefer",`count=${f}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const v=i.reduce((y,j)=>y.concat(Object.keys(j)),[]);if(v.length>0){const y=[...new Set(v)].map(j=>`"${j}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(i,{count:c}={}){var u;const f="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:i}={}){var c;const u="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return so.default=r,so}var mg;function ij(){if(mg)return no;mg=1;var e=no&&no.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(no,"__esModule",{value:!0});const t=e(fx()),r=e(Tf());class s{constructor(c,{headers:u={},schema:f,fetch:h}={}){this.url=c,this.headers=new Headers(u),this.schemaName=f,this.fetch=h}from(c){const u=new URL(`${this.url}/${c}`);return new t.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new s(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:f=!1,get:h=!1,count:g}={}){var p;let v;const y=new URL(`${this.url}/rpc/${c}`);let j;f||h?(v=f?"HEAD":"GET",Object.entries(u).filter(([b,N])=>N!==void 0).map(([b,N])=>[b,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([b,N])=>{y.searchParams.append(b,N)})):(v="POST",j=u);const S=new Headers(this.headers);return g&&S.set("Prefer",`count=${g}`),new r.default({method:v,url:y,headers:S,schema:this.schemaName,body:j,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return no.default=s,no}var pg;function lj(){if(pg)return St;pg=1;var e=St&&St.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(St,"__esModule",{value:!0}),St.PostgrestError=St.PostgrestBuilder=St.PostgrestTransformBuilder=St.PostgrestFilterBuilder=St.PostgrestQueryBuilder=St.PostgrestClient=void 0;const t=e(ij());St.PostgrestClient=t.default;const r=e(fx());St.PostgrestQueryBuilder=r.default;const s=e(Tf());St.PostgrestFilterBuilder=s.default;const i=e(dx());St.PostgrestTransformBuilder=i.default;const c=e(ux());St.PostgrestBuilder=c.default;const u=e(cx());return St.PostgrestError=u.default,St.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:c.default,PostgrestError:u.default},St}var cj=lj();const uj=jf(cj),{PostgrestClient:dj,PostgrestQueryBuilder:zT,PostgrestFilterBuilder:FT,PostgrestTransformBuilder:LT,PostgrestBuilder:UT,PostgrestError:VT}=uj;class fj{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const s=this.getWebSocketConstructor();return new s(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const hj="2.15.5",mj=`realtime-js/${hj}`,pj="1.0.0",Vd=1e4,gj=1e3,xj=100;var $a;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($a||($a={}));var bt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(bt||(bt={}));var Er;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Er||(Er={}));var Bd;(function(e){e.websocket="websocket"})(Bd||(Bd={}));var hs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(hs||(hs={}));class vj{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,r,s)}_decodeBroadcast(t,r,s){const i=r.getUint8(1),c=r.getUint8(2);let u=this.HEADER_LENGTH+2;const f=s.decode(t.slice(u,u+i));u=u+i;const h=s.decode(t.slice(u,u+c));u=u+c;const g=JSON.parse(s.decode(t.slice(u,t.byteLength)));return{ref:null,topic:f,event:h,payload:g}}}class hx{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ke||(Ke={}));const gg=(e,t,r={})=>{var s;const i=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((c,u)=>(c[u]=yj(u,e,t,i),c),{})},yj=(e,t,r,s)=>{const i=t.find(f=>f.name===e),c=i?.type,u=r[e];return c&&!s.includes(c)?mx(c,u):Wd(u)},mx=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return jj(t,r)}switch(e){case Ke.bool:return bj(t);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return wj(t);case Ke.json:case Ke.jsonb:return _j(t);case Ke.timestamp:return kj(t);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return Wd(t);default:return Wd(t)}},Wd=e=>e,bj=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},wj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},_j=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},jj=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,s=e[r];if(e[0]==="{"&&s==="}"){let c;const u=e.slice(1,r);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(f=>mx(t,f))}return e},kj=e=>typeof e=="string"?e.replace(" ","T"):e,px=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class od{constructor(t,r,s={},i=Vd){this.channel=t,this.event=r,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var xg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(xg||(xg={}));class Da{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:c,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Da.syncState(this.state,i,c,u),this.pendingDiffs.forEach(h=>{this.state=Da.syncDiff(this.state,h,c,u)}),this.pendingDiffs=[],f()}),this.channel._on(s.diff,{},i=>{const{onJoin:c,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Da.syncDiff(this.state,i,c,u),f())}),this.onJoin((i,c,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:c,newPresences:u})}),this.onLeave((i,c,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,i){const c=this.cloneDeep(t),u=this.transformState(r),f={},h={};return this.map(c,(g,p)=>{u[g]||(h[g]=p)}),this.map(u,(g,p)=>{const v=c[g];if(v){const y=p.map(N=>N.presence_ref),j=v.map(N=>N.presence_ref),S=p.filter(N=>j.indexOf(N.presence_ref)<0),b=v.filter(N=>y.indexOf(N.presence_ref)<0);S.length>0&&(f[g]=S),b.length>0&&(h[g]=b)}else f[g]=p}),this.syncDiff(c,{joins:f,leaves:h},s,i)}static syncDiff(t,r,s,i){const{joins:c,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(c,(f,h)=>{var g;const p=(g=t[f])!==null&&g!==void 0?g:[];if(t[f]=this.cloneDeep(h),p.length>0){const v=t[f].map(j=>j.presence_ref),y=p.filter(j=>v.indexOf(j.presence_ref)<0);t[f].unshift(...y)}s(f,p,h)}),this.map(u,(f,h)=>{let g=t[f];if(!g)return;const p=h.map(v=>v.presence_ref);g=g.filter(v=>p.indexOf(v.presence_ref)<0),t[f]=g,i(f,g,h),g.length===0&&delete t[f]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const i=t[s];return"metas"in i?r[s]=i.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[s]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(vg||(vg={}));var Ma;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ma||(Ma={}));var an;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(an||(an={}));class Of{constructor(t,r={config:{}},s){this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new od(this,Er.join,this.params,this.timeout),this.rejoinTimer=new hx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Er.reply,{},(i,c)=>{this._trigger(this._replyEventName(c),i)}),this.presence=new Da(this),this.broadcastEndpointURL=px(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var s,i,c;if(this.socket.isConnected()||this.socket.connect(),this.state==bt.closed){const{config:{broadcast:u,presence:f,private:h}}=this.params,g=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(j=>j.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Ma.PRESENCE]&&this.bindings[Ma.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,v={},y={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:p}),postgres_changes:g,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(j=>t?.(an.CHANNEL_ERROR,j)),this._onClose(()=>t?.(an.CLOSED)),this.updateJoinPayload(Object.assign({config:y},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:j})=>{var S;if(this.socket.setAuth(),j===void 0){t?.(an.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,N=(S=b?.length)!==null&&S!==void 0?S:0,k=[];for(let C=0;C<N;C++){const P=b[C],{filter:{event:D,schema:E,table:V,filter:A}}=P,M=j&&j[C];if(M&&M.event===D&&M.schema===E&&M.table===V&&M.filter===A)k.push(Object.assign(Object.assign({},P),{id:M.id}));else{this.unsubscribe(),this.state=bt.errored,t?.(an.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(an.SUBSCRIBED);return}}).receive("error",j=>{this.state=bt.errored,t?.(an.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{t?.(an.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this.state===bt.joined&&t===Ma.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,s)}async send(t,r={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){const{event:c,payload:u}=t,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=g.body)===null||i===void 0?void 0:i.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,f,h;const g=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=bt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Er.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new od(this,Er.leave,{},t),s.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bt.closed,this.bindings={}}async _fetchWithTimeout(t,r,s){const i=new AbortController,c=setTimeout(()=>i.abort(),s),u=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(c),u}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new od(this,t,r,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>xj){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var i,c;const u=t.toLocaleLowerCase(),{close:f,error:h,leave:g,join:p}=Er;if(s&&[f,h,g,p].indexOf(u)>=0&&s!==this._joinRef())return;let y=this._onMessage(u,r,s);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(j=>{var S,b,N;return((S=j.filter)===null||S===void 0?void 0:S.event)==="*"||((N=(b=j.filter)===null||b===void 0?void 0:b.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===u}).map(j=>j.callback(y,s)):(c=this.bindings[u])===null||c===void 0||c.filter(j=>{var S,b,N,k,C,P;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in j){const D=j.id,E=(S=j.filter)===null||S===void 0?void 0:S.event;return D&&((b=r.ids)===null||b===void 0?void 0:b.includes(D))&&(E==="*"||E?.toLocaleLowerCase()===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const D=(C=(k=j?.filter)===null||k===void 0?void 0:k.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return D==="*"||D===((P=r?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===u}).map(j=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:b,table:N,commit_timestamp:k,type:C,errors:P}=S;y=Object.assign(Object.assign({},{schema:b,table:N,commit_timestamp:k,eventType:C,new:{},old:{},errors:P}),this._getPayloadRecords(S))}j.callback(y,s)})}_isClosed(){return this.state===bt.closed}_isJoined(){return this.state===bt.joined}_isJoining(){return this.state===bt.joining}_isLeaving(){return this.state===bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const i=t.toLocaleLowerCase(),c={type:i,filter:r,callback:s};return this.bindings[i]?this.bindings[i].push(c):this.bindings[i]=[c],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var c;return!(((c=i.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===s&&Of.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Er.close,{},t)}_onError(t){this._on(Er.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=gg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=gg(t.columns,t.old_record)),r}}const ad=()=>{},sl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Sj=[1e3,2e3,5e3,1e4],Nj=1e4,Cj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ej{constructor(t,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vd,this.transport=null,this.heartbeatIntervalMs=sl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ad,this.ref=0,this.reconnectTimer=null,this.logger=ad,this.conn=null,this.sendBuffer=[],this.serializer=new vj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let c;return i?c=i:typeof fetch>"u"?c=(...u)=>$o(async()=>{const{default:f}=await Promise.resolve().then(()=>Do);return{default:f}},void 0).then(({default:f})=>f(...u)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...u)=>c(...u)},!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Bd.websocket}`,this.httpEndpoint=px(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fj.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pj}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case $a.connecting:return hs.Connecting;case $a.open:return hs.Open;case $a.closing:return hs.Closing;default:return hs.Closed}}isConnected(){return this.connectionState()===hs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const s=`realtime:${t}`,i=this.getChannels().find(c=>c.topic===s);if(i)return i;{const c=new Of(`realtime:${t}`,r,this);return this.channels.push(c),c}}push(t){const{topic:r,event:s,payload:i,ref:c}=t,u=()=>{this.encode(t,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${r} ${s} (${c})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(gj,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},sl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:c,ref:u}=r,f=u?`(${u})`:"",h=c.status||"";this.log("receive",`${h} ${s} ${i} ${f}`.trim(),c),this.channels.filter(g=>g._isMember(s)).forEach(g=>g._trigger(i,c,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Er.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${s}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([Cj],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:mj};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Er.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new hx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},sl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,s,i,c,u,f,h,g,p;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=t?.timeout)!==null&&s!==void 0?s:Vd,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:sl.HEARTBEAT_INTERVAL,this.worker=(c=t?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:ad,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(v=>Sj[v-1]||Nj),this.encode=(g=t?.encode)!==null&&g!==void 0?g:((v,y)=>y(JSON.stringify(v))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Rf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ht(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Pj extends Rf{constructor(t,r,s){super(t),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qd extends Rf{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Aj=function(e,t,r,s){function i(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(p){try{g(s.next(p))}catch(v){u(v)}}function h(p){try{g(s.throw(p))}catch(v){u(v)}}function g(p){p.done?c(p.value):i(p.value).then(f,h)}g((s=s.apply(e,t||[])).next())})};const gx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$o(async()=>{const{default:s}=await Promise.resolve().then(()=>Do);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},Tj=()=>Aj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $o(()=>Promise.resolve().then(()=>Do),void 0)).Response:Response}),Hd=e=>{if(Array.isArray(e))return e.map(r=>Hd(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,s])=>{const i=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[i]=Hd(s)}),t},Oj=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ss=function(e,t,r,s){function i(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(p){try{g(s.next(p))}catch(v){u(v)}}function h(p){try{g(s.throw(p))}catch(v){u(v)}}function g(p){p.done?c(p.value):i(p.value).then(f,h)}g((s=s.apply(e,t||[])).next())})};const id=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Rj=(e,t,r)=>Ss(void 0,void 0,void 0,function*(){const s=yield Tj();e instanceof s&&!r?.noResolveJson?e.json().then(i=>{const c=e.status||500,u=i?.statusCode||c+"";t(new Pj(id(i),c,u))}).catch(i=>{t(new qd(id(i),i))}):t(new qd(id(e),e))}),Ij=(e,t,r,s)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!s?i:(Oj(s)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(s)):i.body=s,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Wa(e,t,r,s,i,c){return Ss(this,void 0,void 0,function*(){return new Promise((u,f)=>{e(r,Ij(t,s,i,c)).then(h=>{if(!h.ok)throw h;return s?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>Rj(h,f,s))})})}function El(e,t,r,s){return Ss(this,void 0,void 0,function*(){return Wa(e,"GET",t,r,s)})}function Ur(e,t,r,s,i){return Ss(this,void 0,void 0,function*(){return Wa(e,"POST",t,s,i,r)})}function Zd(e,t,r,s,i){return Ss(this,void 0,void 0,function*(){return Wa(e,"PUT",t,s,i,r)})}function $j(e,t,r,s){return Ss(this,void 0,void 0,function*(){return Wa(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function xx(e,t,r,s,i){return Ss(this,void 0,void 0,function*(){return Wa(e,"DELETE",t,s,i,r)})}var Dj=function(e,t,r,s){function i(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(p){try{g(s.next(p))}catch(v){u(v)}}function h(p){try{g(s.throw(p))}catch(v){u(v)}}function g(p){p.done?c(p.value):i(p.value).then(f,h)}g((s=s.apply(e,t||[])).next())})};class Mj{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Dj(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ht(t))return{data:null,error:t};throw t}})}}var zj=function(e,t,r,s){function i(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(p){try{g(s.next(p))}catch(v){u(v)}}function h(p){try{g(s.throw(p))}catch(v){u(v)}}function g(p){p.done?c(p.value):i(p.value).then(f,h)}g((s=s.apply(e,t||[])).next())})};class Fj{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new Mj(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return zj(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ht(t))return{data:null,error:t};throw t}})}}var Zt=function(e,t,r,s){function i(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(p){try{g(s.next(p))}catch(v){u(v)}}function h(p){try{g(s.throw(p))}catch(v){u(v)}}function g(p){p.done?c(p.value):i(p.value).then(f,h)}g((s=s.apply(e,t||[])).next())})};const Lj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Uj{constructor(t,r={},s,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=s,this.fetch=gx(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,s,i){return Zt(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},yg),i);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),h&&c.append("metadata",this.encodeMetadata(h)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl),h&&c.append("metadata",this.encodeMetadata(h))):(c=s,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,h&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),i?.headers&&(f=Object.assign(Object.assign({},f),i.headers));const g=this._removeEmptyFolders(r),p=this._getFinalPath(g),v=yield(t=="PUT"?Zd:Ur)(this.fetch,`${this.url}/object/${p}`,c,Object.assign({headers:f},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:g,id:v.Id,fullPath:v.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ht(c))return{data:null,error:c};throw c}})}upload(t,r,s){return Zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,s)})}uploadToSignedUrl(t,r,s,i){return Zt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",r);try{let h;const g=Object.assign({upsert:yg.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",g.cacheControl),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.append("cacheControl",g.cacheControl)):(h=s,p["cache-control"]=`max-age=${g.cacheControl}`,p["content-type"]=g.contentType);const v=yield Zd(this.fetch,f.toString(),h,{headers:p});return{data:{path:c,fullPath:v.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(ht(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(t,r){return Zt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const c=yield Ur(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),u=new URL(this.url+c.url),f=u.searchParams.get("token");if(!f)throw new Rf("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:f},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ht(s))return{data:null,error:s};throw s}})}update(t,r,s){return Zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,s)})}move(t,r,s){return Zt(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}})}copy(t,r,s){return Zt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ur(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,s){return Zt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),c=yield Ur(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,s){return Zt(this,void 0,void 0,function*(){try{const i=yield Ur(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(r?.transform||{}),u=c?`?${c}`:"",f=this._getFinalPath(t),h=()=>El(this.fetch,`${this.url}/${i}/${f}${u}`,{headers:this.headers,noResolveJson:!0});return new Fj(h,this.shouldThrowOnError)}info(t){return Zt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const s=yield El(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Hd(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ht(s))return{data:null,error:s};throw s}})}exists(t){return Zt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield $j(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ht(s)&&s instanceof qd){const i=s.originalError;if([400,404].includes(i?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,r){const s=this._getFinalPath(t),i=[],c=r?.download?`download=${r.download===!0?"":r.download}`:"";c!==""&&i.push(c);const f=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&i.push(h);let g=i.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${s}${g}`)}}}remove(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield xx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}list(t,r,s){return Zt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Lj),r),{prefix:t||""});return{data:yield Ur(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ht(i))return{data:null,error:i};throw i}})}listV2(t,r){return Zt(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield Ur(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ht(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Vj="2.12.2",Bj={"X-Client-Info":`storage-js/${Vj}`};var lo=function(e,t,r,s){function i(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(p){try{g(s.next(p))}catch(v){u(v)}}function h(p){try{g(s.throw(p))}catch(v){u(v)}}function g(p){p.done?c(p.value):i(p.value).then(f,h)}g((s=s.apply(e,t||[])).next())})};class Wj{constructor(t,r={},s,i){this.shouldThrowOnError=!1;const c=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},Bj),r),this.fetch=gx(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return lo(this,void 0,void 0,function*(){try{return{data:yield El(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ht(t))return{data:null,error:t};throw t}})}getBucket(t){return lo(this,void 0,void 0,function*(){try{return{data:yield El(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return lo(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ht(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return lo(this,void 0,void 0,function*(){try{return{data:yield Zd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ht(s))return{data:null,error:s};throw s}})}emptyBucket(t){return lo(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}deleteBucket(t){return lo(this,void 0,void 0,function*(){try{return{data:yield xx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}}class qj extends Wj{constructor(t,r={},s,i){super(t,r,s,i)}from(t){return new Uj(this.url,this.headers,t,this.fetch)}}const Hj="2.58.0";let Oa="";typeof Deno<"u"?Oa="deno":typeof document<"u"?Oa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Oa="react-native":Oa="node";const Zj={"X-Client-Info":`supabase-js-${Oa}/${Hj}`},Kj={headers:Zj},Gj={schema:"public"},Jj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qj={};var Yj=function(e,t,r,s){function i(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(p){try{g(s.next(p))}catch(v){u(v)}}function h(p){try{g(s.throw(p))}catch(v){u(v)}}function g(p){p.done?c(p.value):i(p.value).then(f,h)}g((s=s.apply(e,t||[])).next())})};const Xj=e=>{let t;return e?t=e:typeof fetch>"u"?t=ix:t=fetch,(...r)=>t(...r)},e1=()=>typeof Headers>"u"?lx:Headers,t1=(e,t,r)=>{const s=Xj(r),i=e1();return(c,u)=>Yj(void 0,void 0,void 0,function*(){var f;const h=(f=yield t())!==null&&f!==void 0?f:e;let g=new i(u?.headers);return g.has("apikey")||g.set("apikey",e),g.has("Authorization")||g.set("Authorization",`Bearer ${h}`),s(c,Object.assign(Object.assign({},u),{headers:g}))})};var r1=function(e,t,r,s){function i(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(p){try{g(s.next(p))}catch(v){u(v)}}function h(p){try{g(s.throw(p))}catch(v){u(v)}}function g(p){p.done?c(p.value):i(p.value).then(f,h)}g((s=s.apply(e,t||[])).next())})};function n1(e){return e.endsWith("/")?e:e+"/"}function s1(e,t){var r,s;const{db:i,auth:c,realtime:u,global:f}=e,{db:h,auth:g,realtime:p,global:v}=t,y={db:Object.assign(Object.assign({},h),i),auth:Object.assign(Object.assign({},g),c),realtime:Object.assign(Object.assign({},p),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),f),{headers:Object.assign(Object.assign({},(r=v?.headers)!==null&&r!==void 0?r:{}),(s=f?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>r1(this,void 0,void 0,function*(){return""})};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function o1(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(n1(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const vx="2.72.0",yo=30*1e3,Kd=3,ld=Kd*yo,a1="http://localhost:9999",i1="supabase.auth.token",l1={"X-Client-Info":`gotrue-js/${vx}`},Gd="X-Supabase-Api-Version",yx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},c1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,u1=600*1e3;class If extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function $e(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class d1 extends If{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function f1(e){return $e(e)&&e.name==="AuthApiError"}class bx extends If{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Hn extends If{constructor(t,r,s,i){super(t,s,i),this.name=r,this.status=s}}class Mn extends Hn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function h1(e){return $e(e)&&e.name==="AuthSessionMissingError"}class Ca extends Hn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ol extends Hn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class al extends Hn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function m1(e){return $e(e)&&e.name==="AuthImplicitGrantRedirectError"}class bg extends Hn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jd extends Hn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function cd(e){return $e(e)&&e.name==="AuthRetryableFetchError"}class wg extends Hn{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Qd extends Hn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_g=` 	
\r=`.split(""),p1=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<_g.length;t+=1)e[_g[t].charCodeAt(0)]=-2;for(let t=0;t<Pl.length;t+=1)e[Pl[t].charCodeAt(0)]=t;return e})();function jg(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(Pl[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(Pl[s]),t.queuedBits-=6}}function wx(e,t,r){const s=p1[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function kg(e){const t=[],r=u=>{t.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},c=u=>{v1(u,s,r)};for(let u=0;u<e.length;u+=1)wx(e.charCodeAt(u),i,c);return t.join("")}function g1(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function x1(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}g1(s,t)}}function v1(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function y1(e){const t=[],r={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)wx(e.charCodeAt(i),r,s);return new Uint8Array(t)}function b1(e){const t=[];return x1(e,r=>t.push(r)),new Uint8Array(t)}function w1(e){const t=[],r={queue:0,queuedBits:0},s=i=>{t.push(i)};return e.forEach(i=>jg(i,r,s)),jg(null,r,s),t.join("")}function _1(e){return Math.round(Date.now()/1e3)+e}function j1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const hr=()=>typeof window<"u"&&typeof document<"u",cs={tested:!1,writable:!1},_x=()=>{if(!hr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cs.tested)return cs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),cs.tested=!0,cs.writable=!0}catch{cs.tested=!0,cs.writable=!1}return cs.writable};function k1(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,c)=>{t[c]=i})}catch{}return r.searchParams.forEach((s,i)=>{t[i]=s}),t}const jx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$o(async()=>{const{default:s}=await Promise.resolve().then(()=>Do);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},S1=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",bo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},us=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},On=async(e,t)=>{await e.removeItem(t)};class Vl{constructor(){this.promise=new Vl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Vl.promiseConstructor=Promise;function ud(e){const t=e.split(".");if(t.length!==3)throw new Qd("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!c1.test(t[s]))throw new Qd("JWT not in base64url format");return{header:JSON.parse(kg(t[0])),payload:JSON.parse(kg(t[1])),signature:y1(t[2]),raw:{header:t[0],payload:t[1]}}}async function N1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function C1(e,t){return new Promise((s,i)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await e(c);if(!t(c,null,u)){s(u);return}}catch(u){if(!t(c,u)){i(u);return}}})()})}function E1(e){return("0"+e.toString(16)).substr(-2)}function P1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let i="";for(let c=0;c<56;c++)i+=r.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,E1).join("")}async function A1(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(s);return Array.from(i).map(c=>String.fromCharCode(c)).join("")}async function T1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await A1(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function co(e,t,r=!1){const s=P1();let i=s;r&&(i+="/PASSWORD_RECOVERY"),await bo(e,`${t}-code-verifier`,i);const c=await T1(s);return[c,s===c?"plain":"s256"]}const O1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function R1(e){const t=e.headers.get(Gd);if(!t||!t.match(O1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function I1(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function $1(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const D1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function uo(e){if(!D1.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function dd(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Sg(e){return JSON.parse(JSON.stringify(e))}var M1=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(r[s[i]]=e[s[i]]);return r};const fs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),z1=[502,503,504];async function Ng(e){var t;if(!S1(e))throw new Jd(fs(e),0);if(z1.includes(e.status))throw new Jd(fs(e),e.status);let r;try{r=await e.json()}catch(c){throw new bx(fs(c),c)}let s;const i=R1(e);if(i&&i.getTime()>=yx["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new wg(fs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Mn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new wg(fs(r),e.status,r.weak_password.reasons);throw new d1(fs(r),e.status||500,s)}const F1=(e,t,r,s)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),r))};async function ze(e,t,r,s){var i;const c=Object.assign({},s?.headers);c[Gd]||(c[Gd]=yx["2024-01-01"].name),s?.jwt&&(c.Authorization=`Bearer ${s.jwt}`);const u=(i=s?.query)!==null&&i!==void 0?i:{};s?.redirectTo&&(u.redirect_to=s.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await L1(e,t,r+f,{headers:c,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(h):{data:Object.assign({},h),error:null}}async function L1(e,t,r,s,i,c){const u=F1(t,s,i,c);let f;try{f=await e(r,Object.assign({},u))}catch(h){throw console.error(h),new Jd(fs(h),0)}if(f.ok||await Ng(f),s?.noResolveJson)return f;try{return await f.json()}catch(h){await Ng(h)}}function Lr(e){var t;let r=null;W1(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=_1(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:s},error:null}}function Cg(e){const t=Lr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Fn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function U1(e){return{data:e,error:null}}function V1(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:i,verification_type:c}=e,u=M1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:r,hashed_token:s,redirect_to:i,verification_type:c},h=Object.assign({},u);return{data:{properties:f,user:h},error:null}}function B1(e){return e}function W1(e){return e.access_token&&e.refresh_token&&e.expires_in}const fd=["global","local","others"];var q1=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(r[s[i]]=e[s[i]]);return r};class H1{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=jx(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=fd[0]){if(fd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fd.join(", ")}`);try{return await ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Fn})}catch(s){if($e(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=q1(t,["options"]),i=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(i.new_email=s?.newEmail,delete i.newEmail),await ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:V1,redirectTo:r?.redirectTo})}catch(r){if($e(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Fn})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,i,c,u,f,h;try{const g={nextPage:null,lastPage:0,total:0},p=await ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(c=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&c!==void 0?c:""},xform:B1});if(p.error)throw p.error;const v=await p.json(),y=(u=p.headers.get("x-total-count"))!==null&&u!==void 0?u:0,j=(h=(f=p.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return j.length>0&&(j.forEach(S=>{const b=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(S.split(";")[1].split("=")[1]);g[`${N}Page`]=b}),g.total=parseInt(y)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if($e(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){uo(t);try{return await ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Fn})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){uo(t);try{return await ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Fn})}catch(s){if($e(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){uo(t);try{return await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Fn})}catch(s){if($e(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){uo(t.userId);try{const{data:r,error:s}=await ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:s}}catch(r){if($e(r))return{data:null,error:r};throw r}}async _deleteFactor(t){uo(t.userId),uo(t.id);try{return{data:await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}}function Eg(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Z1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fo={debug:!!(globalThis&&_x()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class K1 extends kx{}async function G1(e,t,r){fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),fo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new K1(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fo.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Sx(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function J1(e){return parseInt(e,16)}function Q1(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function Y1(e){var t;const{chainId:r,domain:s,expirationTime:i,issuedAt:c=new Date,nonce:u,notBefore:f,requestId:h,resources:g,scheme:p,uri:v,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const j=Sx(e.address),S=p?`${p}://${s}`:s,b=e.statement?`${e.statement}
`:"",N=`${S} wants you to sign in with your Ethereum account:
${j}

${b}`;let k=`URI: ${v}
Version: ${y}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${c.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),f&&(k+=`
Not Before: ${f.toISOString()}`),h&&(k+=`
Request ID: ${h}`),g){let C=`
Resources:`;for(const P of g){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);C+=`
- ${P}`}k+=C}return`${N}
${k}`}Z1();const X1={url:a1,storageKey:i1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:l1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pg(e,t,r){return await r()}const ho={};class za{constructor(t){var r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=za.nextInstanceID,za.nextInstanceID+=1,this.instanceID>0&&hr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},X1),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new H1({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=jx(i.fetch),this.lock=i.lock||Pg,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:hr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=G1:this.lock=Pg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:_x()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Eg(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Eg(this.memoryStorage)),hr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=ho[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ho[this.storageKey]=Object.assign(Object.assign({},ho[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ho[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ho[this.storageKey]=Object.assign(Object.assign({},ho[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vx}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=k1(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),hr()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:c}=await this._getSessionFromURL(r,s);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),m1(c)){const h=(t=c.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:f}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $e(r)?{error:r}:{error:new bx("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,i;try{const c=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Lr}),{data:u,error:f}=c;if(f||!u)return{data:{user:null,session:null},error:f};const h=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:g,session:h},error:null}}catch(c){if($e(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(t){var r,s,i;try{let c;if("email"in t){const{email:p,password:v,options:y}=t;let j=null,S=null;this.flowType==="pkce"&&([j,S]=await co(this.storage,this.storageKey)),c=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:p,password:v,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:j,code_challenge_method:S},xform:Lr})}else if("phone"in t){const{phone:p,password:v,options:y}=t;c=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:v,data:(s=y?.data)!==null&&s!==void 0?s:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Lr})}else throw new ol("You must provide either an email or phone number and a password");const{data:u,error:f}=c;if(f||!u)return{data:{user:null,session:null},error:f};const h=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:g,session:h},error:null}}catch(c){if($e(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(t){try{let r;if("email"in t){const{email:c,password:u,options:f}=t;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Cg})}else if("phone"in t){const{phone:c,password:u,options:f}=t;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Cg})}else throw new ol("You must provide either an email or phone number and a password");const{data:s,error:i}=r;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Ca}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(r){if($e(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,s,i,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,s,i,c,u,f,h,g,p,v,y;let j,S;if("message"in t)j=t.message,S=t.signature;else{const{chain:b,wallet:N,statement:k,options:C}=t;let P;if(hr())if(typeof N=="object")P=N;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")P=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=N}const D=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href),E=await P.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=Sx(E[0]);let A=(s=C?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!A){const I=await P.request({method:"eth_chainId"});A=J1(I)}const M={domain:D.host,address:V,statement:k,uri:D.href,version:"1",chainId:A,nonce:(i=C?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(u=(c=C?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=C?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=C?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(g=C?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(p=C?.signInWithEthereum)===null||p===void 0?void 0:p.resources};j=Y1(M),S=await P.request({method:"personal_sign",params:[Q1(j),V]})}try{const{data:b,error:N}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:S},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Lr});if(N)throw N;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ca}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:N})}catch(b){if($e(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var r,s,i,c,u,f,h,g,p,v,y,j;let S,b;if("message"in t)S=t.message,b=t.signature;else{const{chain:N,wallet:k,statement:C,options:P}=t;let D;if(hr())if(typeof k=="object")D=k;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))D=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=k}const E=new URL((r=P?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in D&&D.signIn){const V=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),C?{statement:C}:null));let A;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")A=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)A=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)S=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),b=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${E.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(s=P?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((c=P?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((u=P?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((f=P?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((h=P?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((g=P?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((v=(p=P?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||v===void 0)&&v.length?["Resources",...P.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const V=await D.signMessage(new TextEncoder().encode(S),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=V}}try{const{data:N,error:k}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:w1(b)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(j=t.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Lr});if(k)throw k;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Ca}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:k})}catch(N){if($e(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(t){const r=await us(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(r??"").split("/");try{const{data:c,error:u}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Lr});if(await On(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Ca}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:i??null}),error:u})}catch(c){if($e(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(t){try{const{options:r,provider:s,token:i,access_token:c,nonce:u}=t,f=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Lr}),{data:h,error:g}=f;return g?{data:{user:null,session:null},error:g}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Ca}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:g})}catch(r){if($e(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,s,i,c,u;try{if("email"in t){const{email:f,options:h}=t;let g=null,p=null;this.flowType==="pkce"&&([g,p]=await co(this.storage,this.storageKey));const{error:v}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(s=h?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:g,code_challenge_method:p},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:f,options:h}=t,{data:g,error:p}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(c=h?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:p}}throw new ol("You must provide either an email or phone number.")}catch(f){if($e(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(t){var r,s;try{let i,c;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,c=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:f}=await ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:i,xform:Lr});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,g=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:g,session:h},error:null}}catch(i){if($e(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,s,i;try{let c=null,u=null;return this.flowType==="pkce"&&([c,u]=await co(this.storage,this.storageKey)),await ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:U1})}catch(c){if($e(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new Mn;const{error:i}=await ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if($e(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:c}=t,{error:u}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:s,type:i,options:c}=t,{data:u,error:f}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new ol("You must provide either an email or phone number and a type")}catch(r){if($e(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await us(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<ld:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const u=await us(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=dd()}if(this.storage.isServer&&t.user){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(h,g,p)=>(!u&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,g,p))})}return{data:{session:t},error:null}}const{session:i,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{session:null},error:c}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Fn}):await this._useSession(async r=>{var s,i,c;const{data:u,error:f}=r;if(f)throw f;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mn}:await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0,xform:Fn})})}catch(r){if($e(r))return h1(r)&&(await this._removeSession(),await On(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:i,error:c}=s;if(c)throw c;if(!i.session)throw new Mn;const u=i.session;let f=null,h=null;this.flowType==="pkce"&&t.email!=null&&([f,h]=await co(this.storage,this.storageKey));const{data:g,error:p}=await ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:h}),jwt:u.access_token,xform:Fn});if(p)throw p;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(s){if($e(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Mn;const r=Date.now()/1e3;let s=r,i=!0,c=null;const{payload:u}=ud(t.access_token);if(u.exp&&(s=u.exp,i=s<=r),i){const{session:f,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:h}=await this._getUser(t.access_token);if(h)throw h;c={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(r){if($e(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:u,error:f}=r;if(f)throw f;t=(s=u.session)!==null&&s!==void 0?s:void 0}if(!t?.refresh_token)throw new Mn;const{session:i,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{user:null,session:null},error:c}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if($e(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!hr())throw new al("No browser detected.");if(t.error||t.error_description||t.error_code)throw new al(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new bg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new al("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bg("No code detected.");const{data:C,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:c,refresh_token:u,expires_in:f,expires_at:h,token_type:g}=t;if(!c||!f||!u||!g)throw new al("No session defined in URL");const p=Math.round(Date.now()/1e3),v=parseInt(f);let y=p+v;h&&(y=parseInt(h));const j=y-p;j*1e3<=yo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${v}s`);const S=y-v;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,p);const{data:b,error:N}=await this._getUser(c);if(N)throw N;const k={provider_token:s,provider_refresh_token:i,access_token:c,expires_in:v,expires_at:y,refresh_token:u,token_type:g,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:t.type},error:null}}catch(s){if($e(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await us(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:i,error:c}=r;if(c)return{error:c};const u=(s=i.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:f}=await this.admin.signOut(u,t);if(f&&!(f1(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return t!=="others"&&(await this._removeSession(),await On(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=j1(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,i;try{const{data:{session:c},error:u}=r;if(u)throw u;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,r={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await co(this.storage,this.storageKey,!0));try{return await ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if($e(c))return{data:null,error:c};throw c}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:s,error:i}=await this._useSession(async c=>{var u,f,h,g,p;const{data:v,error:y}=c;if(y)throw y;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ze(this.fetch,"GET",j,{headers:this.headers,jwt:(p=(g=v.session)===null||g===void 0?void 0:g.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return hr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:t.provider,url:s?.url},error:null}}catch(s){if($e(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,i;const{data:c,error:u}=r;if(u)throw u;return await ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await C1(async i=>(i>0&&await N1(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Lr})),(i,c)=>{const u=200*Math.pow(2,i);return c&&cd(c)&&Date.now()+u-s<yo})}catch(s){if(this._debug(r,"error",s),$e(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),hr()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await us(this.storage,this.storageKey);if(i&&this.userStorage){let u=await us(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:i.user},await bo(this.userStorage,this.storageKey+"-user",u)),i.user=(t=u?.user)!==null&&t!==void 0?t:dd()}else if(i&&!i.user&&!i.user){const u=await us(this.storage,this.storageKey+"-user");u&&u?.user?(i.user=u.user,await On(this.storage,this.storageKey+"-user"),await bo(this.storage,this.storageKey,i)):i.user=dd()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const c=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ld;if(this._debug(s,`session has${c?"":" not"} expired with margin of ${ld}s`),c){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),cd(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(i.access_token);!f&&u?.user?(i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new Mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Vl;const{data:c,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!c.session)throw new Mn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={session:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(i,"error",c),$e(c)){const u={session:null,error:c};return cd(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(c),c}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,r)}catch(h){c.push(h)}});if(await Promise.all(u),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await bo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const c=Sg(i);await bo(this.storage,this.storageKey,c)}else{const i=Sg(r);await bo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await On(this.storage,this.storageKey),await On(this.storage,this.storageKey+"-code-verifier"),await On(this.storage,this.storageKey+"-user"),this.userStorage&&await On(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&hr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),yo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/yo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${yo}ms, refresh threshold is ${Kd} ticks`),i<=Kd&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof kx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const i=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[c,u]=await co(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(f.toString())}if(s?.queryParams){const c=new URLSearchParams(s.queryParams);i.push(c.toString())}return s?.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:i,error:c}=r;return c?{data:null,error:c}:await ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,i;const{data:c,error:u}=r;if(u)return{data:null,error:u};const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:h,error:g}=await ze(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});return g?{data:null,error:g}:(t.factorType==="totp"&&(!((i=h?.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:i,error:c}=r;if(c)return{data:null,error:c};const{data:u,error:f}=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:f})})}catch(r){if($e(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:i,error:c}=r;return c?{data:null,error:c}:await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if($e(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=t?.factors||[],i=s.filter(u=>u.factor_type==="totp"&&u.status==="verified"),c=s.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:s,totp:i,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,s;const{data:{session:i},error:c}=t;if(c)return{data:null,error:c};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=ud(i.access_token);let f=null;u.aal&&(f=u.aal);let h=f;((s=(r=i.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(h="aal2");const p=u.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,r={keys:[]}){let s=r.keys.find(f=>f.kid===t);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(f=>f.kid===t),s&&this.jwks_cached_at+u1>i)return s;const{data:c,error:u}=await ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=i,s=c.keys.find(f=>f.kid===t),!s)?null:s}async getClaims(t,r={}){try{let s=t;if(!s){const{data:j,error:S}=await this.getSession();if(S||!j.session)return{data:null,error:S};s=j.session.access_token}const{header:i,payload:c,signature:u,raw:{header:f,payload:h}}=ud(s);r?.allowExpired||I1(c.exp);const g=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!g){const{error:j}=await this.getUser(s);if(j)throw j;return{data:{claims:c,header:i,signature:u},error:null}}const p=$1(i.alg),v=await crypto.subtle.importKey("jwk",g,p,!0,["verify"]);if(!await crypto.subtle.verify(p,v,u,b1(`${f}.${h}`)))throw new Qd("Invalid JWT signature");return{data:{claims:c,header:i,signature:u},error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}}}za.nextInstanceID=0;const ek=za;class tk extends ek{constructor(t){super(t)}}var rk=function(e,t,r,s){function i(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(p){try{g(s.next(p))}catch(v){u(v)}}function h(p){try{g(s.throw(p))}catch(v){u(v)}}function g(p){p.done?c(p.value):i(p.value).then(f,h)}g((s=s.apply(e,t||[])).next())})};class nk{constructor(t,r,s){var i,c,u;this.supabaseUrl=t,this.supabaseKey=r;const f=o1(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const h=`sb-${f.hostname.split(".")[0]}-auth-token`,g={db:Gj,realtime:Qj,auth:Object.assign(Object.assign({},Jj),{storageKey:h}),global:Kj},p=s1(s??{},g);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(c=p.global.headers)!==null&&c!==void 0?c:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(v,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=p.auth)!==null&&u!==void 0?u:{},this.headers,p.global.fetch),this.fetch=t1(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new dj(new URL("rest/v1",f).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new qj(this.storageUrl.href,this.headers,this.fetch,s?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new tj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},s={}){return this.rest.rpc(t,r,s)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return rk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:i,userStorage:c,storageKey:u,flowType:f,lock:h,debug:g},p,v){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tk({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),p),storageKey:u,autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:i,userStorage:c,flowType:f,lock:h,debug:g,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Ej(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s?.access_token)})}_handleTokenChanged(t,r,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sk=(e,t,r)=>new nk(e,t,r);function ok(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}ok()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");class Ag{constructor(t,r){this.url=t,this.anonKey=r,this.deviceId=this.getOrCreateDeviceId()}client=null;deviceId;getOrCreateDeviceId(){let t=localStorage.getItem("device_id");return t||(t="device_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("device_id",t)),t}async initialize(){if(!this.url||!this.anonKey)throw new Error("Supabase URL and anon key are required");this.client=sk(this.url,this.anonKey)}ensureClient(){if(!this.client)throw new Error("Supabase client not initialized. Call initialize() first.");return this.client}addMetadata(t){const r=new Date().toISOString();return{...t,updated_at:r,_version:(t._version||0)+1,_device_id:this.deviceId,_sync_status:"synced"}}async get(t,r){const s=this.ensureClient(),{data:i,error:c}=await s.from(t).select("*").eq("id",r).maybeSingle();if(c)throw c;return i}async list(t,r){return this.query(t,r||{})}async create(t,r){const s=this.ensureClient(),i=this.addMetadata(r),{data:c,error:u}=await s.from(t).insert(i).select().single();if(u)throw u;return c}async update(t,r,s){const i=this.ensureClient(),c=this.addMetadata(s),{data:u,error:f}=await i.from(t).update(c).eq("id",r).select().single();if(f)throw f;return u}async delete(t,r){const s=this.ensureClient(),{error:i}=await s.from(t).delete().eq("id",r);if(i)throw i}async query(t,r){let i=this.ensureClient().from(t).select("*");r.where&&Object.entries(r.where).forEach(([f,h])=>{i=i.eq(f,h)}),r.orderBy&&(i=i.order(r.orderBy,{ascending:r.order!=="desc"})),r.limit&&(i=i.limit(r.limit)),r.offset&&(i=i.range(r.offset,r.offset+(r.limit||1e3)-1));const{data:c,error:u}=await i;if(u)throw u;return c||[]}async bulkCreate(t,r){const s=this.ensureClient(),i=r.map(f=>this.addMetadata(f)),{data:c,error:u}=await s.from(t).insert(i).select();if(u)throw u;return c||[]}async bulkUpdate(t,r){const s=[];for(const i of r){const c=await this.update(t,i.id,i.data);s.push(c)}return s}async bulkDelete(t,r){const s=this.ensureClient(),{error:i}=await s.from(t).delete().in("id",r);if(i)throw i}async count(t,r){let i=this.ensureClient().from(t).select("*",{count:"exact",head:!0});r?.where&&Object.entries(r.where).forEach(([f,h])=>{i=i.eq(f,h)});const{count:c,error:u}=await i;if(u)throw u;return c||0}async exists(t,r){return await this.get(t,r)!==null}async clear(t){const r=this.ensureClient(),{error:s}=await r.from(t).delete().neq("id","");if(s)throw s}async export(t){const r=t||["clients","products","product_components","projects","project_products","transactions","stock_movements"],s={};for(const i of r)s[i]=await this.list(i);return s}async import(t){for(const[r,s]of Object.entries(t))s.length>0&&await this.bulkCreate(r,s)}}class ak{constructor(t,r,s="newest-wins"){this.localAdapter=t,this.remoteAdapter=r,this.strategy=s,this.setupOnlineListener(),this.loadPendingOperations()}isOnline=navigator.onLine;isSyncing=!1;conflicts=new Map;pendingOperations=[];lastSyncTime;setupOnlineListener(){window.addEventListener("online",()=>{this.isOnline=!0,this.triggerSync()}),window.addEventListener("offline",()=>{this.isOnline=!1})}loadPendingOperations(){const t=localStorage.getItem("pending_sync_operations");if(t)try{this.pendingOperations=JSON.parse(t)}catch(r){console.error("Failed to load pending operations:",r),this.pendingOperations=[]}}savePendingOperations(){localStorage.setItem("pending_sync_operations",JSON.stringify(this.pendingOperations))}addPendingOperation(t){const r={...t,id:Date.now().toString(36)+Math.random().toString(36).substr(2,9),timestamp:new Date().toISOString(),retries:0};this.pendingOperations.push(r),this.savePendingOperations(),this.isOnline&&this.remoteAdapter&&this.triggerSync()}async triggerSync(){if(!(this.isSyncing||!this.remoteAdapter||!this.isOnline)){this.isSyncing=!0;try{await this.processPendingOperations(),await this.syncFromRemote(),this.lastSyncTime=new Date}catch(t){console.error("Sync failed:",t)}finally{this.isSyncing=!1}}}async processPendingOperations(){if(!this.remoteAdapter)return;const t=[...this.pendingOperations],r=[];for(const s of t)try{switch(s.operation){case"create":await this.remoteAdapter.create(s.table,s.data);break;case"update":await this.remoteAdapter.update(s.table,s.data.id,s.data);break;case"delete":await this.remoteAdapter.delete(s.table,s.data.id);break}r.push(s.id)}catch(i){console.error(`Failed to sync operation ${s.id}:`,i),s.retries++,s.retries>3&&(console.error(`Operation ${s.id} failed after 3 retries, removing from queue`),r.push(s.id))}this.pendingOperations=this.pendingOperations.filter(s=>!r.includes(s.id)),this.savePendingOperations()}async syncFromRemote(){if(!this.remoteAdapter)return;const t=["clients","products","product_components","projects","project_products","transactions","stock_movements"];for(const r of t)try{const s=await this.remoteAdapter.list(r),i=await this.localAdapter.list(r),c=new Map(i.map(f=>[f.id,f])),u=new Map(s.map(f=>[f.id,f]));for(const f of s){const h=c.get(f.id);if(!h)await this.localAdapter.create(r,f);else{const g=this.resolveConflict(h,f);g==="remote"?await this.localAdapter.update(r,f.id,f):g==="local"&&await this.remoteAdapter.update(r,h.id,h)}}for(const f of i)!u.has(f.id)&&f._sync_status==="synced"&&await this.localAdapter.delete(r,f.id)}catch(s){console.error(`Failed to sync table ${r}:`,s)}}resolveConflict(t,r){if(this.strategy==="local-wins")return"local";if(this.strategy==="remote-wins")return"remote";if(this.strategy==="newest-wins"){const i=new Date(t.updated_at||t.created_at).getTime(),c=new Date(r.updated_at||r.created_at).getTime();return i>c?"local":"remote"}const s=`${t.id}_${Date.now()}`;return this.conflicts.set(s,{record:t,local:t,remote:r,resolution:"manual"}),"manual"}getConflicts(){return Array.from(this.conflicts.values())}async resolveConflictManually(t,r,s){const i=this.conflicts.get(t);if(!i)throw new Error(`Conflict ${t} not found`);const c=s||(r==="local"?i.local:i.remote);Array.from(this.conflicts.values()).find(f=>f.record.id===i.record.id)&&(await this.localAdapter.update("unknown_table",i.record.id,c),this.remoteAdapter&&await this.remoteAdapter.update("unknown_table",i.record.id,c),this.conflicts.delete(t))}getSyncStatus(){return{lastSync:this.lastSyncTime,pendingOperations:this.pendingOperations.length,isOnline:this.isOnline,isSyncing:this.isSyncing,conflicts:this.conflicts.size,provider:this.remoteAdapter?"supabase":"local"}}setStrategy(t){this.strategy=t}setRemoteAdapter(t){this.remoteAdapter=t}clearPendingOperations(){this.pendingOperations=[],this.savePendingOperations()}async performFullSync(){if(!this.remoteAdapter)throw new Error("Remote adapter not configured");await this.triggerSync()}}const Tg={provider:"local",autoSync:!1,syncInterval:3e5,syncStrategy:"newest-wins"};class Nx{config;localAdapter;remoteAdapter=null;syncManager;syncInterval;constructor(t){this.config={...Tg,...t},this.localAdapter=new J_,this.syncManager=new ak(this.localAdapter,null,this.config.syncStrategy),this.loadConfig()}loadConfig(){const t=localStorage.getItem("storage_config");if(t)try{this.config={...Tg,...JSON.parse(t)}}catch(r){console.error("Failed to load storage config:",r)}}saveConfig(){localStorage.setItem("storage_config",JSON.stringify(this.config))}async initialize(){await this.localAdapter.initialize(),this.config.provider!=="local"&&this.config.provider==="supabase"&&await this.setupRemoteAdapter(),this.config.autoSync&&this.remoteAdapter&&this.startAutoSync()}async setupRemoteAdapter(){try{this.config.provider==="supabase"&&this.config.supabase&&(this.remoteAdapter=new Ag(this.config.supabase.url,this.config.supabase.anonKey),await this.remoteAdapter.initialize(),this.syncManager.setRemoteAdapter(this.remoteAdapter))}catch(t){console.error("Failed to setup remote adapter:",t),this.remoteAdapter=null,this.syncManager.setRemoteAdapter(null)}}async updateConfig(t){const r=this.config.provider;this.config={...this.config,...t},this.saveConfig(),t.provider&&t.provider!==r&&(t.provider==="local"?(this.remoteAdapter=null,this.syncManager.setRemoteAdapter(null),this.stopAutoSync()):(await this.setupRemoteAdapter(),this.config.autoSync&&this.startAutoSync())),t.syncStrategy&&this.syncManager.setStrategy(t.syncStrategy),t.autoSync!==void 0&&(t.autoSync&&this.remoteAdapter?this.startAutoSync():this.stopAutoSync())}getConfig(){return{...this.config}}getAdapter(){return this.localAdapter}getRemoteAdapter(){return this.remoteAdapter}getSyncManager(){return this.syncManager}getSyncStatus(){return this.syncManager.getSyncStatus()}async sync(){if(!this.remoteAdapter)throw new Error("Remote adapter not configured. Enable cloud sync first.");await this.syncManager.triggerSync()}startAutoSync(){this.stopAutoSync(),this.syncInterval=window.setInterval(()=>{navigator.onLine&&this.remoteAdapter&&this.syncManager.triggerSync().catch(t=>{console.error("Auto-sync failed:",t)})},this.config.syncInterval||3e5)}stopAutoSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=void 0)}async exportData(t){const r=await this.localAdapter.export(t);return JSON.stringify(r,null,2)}async importData(t){try{const r=JSON.parse(t);await this.localAdapter.import(r)}catch{throw new Error("Failed to import data: Invalid JSON format")}}async migrateFromSupabase(){if(!this.config.supabase)throw new Error("Supabase configuration not found");const t=new Ag(this.config.supabase.url,this.config.supabase.anonKey);await t.initialize();const r=await t.export();await this.localAdapter.import(r),console.log("Migration from Supabase completed successfully")}async testConnection(){if(!this.remoteAdapter)return!1;try{return await this.remoteAdapter.list("clients",{limit:1}),!0}catch(t){return console.error("Connection test failed:",t),!1}}destroy(){this.stopAutoSync()}}let Ln=null;const mr=()=>(Ln||(Ln=new Nx),Ln),Og=async e=>(Ln&&Ln.destroy(),Ln=new Nx(e),await Ln.initialize(),Ln),ik=({currentPage:e,setCurrentPage:t})=>{const{user:r,logout:s}=Ba(),[i,c]=Se.useState(navigator.onLine),[u,f]=Se.useState(null);Se.useEffect(()=>{const g=()=>c(!0),p=()=>c(!1);window.addEventListener("online",g),window.addEventListener("offline",p);const v=()=>{try{const j=mr();f(j.getSyncStatus())}catch(j){console.error("Failed to get sync status:",j)}};v();const y=setInterval(v,5e3);return()=>{window.removeEventListener("online",g),window.removeEventListener("offline",p),clearInterval(y)}},[]);const h=[{id:"dashboard",label:"Dashboard",icon:I_},{id:"clients",label:"Clientes",icon:xs},{id:"projects",label:"Projetos",icon:Un},{id:"products",label:"Produtos",icon:ar},{id:"stock",label:"Estoque",icon:S_},{id:"finance",label:"Finanças",icon:xr},...r?.role==="admin"?[{id:"settings",label:"Configurações",icon:Nl}]:[]];return a.jsxs("div",{className:"fixed left-0 top-0 h-full w-64 bg-gradient-to-b from-amber-900 via-amber-800 to-orange-900 text-white shadow-2xl backdrop-blur-sm",children:[a.jsxs("div",{className:"p-6 border-b border-amber-700/50",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-gradient-to-br from-white to-amber-50 rounded-xl p-3 shadow-lg",children:a.jsx(rx,{className:"h-7 w-7 text-amber-800"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-white drop-shadow-sm",children:"MarcenariaPro"}),a.jsx("p",{className:"text-sm text-amber-200/90",children:"Gestão Completa"})]})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-amber-700/50",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-amber-400 to-orange-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium text-sm",children:r?.name.charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-white",children:r?.name}),a.jsx("p",{className:"text-xs text-amber-200/80",children:r?.role==="admin"?"Administrador":"Usuário"})]})]})})]}),a.jsx("nav",{className:"mt-8 px-3",children:h.map(g=>{const p=g.icon;return a.jsxs("button",{onClick:()=>t(g.id),className:`w-full flex items-center space-x-3 px-4 py-3 mb-2 text-left transition-all duration-300 rounded-xl hover:bg-amber-700/70 hover:shadow-lg hover:translate-x-1 ${e===g.id?"bg-gradient-to-r from-amber-700 to-orange-600 text-white shadow-lg transform translate-x-1":"text-amber-100 hover:text-white"}`,children:[a.jsx(p,{className:"h-5 w-5 flex-shrink-0"}),a.jsx("span",{className:"font-medium text-sm",children:g.label})]},g.id)})}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 border-t border-amber-700/50 bg-gradient-to-t from-amber-900/50 space-y-3",children:[u&&a.jsxs("div",{className:"mb-2 px-3 py-2 bg-amber-800/30 rounded-lg border border-amber-700/30",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[i?a.jsx(B_,{className:"h-3 w-3 text-green-400"}):a.jsx(V_,{className:"h-3 w-3 text-orange-400"}),a.jsx("span",{className:"text-amber-100",children:i?"Online":"Offline"})]}),a.jsx("div",{className:"flex items-center space-x-1",children:u.provider==="local"?a.jsx("span",{className:"text-amber-200",children:"Local"}):a.jsxs(a.Fragment,{children:[a.jsx(kl,{className:"h-3 w-3 text-blue-400"}),a.jsx("span",{className:"text-amber-200",children:"Nuvem"})]})})]}),u.pendingOperations>0&&a.jsxs("div",{className:"mt-1 text-xs text-amber-300",children:[u.pendingOperations," pendente",u.pendingOperations>1?"s":""]})]}),a.jsxs("button",{onClick:s,className:"w-full flex items-center space-x-3 px-4 py-3 text-left transition-all duration-300 rounded-xl hover:bg-red-600/70 hover:shadow-lg text-amber-100 hover:text-white",children:[a.jsx(nx,{className:"h-5 w-5 flex-shrink-0"}),a.jsx("span",{className:"font-medium text-sm",children:"Sair do Sistema"})]}),a.jsxs("div",{className:"text-center text-amber-200/80",children:[a.jsx("p",{className:"text-xs",children:"Sistema de Gestão"}),a.jsx("p",{className:"text-xs",children:"v1.0.0"})]})]})]})},lk=()=>{const{login:e}=Ba(),[t,r]=_.useState({email:"",password:""}),[s,i]=_.useState(!1),[c,u]=_.useState(""),[f,h]=_.useState(!1),g=async v=>{v.preventDefault(),u(""),h(!0);try{await e(t.email,t.password)||u("Email ou senha incorretos. Verifique suas credenciais.")}catch{u("Erro ao fazer login. Tente novamente.")}finally{h(!1)}},p=v=>{r(y=>({...y,[v.target.name]:v.target.value})),c&&u("")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"bg-gradient-to-br from-amber-600 to-orange-600 rounded-full p-4 w-20 h-20 mx-auto mb-4 shadow-lg",children:a.jsx(rx,{className:"h-12 w-12 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"MarcenariaPro"}),a.jsx("p",{className:"text-gray-600",children:"Sistema de Gestão Completa"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-100",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 text-center mb-2",children:"Bem-vindo!"}),a.jsx("p",{className:"text-gray-600 text-center",children:"Faça login para acessar o sistema"})]}),c&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[a.jsx(Q0,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),a.jsx("span",{className:"text-red-700 text-sm",children:c})]}),a.jsxs("form",{onSubmit:g,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Io,{className:"h-4 w-4 inline mr-2 text-amber-600"}),"Email"]}),a.jsx("input",{type:"email",name:"email",value:t.email,onChange:p,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors",placeholder:"seu@email.com",disabled:f})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Ld,{className:"h-4 w-4 inline mr-2 text-amber-600"}),"Senha"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:s?"text":"password",name:"password",value:t.password,onChange:p,required:!0,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors",placeholder:"••••••••",disabled:f}),a.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:f,children:s?a.jsx(zd,{className:"h-5 w-5"}):a.jsx(Fd,{className:"h-5 w-5"})})]})]}),a.jsx("button",{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-amber-600 to-orange-600 text-white py-3 px-4 rounded-lg font-medium hover:from-amber-700 hover:to-orange-700 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:f?a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Entrando..."})]}):"Entrar no Sistema"})]}),a.jsxs("div",{className:"mt-8 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-medium text-amber-800 mb-2",children:"Credenciais de Demonstração:"}),a.jsxs("div",{className:"text-xs text-amber-700 space-y-1",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Admin:"})," admin@marcenaria.com / admin123"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Usuário:"})," joao@marcenaria.com / user123"]})]})]})]}),a.jsx("div",{className:"text-center mt-8 text-gray-500 text-sm",children:a.jsx("p",{children:"© 2024 MarcenariaPro. Todos os direitos reservados."})})]})})},Cx=_.createContext(void 0),vr=()=>{const e=_.useContext(Cx);if(!e)throw new Error("useApp must be used within an AppProvider");return e},Rn=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Ea=(e,t)=>{try{const r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.error(`Error loading ${e}:`,r),t}},Fr=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error(`Error saving ${e}:`,r)}},ck=({children:e})=>{const[t,r]=_.useState([]),[s,i]=_.useState([]),[c,u]=_.useState([]),[f,h]=_.useState([]),[g,p]=_.useState([]),[v,y]=_.useState(!0);_.useEffect(()=>{console.log("[AppContext] Loading data from localStorage...");const R=Ea("clients",[]),B=Ea("projects",[]),F=Ea("transactions",[]),W=Ea("products",[]),Z=Ea("stockMovements",[]);if(R.length===0&&B.length===0&&W.length===0){console.log("[AppContext] First time setup - adding demo data...");const xe={id:Rn(),name:"João Silva",type:"pf",cpf:"123.456.789-00",email:"joao@email.com",phone:"(11) 3333-4444",mobile:"(11) 98888-7777",fl_ativo:!0,address:{country:"Brasil",state:"SP",city:"São Paulo",zipCode:"01310-100",neighborhood:"Centro",streetType:"Rua",street:"Exemplo"},created_at:new Date().toISOString(),total_projects:0,total_value:0},pe={id:Rn(),name:"Madeira Compensada",description:"Compensado 15mm",category:"Madeiras",type:"material_bruto",unit:"M²",components:[],cost_price:120,sale_price:180,current_stock:50,min_stock:10,created_at:new Date().toISOString()};r([xe]),h([pe]),i([]),u([]),p([]),Fr("clients",[xe]),Fr("products",[pe]),Fr("projects",[]),Fr("transactions",[]),Fr("stockMovements",[])}else r(R),i(B),u(F),h(W),p(Z);y(!1),console.log("[AppContext] Data loaded successfully")},[]),_.useEffect(()=>{v||Fr("clients",t)},[t,v]),_.useEffect(()=>{v||Fr("projects",s)},[s,v]),_.useEffect(()=>{v||Fr("transactions",c)},[c,v]),_.useEffect(()=>{v||Fr("products",f)},[f,v]),_.useEffect(()=>{v||Fr("stockMovements",g)},[g,v]);const j=async R=>{const B={...R,id:Rn(),created_at:new Date().toISOString()};r(F=>[B,...F])},S=async(R,B)=>{r(F=>F.map(W=>W.id===R?{...W,...B}:W))},b=async R=>{r(B=>B.filter(F=>F.id!==R))},N=async R=>{const B=s.length>0?Math.max(...s.map(W=>W.number))+1:1,F={...R,id:Rn(),number:B,created_at:new Date().toISOString()};if(i(W=>[F,...W]),R.type==="venda"&&R.status!=="orcamento"){const W=R.budget*.5;await P({project_id:F.id,project_title:R.title,type:"entrada",category:"Sinal",description:`Sinal do projeto #${B} - ${R.title}`,amount:W,date:new Date().toISOString().split("T")[0]}),R.products&&R.products.length>0&&await I(F.id,R.products)}},k=async(R,B)=>{const F=s.find(W=>W.id===R);if(i(W=>W.map(Z=>Z.id===R?{...Z,...B}:Z)),B.status==="concluido"&&F&&F.status!=="concluido"){const W=F.budget*.5;await P({project_id:R,project_title:F.title,type:"entrada",category:"Pagamento Final",description:`Pagamento final - Projeto #${F.number}`,amount:W,date:new Date().toISOString().split("T")[0]})}},C=async R=>{i(B=>B.filter(F=>F.id!==R)),u(B=>B.filter(F=>F.project_id!==R)),p(B=>B.filter(F=>F.project_id!==R))},P=async R=>{const B={...R,id:Rn(),created_at:new Date().toISOString()};u(F=>[B,...F])},D=(R,B)=>{if(R===B)return!0;const F=f.find(W=>W.id===B);if(!F||!F.components)return!1;for(const W of F.components)if(D(R,W.product_id))return!0;return!1},E=async R=>{if(R.components&&R.components.length>0){const F=Rn();for(const W of R.components)if(D(F,W.product_id))throw new Error("Referência circular detectada: um produto não pode usar a si mesmo como componente.")}const B={...R,id:Rn(),created_at:new Date().toISOString()};h(F=>[B,...F])},V=async R=>{if(R.components&&R.components.length>0){for(const B of R.components)if(D(R.id,B.product_id))throw new Error("Referência circular detectada: um produto não pode usar a si mesmo como componente.")}h(B=>B.map(F=>F.id===R.id?R:F))},A=async R=>{if(f.some(F=>F.components&&F.components.some(W=>W.product_id===R)))throw new Error("Este produto é usado como componente em outros produtos e não pode ser excluído.");h(F=>F.filter(W=>W.id!==R))},M=async R=>{const B={...R,id:Rn(),created_at:new Date().toISOString()};p(F=>[B,...F]),h(F=>F.map(W=>{if(W.id===R.product_id){const Z=R.type==="entrada"?W.current_stock+R.quantity:W.current_stock-R.quantity;return{...W,current_stock:Z}}return W}))},I=async(R,B)=>{for(const F of B){const W=f.find(Z=>Z.id===F.product_id);if(W&&(await M({product_id:W.id,product_name:W.name,type:"saida",quantity:F.quantity,unit_price:F.unit_price,total_value:F.total_price,project_id:R,date:new Date().toISOString().split("T")[0]}),W.type!=="material_bruto"&&W.components))for(const Z of W.components){const Q=Z.quantity*F.quantity;await M({product_id:Z.product_id,product_name:Z.product_name,type:"saida",quantity:Q,unit_price:Z.unit_cost,total_value:Z.total_cost*F.quantity,project_id:R,date:new Date().toISOString().split("T")[0]})}}},de=async R=>{const B=f.find(W=>W.id===R);if(!B)return 0;if(B.type==="material_bruto")return B.cost_price;let F=0;for(const W of B.components){const Z=await de(W.product_id);F+=Z*W.quantity}return F},be=()=>f,ue=()=>{const B=[["tipo","nome","endereco","tipopessoa","fone_comercial","fone_celular","cep","cidade","email","cpf_cnpj","inscricao_estadual","bairro","complemento","numero","isento_icms","razao_social","id_empresa","fl_ativo"].join(","),...t.map(F=>["Cliente",`"${F.name}"`,`"${F.address.streetType} ${F.address.street}"`,F.type==="pj"?"J":"F",`"${F.phone}"`,`"${F.mobile}"`,`"${F.address.zipCode}"`,`"${F.address.city}"`,`"${F.email}"`,`"${F.type==="pj"?F.cnpj:F.cpf}"`,`"${F.inscricao_estadual||""}"`,`"${F.address.neighborhood}"`,`"${F.complemento||""}"`,`"${F.numero||""}"`,F.isento_icms?"true":"false",`"${F.razao_social||""}"`,`"${F.id_empresa||""}"`,F.fl_ativo?"true":"false"].join(","))].join(`
`);Y(B,"clientes.csv")},X=()=>{const B=[["id","nome","descricao","categoria","tipo","unidade","custo","preco_venda","estoque_atual","estoque_minimo","componentes"].join(","),...f.map(F=>[`"${F.id}"`,`"${F.name}"`,`"${F.description}"`,`"${F.category}"`,`"${F.type}"`,`"${F.unit}"`,F.cost_price,F.sale_price||0,F.current_stock,F.min_stock,`"${F.components.map(W=>`${W.product_name}:${W.quantity}`).join(";")}"`].join(","))].join(`
`);Y(B,"produtos.csv")},ce=()=>{const B=[["numero","cliente","titulo","descricao","status","tipo","orcamento","data_inicio","data_fim","custo_materiais","custo_mao_obra","margem_lucro"].join(","),...s.map(F=>[F.number,`"${F.client_name}"`,`"${F.title}"`,`"${F.description}"`,`"${F.status}"`,`"${F.type}"`,F.budget,`"${F.start_date}"`,`"${F.end_date}"`,F.materials_cost||0,F.labor_cost||0,F.profit_margin||0].join(","))].join(`
`);Y(B,"projetos.csv")},te=()=>{const B=[["tipo","categoria","descricao","valor","data","projeto"].join(","),...c.map(F=>[`"${F.type}"`,`"${F.category}"`,`"${F.description}"`,F.amount,`"${F.date}"`,`"${F.project_title||""}"`].join(","))].join(`
`);Y(B,"transacoes.csv")},Y=(R,B)=>{const F=new Blob([R],{type:"text/csv;charset=utf-8;"}),W=document.createElement("a"),Z=URL.createObjectURL(F);W.setAttribute("href",Z),W.setAttribute("download",B),W.style.visibility="hidden",document.body.appendChild(W),W.click(),document.body.removeChild(W)},re=R=>{const B=[];let F="",W=!1;for(let Z=0;Z<R.length;Z++){const Q=R[Z];Q==='"'?W=!W:Q===","&&!W?(B.push(F.trim()),F=""):F+=Q}return B.push(F.trim()),B},O=async R=>{const F=(await R.text()).split(`
`);for(let W=1;W<F.length;W++){const Z=F[W].trim();if(!Z)continue;const Q=re(Z);if(Q.length<10)continue;const xe={name:Q[1]||"",type:Q[3]==="J"?"pj":"pf",cpf:Q[3]==="F"?Q[9]:void 0,cnpj:Q[3]==="J"?Q[9]:void 0,email:Q[8]||"",phone:Q[4]||"",mobile:Q[5]||"",razao_social:Q[15]||void 0,inscricao_estadual:Q[10]||void 0,isento_icms:Q[14]==="true",numero:Q[13]||void 0,complemento:Q[12]||void 0,id_empresa:Q[16]||void 0,fl_ativo:Q[17]!=="false",address:{country:"Brasil",state:"",city:Q[7]||"",zipCode:Q[6]||"",neighborhood:Q[11]||"",streetType:"Rua",street:Q[2]||""},total_projects:0,total_value:0};await j(xe)}},ae=async R=>{const F=(await R.text()).split(`
`);for(let W=1;W<F.length;W++){const Z=F[W].trim();if(!Z)continue;const Q=re(Z);if(Q.length<10)continue;const xe={name:Q[1]||"",description:Q[2]||"",category:Q[3]||"",type:Q[4]||"material_bruto",unit:Q[5]||"UN",cost_price:parseFloat(Q[6])||0,sale_price:parseFloat(Q[7])||void 0,current_stock:parseFloat(Q[8])||0,min_stock:parseFloat(Q[9])||0,components:[]};await E(xe)}},ie=async R=>{const F=(await R.text()).split(`
`);for(let W=1;W<F.length;W++){const Z=F[W].trim();if(!Z)continue;const Q=re(Z);if(Q.length<8)continue;const xe=t.find(Ie=>Ie.name===Q[1]);if(!xe)continue;const pe={client_id:xe.id,client_name:Q[1],title:Q[2]||"",description:Q[3]||"",status:Q[4]||"orcamento",type:Q[5]||"orcamento",products:[],budget:parseFloat(Q[6])||0,start_date:Q[7]||new Date().toISOString().split("T")[0],end_date:Q[8]||new Date().toISOString().split("T")[0],materials_cost:parseFloat(Q[9])||0,labor_cost:parseFloat(Q[10])||0,profit_margin:parseFloat(Q[11])||20};await N(pe)}},$=async R=>{const F=(await R.text()).split(`
`);for(let W=1;W<F.length;W++){const Z=F[W].trim();if(!Z)continue;const Q=re(Z);if(Q.length<5)continue;const xe={type:Q[0]||"entrada",category:Q[1]||"",description:Q[2]||"",amount:parseFloat(Q[3])||0,date:Q[4]||new Date().toISOString().split("T")[0],project_title:Q[5]||void 0};await P(xe)}},q=()=>{const R=t.length,B=s.filter(pe=>pe.status==="em_producao"||pe.status==="aprovado").length,F=new Date().getMonth(),W=c.filter(pe=>pe.type==="entrada"&&new Date(pe.date).getMonth()===F).reduce((pe,Ie)=>pe+Ie.amount,0),Z=s.filter(pe=>pe.status==="concluido"||pe.status==="entregue").reduce((pe,Ie)=>pe+Ie.budget*.5,0),Q=f.filter(pe=>pe.current_stock<=pe.min_stock).length,xe=[...s.slice(-3).map(pe=>({type:"project",message:`Novo projeto #${pe.number}: ${pe.title}`,date:pe.created_at})),...c.slice(-3).map(pe=>({type:"transaction",message:`${pe.type==="entrada"?"Recebimento":"Pagamento"}: R$ ${pe.amount.toLocaleString()}`,date:pe.created_at}))].sort((pe,Ie)=>new Date(Ie.date).getTime()-new Date(pe.date).getTime()).slice(0,5);return{totalClients:R,activeProjects:B,monthlyRevenue:W,pendingPayments:Z,lowStockItems:Q,recentActivity:xe}};return a.jsx(Cx.Provider,{value:{clients:t,projects:s,transactions:c,products:f,stockMovements:g,loading:v,addClient:j,updateClient:S,deleteClient:b,addProject:N,updateProject:k,deleteProject:C,addTransaction:P,addProduct:E,updateProduct:V,deleteProduct:A,addStockMovement:M,processProjectStockMovement:I,calculateProductCost:de,getAvailableComponents:be,exportClientsCSV:ue,exportProductsCSV:X,exportProjectsCSV:ce,exportTransactionsCSV:te,importClientsCSV:O,importProductsCSV:ae,importProjectsCSV:ie,importTransactionsCSV:$,getDashboardStats:q},children:e})},Rg=()=>{const{getDashboardStats:e}=vr(),t=e(),r=({title:s,value:i,icon:c,color:u,trend:f})=>a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 hover:shadow-xl transition-shadow duration-300",style:{borderLeftColor:u},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:s}),a.jsx("p",{className:"text-3xl font-bold",style:{color:u},children:i}),f&&a.jsxs("p",{className:"text-sm text-green-600 flex items-center mt-2",children:[a.jsx(Pf,{className:"h-4 w-4 mr-1"}),f]})]}),a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:u+"20"},children:a.jsx(c,{className:"h-8 w-8",style:{color:u}})})]})});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Visão geral do seu negócio"})]}),a.jsxs("div",{className:"flex items-center space-x-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg",children:[a.jsx(rg,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"Sistema Online"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(r,{title:"Total de Clientes",value:t.totalClients,icon:xs,color:"#8B4513",trend:"+12% este mês"}),a.jsx(r,{title:"Projetos Ativos",value:t.activeProjects,icon:Un,color:"#228B22"}),a.jsx(r,{title:"Faturamento Mensal",value:`R$ ${t.monthlyRevenue.toLocaleString()}`,icon:xr,color:"#DAA520",trend:"+8% vs mês anterior"}),a.jsx(r,{title:"Pagamentos Pendentes",value:`R$ ${t.pendingPayments.toLocaleString()}`,icon:ps,color:"#DC2626"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[a.jsx(rg,{className:"h-5 w-5 mr-2 text-amber-600"}),"Atividades Recentes"]})}),a.jsx("div",{className:"space-y-4",children:t.recentActivity.map((s,i)=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${s.type==="project"?"bg-blue-500":"bg-green-500"}`}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-800",children:s.message}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.date).toLocaleDateString("pt-BR")})]})]},i))})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[a.jsx(Vn,{className:"h-5 w-5 mr-2 text-amber-600"}),"Status dos Projetos"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Orçamento"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"20%"}})}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"1"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Aprovado"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:"30%"}})}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"1"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Em Produção"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"40%"}})}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"1"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Concluído"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"10%"}})}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"0"})]})]})]})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl shadow-lg p-6 border-l-4 border-amber-500",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(ps,{className:"h-6 w-6 text-amber-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-amber-800",children:"Atenção Necessária"}),a.jsxs("div",{className:"mt-2 space-y-2",children:[a.jsx("p",{className:"text-sm text-amber-700",children:'• Projeto "Cozinha Sob Medida" deve ser finalizado em 10 dias'}),a.jsx("p",{className:"text-sm text-amber-700",children:"• Aguardando aprovação do cliente Maria Santos"}),a.jsx("p",{className:"text-sm text-amber-700",children:"• Falta material para 2 projetos - verificar estoque"})]})]})]})})]})},uk=({client:e,onClose:t})=>{const{addClient:r,updateClient:s}=vr(),[i,c]=_.useState({name:"",type:"pf",cpf:"",cnpj:"",email:"",phone:"",mobile:"",razao_social:"",inscricao_estadual:"",isento_icms:!1,numero:"",complemento:"",id_empresa:"",fl_ativo:!0,address:{country:"Brasil",state:"",city:"",zipCode:"",neighborhood:"",streetType:"Rua",street:""}});_.useEffect(()=>{e&&c({name:e.name,type:e.type,cpf:e.cpf||"",cnpj:e.cnpj||"",email:e.email,phone:e.phone,mobile:e.mobile,razao_social:e.razao_social||"",inscricao_estadual:e.inscricao_estadual||"",isento_icms:e.isento_icms||!1,numero:e.numero||"",complemento:e.complemento||"",id_empresa:e.id_empresa||"",fl_ativo:e.fl_ativo,address:e.address})},[e]);const u=S=>{S.preventDefault(),e?s(e.id,i):r(i),t()},f=S=>{const{name:b,value:N}=S.target;if(b.startsWith("address.")){const k=b.split(".")[1];c(C=>({...C,address:{...C.address,[k]:N}}))}else c(k=>({...k,[b]:N}))},h=async S=>{const b=S.target.value.replace(/\D/g,"");if(c(N=>({...N,address:{...N.address,zipCode:b}})),b.length===8)try{const k=await(await fetch(`https://viacep.com.br/ws/${b}/json/`)).json();k.erro||c(C=>({...C,address:{...C.address,state:k.uf,city:k.localidade,neighborhood:k.bairro,street:k.logradouro}}))}catch(N){console.error("Erro ao buscar CEP:",N)}},g=S=>S.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),p=S=>S.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),v=S=>S.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1"),y=S=>S.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1"),j=S=>S.replace(/\D/g,"").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{3})\d+?$/,"$1");return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-t-xl",children:[a.jsx("h2",{className:"text-2xl font-bold",children:e?"Editar Cliente":"Novo Cliente"}),a.jsx("button",{onClick:t,className:"p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",children:a.jsx(Jt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[a.jsx(Wr,{className:"h-4 w-4 inline mr-2 text-amber-600"}),"Tipo de Pessoa"]}),a.jsxs("div",{className:"flex space-x-6",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"type",value:"pf",checked:i.type==="pf",onChange:f,className:"mr-2 text-amber-600 focus:ring-amber-500"}),a.jsx("span",{className:"text-sm font-medium",children:"Pessoa Física"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"type",value:"pj",checked:i.type==="pj",onChange:f,className:"mr-2 text-amber-600 focus:ring-amber-500"}),a.jsx("span",{className:"text-sm font-medium",children:"Pessoa Jurídica"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Ao,{className:"h-4 w-4 inline mr-2 text-amber-600"}),i.type==="pf"?"Nome Completo":"Razão Social"]}),a.jsx("input",{type:"text",name:"name",value:i.name,onChange:f,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:i.type==="pf"?"Digite o nome completo":"Digite a razão social"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Wr,{className:"h-4 w-4 inline mr-2 text-amber-600"}),i.type==="pf"?"CPF":"CNPJ"]}),a.jsx("input",{type:"text",name:i.type==="pf"?"cpf":"cnpj",value:i.type==="pf"?i.cpf:i.cnpj,onChange:S=>{const b=i.type==="pf"?g(S.target.value):p(S.target.value);f({...S,target:{...S.target,value:b}})},required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:i.type==="pf"?"000.000.000-00":"00.000.000/0000-00"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Io,{className:"h-4 w-4 inline mr-2 text-amber-600"}),"Email"]}),a.jsx("input",{type:"email",name:"email",value:i.email,onChange:f,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"cliente@email.com"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Sl,{className:"h-4 w-4 inline mr-2 text-amber-600"}),"Telefone"]}),a.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:S=>{const b=v(S.target.value);f({...S,target:{...S.target,value:b}})},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"(11) 3333-3333"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(F_,{className:"h-4 w-4 inline mr-2 text-amber-600"}),"Celular"]}),a.jsx("input",{type:"tel",name:"mobile",value:i.mobile,onChange:S=>{const b=y(S.target.value);f({...S,target:{...S.target,value:b}})},required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"(11) 99999-9999"})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Cf,{className:"h-5 w-5 mr-2 text-amber-600"}),"Endereço"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"País"}),a.jsx("input",{type:"text",name:"address.country",value:i.address.country,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CEP"}),a.jsx("input",{type:"text",name:"address.zipCode",value:j(i.address.zipCode),onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"00000-000"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),a.jsx("input",{type:"text",name:"address.state",value:i.address.state,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cidade"}),a.jsx("input",{type:"text",name:"address.city",value:i.address.city,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]}),i.type==="pj"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Razão Social"}),a.jsx("input",{type:"text",name:"razao_social",value:i.razao_social,onChange:f,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Razão social da empresa"})]}),i.type==="pj"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inscrição Estadual"}),a.jsx("input",{type:"text",name:"inscricao_estadual",value:i.inscricao_estadual,onChange:f,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Inscrição estadual"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bairro"}),a.jsx("input",{type:"text",name:"address.neighborhood",value:i.address.neighborhood,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Logradouro"}),a.jsxs("select",{name:"address.streetType",value:i.address.streetType,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[a.jsx("option",{value:"Rua",children:"Rua"}),a.jsx("option",{value:"Avenida",children:"Avenida"}),a.jsx("option",{value:"Alameda",children:"Alameda"}),a.jsx("option",{value:"Travessa",children:"Travessa"}),a.jsx("option",{value:"Praça",children:"Praça"}),a.jsx("option",{value:"Estrada",children:"Estrada"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logradouro"}),a.jsx("input",{type:"text",name:"address.street",value:i.address.street,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Nome da rua, número"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número"}),a.jsx("input",{type:"text",name:"numero",value:i.numero,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Número"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complemento"}),a.jsx("input",{type:"text",name:"complemento",value:i.complemento,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Complemento"})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Wr,{className:"h-5 w-5 mr-2 text-amber-600"}),"Configurações Adicionais"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID da Empresa"}),a.jsx("input",{type:"text",name:"id_empresa",value:i.id_empresa,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"ID da empresa"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"isento_icms",checked:i.isento_icms,onChange:S=>c(b=>({...b,isento_icms:S.target.checked})),className:"mr-2 text-amber-600 focus:ring-amber-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Isento de ICMS"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"fl_ativo",checked:i.fl_ativo,onChange:S=>c(b=>({...b,fl_ativo:S.target.checked})),className:"mr-2 text-amber-600 focus:ring-amber-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Cliente Ativo"})]})]})]})]}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-lg hover:from-amber-700 hover:to-orange-700 font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:e?"Atualizar":"Salvar"})]})]})]})})},dk=()=>{const{clients:e,deleteClient:t}=vr(),[r,s]=_.useState(""),[i,c]=_.useState(!1),[u,f]=_.useState(null),h=e.filter(y=>y.name.toLowerCase().includes(r.toLowerCase())||y.email.toLowerCase().includes(r.toLowerCase())||y.phone.includes(r)),g=y=>{f(y),c(!0)},p=y=>{window.confirm("Tem certeza que deseja excluir este cliente? Todos os projetos relacionados também serão removidos.")&&t(y)},v=()=>{c(!1),f(null)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Gestão de Clientes"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie sua base de clientes"})]}),a.jsxs("button",{onClick:()=>c(!0),className:"bg-gradient-to-r from-amber-600 to-amber-700 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:from-amber-700 hover:to-amber-800 transition-all duration-200 shadow-lg hover:shadow-xl",children:[a.jsx(cn,{className:"h-5 w-5"}),a.jsx("span",{children:"Novo Cliente"})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou telefone...",value:r,onChange:y=>s(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(y=>a.jsxs("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 overflow-hidden",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:y.name}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>g(y),className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",children:a.jsx(M_,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>p(y.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(gs,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[a.jsx(Io,{className:"h-4 w-4 text-amber-600"}),a.jsx("span",{className:"text-sm",children:y.email})]}),y.phone&&a.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[a.jsx(Sl,{className:"h-4 w-4 text-amber-600"}),a.jsx("span",{className:"text-sm",children:y.phone})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[a.jsx(Sl,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"text-sm",children:y.mobile})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[a.jsx(Cf,{className:"h-4 w-4 text-amber-600"}),a.jsxs("span",{className:"text-sm",children:[y.address.city,", ",y.address.state]})]})]})]}),a.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[a.jsx(Un,{className:"h-4 w-4 text-amber-600"}),a.jsxs("span",{children:[y.total_projects||0," projetos"]})]})}),a.jsxs("div",{className:"flex items-center space-x-1 text-sm font-medium text-green-600",children:[a.jsx(xr,{className:"h-4 w-4"}),a.jsxs("span",{children:["R$ ",(y.total_value||0).toLocaleString()]})]})]})})]},y.id))}),h.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx(xs,{className:"h-16 w-16 mx-auto"})}),a.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:r?"Nenhum cliente encontrado":"Nenhum cliente cadastrado"}),a.jsx("p",{className:"text-gray-400",children:r?"Tente ajustar os termos de busca":"Comece adicionando seu primeiro cliente"})]})}),i&&a.jsx(uk,{client:u,onClose:v})]})},hd={watermark:{enabled:!0,opacity:.08,size:80,position:"center"},header:{companyName:{fontSize:18,fontWeight:"bold",color:"#FFFFFF"},backgroundColor:"#4682B4",gradient:{enabled:!1,startColor:"#4682B4",endColor:"#1E40AF",direction:"horizontal"},height:35}},md={basic:{name:"CARNEVALLI ESQUADRIAS LTDA",tradeName:"Carnevalli Esquadrias",email:"carnevalli.esquadrias@gmail.com",website:"www.carnevalliesquadrias.com.br",phone:"(54) 3242-2072",mobile:"(54) 99999-9999"},address:{street:"BUARQUE DE MACEDO",number:"2735",complement:"PAVILHÃO",neighborhood:"CENTRO",city:"Nova Prata",state:"RS",zipCode:"95320-000",country:"Brasil"},fiscal:{cnpj:"88.235.288/0001-24",ie:"0850011930",im:"",taxRegime:"simples_nacional",icmsContributor:!0,issContributor:!1,pisContributor:!1,cofinsContributor:!1,crt:"1",cnae:"1622-9/00",cnaes:[]},banking:{bank:"",agency:"",account:"",accountType:"corrente",pix:""}},pd={categories:["Painéis","Ferragens","Madeiras","Vernizes","Colas","Parafusos","Portas","Gavetas","Prateleiras","Estruturas","Acessórios","Outros"],units:["UN","M","M²","M³","KG","L","PC","CX","PCT","ML"],stockAlerts:{enabled:!0,threshold:0,showInDashboard:!0,highlightLowStock:!0,expirationAlerts:!1},automation:{autoStockMovement:!0,autoCalculateCosts:!0,defaultProfitMargin:20,suggestReorder:!0,suggestAlternatives:!1}},Ex=_.createContext(void 0),Mo=()=>{const e=_.useContext(Ex);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e},fk=({children:e})=>{const[t,r]=_.useState(hd),[s,i]=_.useState(md),[c,u]=_.useState(pd);_.useEffect(()=>{const j=localStorage.getItem("pdfSettings");if(j)try{const N=JSON.parse(j);r({...hd,...N})}catch(N){console.error("Erro ao carregar configurações do PDF:",N)}const S=localStorage.getItem("companySettings");if(S)try{const N=JSON.parse(S);i({...md,...N})}catch(N){console.error("Erro ao carregar configurações da empresa:",N)}const b=localStorage.getItem("productSettings");if(b)try{const N=JSON.parse(b);u({...pd,...N})}catch(N){console.error("Erro ao carregar configurações de produtos:",N)}},[]),_.useEffect(()=>{localStorage.setItem("pdfSettings",JSON.stringify(t))},[t]),_.useEffect(()=>{localStorage.setItem("companySettings",JSON.stringify(s))},[s]),_.useEffect(()=>{localStorage.setItem("productSettings",JSON.stringify(c))},[c]);const f=j=>{r(S=>({watermark:{...S.watermark,...j.watermark||{}},header:{...S.header,...j.header||{},companyName:{...S.header.companyName,...j.header?.companyName||{}},gradient:{...S.header.gradient,...j.header?.gradient||{}}}}))},h=j=>{i(S=>({...S,...j,basic:{...S.basic,...j.basic},address:{...S.address,...j.address},fiscal:{...S.fiscal,...j.fiscal},banking:{...S.banking,...j.banking}}))},g=j=>{u(S=>({...S,...j,stockAlerts:{...S.stockAlerts,...j.stockAlerts},automation:{...S.automation,...j.automation}}))},p=()=>{r(hd),localStorage.removeItem("pdfSettings")},v=()=>{i(md),localStorage.removeItem("companySettings")},y=()=>{u(pd),localStorage.removeItem("productSettings")};return a.jsx(Ex.Provider,{value:{pdfSettings:t,companySettings:s,productSettings:c,updatePDFSettings:f,updateCompanySettings:h,updateProductSettings:g,resetPDFSettings:p,resetCompanySettings:v,resetProductSettings:y},children:e})},hk=({project:e,onClose:t})=>{const{clients:r,products:s,addProject:i,updateProject:c}=vr(),[u,f]=_.useState({client_id:"",title:"",description:"",status:"orcamento",type:"orcamento",start_date:new Date().toISOString().split("T")[0],end_date:"",materials_cost:"",labor_cost:"",profit_margin:"20"}),[h,g]=_.useState([]),[p,v]=_.useState({installments:1,payment_method:"dinheiro",discount_percentage:0}),[y,j]=_.useState(!1),[S,b]=_.useState(""),[N,k]=_.useState(""),[C,P]=_.useState(!1),[D,E]=_.useState("");_.useEffect(()=>{if(e){f({client_id:e.client_id,title:e.title,description:e.description,status:e.status,type:e.type,start_date:e.start_date,end_date:e.end_date,materials_cost:e.materials_cost?.toString()||"",labor_cost:e.labor_cost?.toString()||"",profit_margin:e.profit_margin?.toString()||"20"}),g(e.products||[]),e.payment_terms&&v({installments:e.payment_terms.installments,payment_method:e.payment_terms.payment_method,discount_percentage:e.payment_terms.discount_percentage});const R=r.find(B=>B.id===e.client_id);R&&(E(R.name),k(R.name))}},[e]);const V=()=>{const R=h.reduce((xe,pe)=>xe+pe.total_price,0),B=parseFloat(u.materials_cost)||0,F=parseFloat(u.labor_cost)||0,W=parseFloat(u.profit_margin)||0;return(R+B+F)*(1+W/100)},A=R=>{if(R.preventDefault(),!u.client_id){alert("Por favor, selecione um cliente");return}const B=V(),F=B*(p.discount_percentage/100),W=B-F,Z=W/p.installments,Q={client_id:u.client_id,title:u.title,description:u.description,status:u.status,type:u.type,products:h,budget:B,start_date:u.start_date,end_date:u.end_date||u.start_date,materials_cost:parseFloat(u.materials_cost)||0,labor_cost:parseFloat(u.labor_cost)||0,profit_margin:parseFloat(u.profit_margin)||20,payment_terms:{installments:p.installments,payment_method:p.payment_method,discount_percentage:p.discount_percentage,installment_value:Z,total_with_discount:W}};e?c(e.id,Q):i(Q),t()},M=R=>{f(B=>({...B,[R.target.name]:R.target.value}))},I=R=>{const{name:B,value:F}=R.target;v(W=>({...W,[B]:B==="installments"||B==="discount_percentage"?parseInt(F)||0:F}))},de=R=>{const B=s.find(W=>W.id===R);if(!B)return;if(h.find(W=>W.product_id===R))g(W=>W.map(Z=>Z.product_id===R?{...Z,quantity:Z.quantity+1,total_price:(Z.quantity+1)*Z.unit_price}:Z));else{const W=B.sale_price||B.cost_price*1.5;g(Z=>[...Z,{id:Date.now().toString(),product_id:R,product_name:B.name,quantity:1,unit_price:W,total_price:W}])}j(!1),b("")},be=r.filter(R=>R.name.toLowerCase().includes(N.toLowerCase())||R.email.toLowerCase().includes(N.toLowerCase())||R.cpf&&R.cpf.includes(N)||R.cnpj&&R.cnpj.includes(N)),ue=R=>{f(B=>({...B,client_id:R.id})),E(R.name),k(R.name),P(!1)},X=R=>{const B=R.target.value;k(B),P(!0),r.find(W=>W.name.toLowerCase()===B.toLowerCase())||(f(W=>({...W,client_id:""})),E(""))},ce=()=>{P(!0)},te=()=>{setTimeout(()=>{P(!1)},200)},Y=(R,B)=>{if(B<=0){O(R);return}g(F=>F.map(W=>W.product_id===R?{...W,quantity:B,total_price:B*W.unit_price}:W))},re=(R,B)=>{g(F=>F.map(W=>W.product_id===R?{...W,unit_price:B,total_price:W.quantity*B}:W))},O=R=>{g(B=>B.filter(F=>F.product_id!==R))},ae=s.filter(R=>R.name.toLowerCase().includes(S.toLowerCase())||R.description.toLowerCase().includes(S.toLowerCase())),ie=V(),$=ie*(p.discount_percentage/100),q=ie-$;return a.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-t-xl",children:[a.jsx("h2",{className:"text-2xl font-bold",children:e?"Editar Projeto":"Novo Projeto"}),a.jsx("button",{onClick:t,className:"p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",children:a.jsx(Jt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:A,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"relative",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Ao,{className:"h-4 w-4 inline mr-2 text-amber-600"}),"Cliente"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:N,onChange:X,onFocus:ce,onBlur:te,placeholder:"Digite para buscar cliente...",className:"w-full px-4 py-3 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),a.jsx(Sf,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),u.client_id&&a.jsx(jl,{className:"absolute right-10 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-500"})]}),C&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:be.length>0?be.map(R=>a.jsx("button",{type:"button",onClick:()=>ue(R),className:`w-full text-left px-4 py-3 hover:bg-amber-50 border-b border-gray-100 last:border-b-0 transition-colors ${u.client_id===R.id?"bg-amber-50 text-amber-700":"text-gray-700"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:R.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:[R.email," • ",R.mobile]}),R.type==="pj"&&R.cnpj&&a.jsxs("div",{className:"text-xs text-gray-400",children:["CNPJ: ",R.cnpj]}),R.type==="pf"&&R.cpf&&a.jsxs("div",{className:"text-xs text-gray-400",children:["CPF: ",R.cpf]})]}),u.client_id===R.id&&a.jsx(jl,{className:"h-5 w-5 text-amber-600"})]})},R.id)):a.jsxs("div",{className:"px-4 py-3 text-gray-500 text-center",children:[a.jsx(Ao,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"Nenhum cliente encontrado"}),a.jsx("p",{className:"text-xs",children:"Tente ajustar a busca"})]})})]}),!u.client_id&&N&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Por favor, selecione um cliente da lista"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo do Projeto"}),a.jsxs("select",{name:"type",value:u.type,onChange:M,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[a.jsx("option",{value:"orcamento",children:"Orçamento"}),a.jsx("option",{value:"venda",children:"Venda"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Un,{className:"h-4 w-4 inline mr-2 text-amber-600"}),"Título do Projeto"]}),a.jsx("input",{type:"text",name:"title",value:u.title,onChange:M,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ex: Cozinha sob medida"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsxs("select",{name:"status",value:u.status,onChange:M,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[a.jsx("option",{value:"orcamento",children:"Orçamento"}),a.jsx("option",{value:"aprovado",children:"Aprovado"}),a.jsx("option",{value:"em_producao",children:"Em Produção"}),a.jsx("option",{value:"concluido",children:"Concluído"}),a.jsx("option",{value:"entregue",children:"Entregue"})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Wr,{className:"h-4 w-4 inline mr-2 text-amber-600"}),"Descrição"]}),a.jsx("textarea",{name:"description",value:u.description,onChange:M,required:!0,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Descreva o projeto..."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Vn,{className:"h-4 w-4 inline mr-2 text-amber-600"}),"Data de Início"]}),a.jsx("input",{type:"date",name:"start_date",value:u.start_date,onChange:M,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Entrega"}),a.jsx("input",{type:"date",name:"end_date",value:u.end_date,onChange:M,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Produtos do Projeto"}),a.jsxs("button",{type:"button",onClick:()=>j(!0),className:"bg-amber-600 text-white px-4 py-2 rounded-lg hover:bg-amber-700 transition-colors flex items-center space-x-2",children:[a.jsx(cn,{className:"h-4 w-4"}),a.jsx("span",{children:"Adicionar Produto"})]})]}),a.jsx("div",{className:"space-y-3",children:h.map(R=>a.jsxs("div",{className:"bg-white p-4 rounded-lg border flex items-center justify-between",children:[a.jsx("div",{className:"flex-1",children:a.jsx("h4",{className:"font-medium text-gray-800",children:R.product_name})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Qtd:"}),a.jsx("input",{type:"number",value:R.quantity,onChange:B=>Y(R.product_id,parseInt(B.target.value)),min:"1",className:"w-16 px-2 py-1 border border-gray-300 rounded text-center focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Preço:"}),a.jsx("input",{type:"number",value:R.unit_price,onChange:B=>re(R.product_id,parseFloat(B.target.value)),min:"0",step:"0.01",className:"w-24 px-2 py-1 border border-gray-300 rounded text-center focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),a.jsxs("div",{className:"text-sm font-medium text-gray-800",children:["Total: R$ ",R.total_price.toFixed(2)]}),a.jsx("button",{type:"button",onClick:()=>O(R.product_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(gs,{className:"h-4 w-4"})})]})]},R.id))}),h.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(ar,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"Nenhum produto adicionado"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(xr,{className:"h-4 w-4 inline mr-2 text-green-600"}),"Custo de Materiais (R$)"]}),a.jsx("input",{type:"number",name:"materials_cost",value:u.materials_cost,onChange:M,min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"0,00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custo de Mão de Obra (R$)"}),a.jsx("input",{type:"number",name:"labor_cost",value:u.labor_cost,onChange:M,min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"0,00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Margem de Lucro (%)"}),a.jsx("input",{type:"number",name:"profit_margin",value:u.profit_margin,onChange:M,min:"0",step:"0.1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"20"})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Condições de Pagamento"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Forma de Pagamento"}),a.jsxs("select",{name:"payment_method",value:p.payment_method,onChange:I,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"dinheiro",children:"Dinheiro"}),a.jsx("option",{value:"pix",children:"PIX"}),a.jsx("option",{value:"cartao_credito",children:"Cartão de Crédito"}),a.jsx("option",{value:"cartao_debito",children:"Cartão de Débito"}),a.jsx("option",{value:"boleto",children:"Boleto"}),a.jsx("option",{value:"transferencia",children:"Transferência"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número de Parcelas"}),a.jsx("input",{type:"number",name:"installments",value:p.installments,onChange:I,min:"1",max:"12",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Desconto (%)"}),a.jsx("input",{type:"number",name:"discount_percentage",value:p.discount_percentage,onChange:I,min:"0",max:"50",step:"0.1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-3",children:"Resumo Financeiro"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Valor Bruto:"}),a.jsxs("p",{className:"font-bold text-green-800",children:["R$ ",ie.toFixed(2)]})]}),p.discount_percentage>0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Desconto:"}),a.jsxs("p",{className:"font-bold text-red-600",children:["R$ ",$.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Valor Final:"}),a.jsxs("p",{className:"font-bold text-green-800",children:["R$ ",q.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Parcela:"}),a.jsxs("p",{className:"font-bold text-green-800",children:["R$ ",(q/p.installments).toFixed(2)]})]})]})]}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:"Cancelar"}),a.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-lg hover:from-amber-700 hover:to-orange-700 font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:[e?"Atualizar":"Criar"," Projeto"]})]})]})]}),y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl mx-4 max-h-[80vh] overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Selecionar Produto"}),a.jsx("button",{onClick:()=>{j(!1),b("")},className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx(Jt,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:S,onChange:R=>b(R.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"max-h-96 overflow-y-auto p-4",children:[a.jsx("div",{className:"space-y-2",children:ae.map(R=>a.jsx("button",{type:"button",onClick:()=>de(R.id),className:"w-full text-left p-3 border border-gray-200 rounded-lg hover:bg-amber-50 hover:border-amber-300 transition-colors",children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-800",children:R.name}),a.jsx("p",{className:"text-sm text-gray-600",children:R.description}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Categoria: ",R.category]})]})})},R.id))}),ae.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Bn,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"Nenhum produto encontrado"})]})]})]})})]})},mk=()=>{const{projects:e,deleteProject:t}=vr(),{pdfSettings:r,companySettings:s}=Mo(),[i,c]=_.useState(""),[u,f]=_.useState("all"),[h,g]=_.useState("all"),[p,v]=_.useState(!1),[y,j]=_.useState(null),S=A=>({orcamento:"bg-blue-100 text-blue-800",aprovado:"bg-yellow-100 text-yellow-800",em_producao:"bg-orange-100 text-orange-800",concluido:"bg-green-100 text-green-800",entregue:"bg-purple-100 text-purple-800"})[A]||"bg-gray-100 text-gray-800",b=A=>({orcamento:"Orçamento",aprovado:"Aprovado",em_producao:"Em Produção",concluido:"Concluído",entregue:"Entregue"})[A]||A,N=A=>A==="orcamento"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800",k=A=>A==="orcamento"?"Orçamento":"Venda",C=async A=>{const{jsPDF:M}=await $o(async()=>{const{jsPDF:$}=await import("./jspdf.es.min-L3isGTB3.js").then(q=>q.j);return{jsPDF:$}},[]),I=new M,de={name:s.basic.name||"CARNEVALLI ESQUADRIAS LTDA",address:`${s.address.street}, ${s.address.number}${s.address.complement?" - "+s.address.complement:""} - ${s.address.neighborhood}`,city:`${s.address.city} - ${s.address.state} - CEP: ${s.address.zipCode}`,phone:s.basic.phone,email:s.basic.email,cnpj:s.fiscal.cnpj,ie:s.fiscal.ie};if(r.watermark.enabled)try{const $=new Image;$.crossOrigin="anonymous",$.src="/logo.svg",await new Promise(q=>{$.onload=()=>{const R=document.createElement("canvas"),B=R.getContext("2d");if(!B)throw new Error("Não foi possível obter o contexto 2D do canvas");R.width=$.width,R.height=$.height,B.globalAlpha=r.watermark.opacity,B.drawImage($,0,0);const F=R.toDataURL("image/png"),W=r.watermark.size,Z=r.watermark.size;let Q=0,xe=0;switch(r.watermark.position){case"center":Q=(210-W)/2,xe=(297-Z)/2;break;case"top-left":Q=10,xe=10;break;case"top-right":Q=210-W-10,xe=10;break;case"bottom-left":Q=10,xe=297-Z-10;break;case"bottom-right":Q=210-W-10,xe=297-Z-10;break}I.addImage(F,"PNG",Q,xe,W,Z),q(!0)},$.onerror=()=>q(!1)})}catch{console.log("Logo não encontrado, continuando sem marca d'água")}const be=r.header.height,ue=210,X=50;if(r.header.gradient.enabled){const $=B=>{const F=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(B);return F?{r:parseInt(F[1],16),g:parseInt(F[2],16),b:parseInt(F[3],16)}:{r:70,g:130,b:180}},q=$(r.header.gradient.startColor),R=$(r.header.gradient.endColor);for(let B=0;B<X;B++){const F=B/X;let W,Z,Q;switch(r.header.gradient.direction){case"horizontal":W=Math.round(q.r+(R.r-q.r)*F),Z=Math.round(q.g+(R.g-q.g)*F),Q=Math.round(q.b+(R.b-q.b)*F),I.setFillColor(W,Z,Q),I.rect(ue/X*B,0,ue/X,be,"F");break;case"vertical":W=Math.round(q.r+(R.r-q.r)*F),Z=Math.round(q.g+(R.g-q.g)*F),Q=Math.round(q.b+(R.b-q.b)*F),I.setFillColor(W,Z,Q),I.rect(0,be/X*B,ue,be/X,"F");break;case"diagonal-right":W=Math.round(q.r+(R.r-q.r)*F),Z=Math.round(q.g+(R.g-q.g)*F),Q=Math.round(q.b+(R.b-q.b)*F),I.setFillColor(W,Z,Q),I.rect(ue/X*B,0,ue/X,be,"F");break;case"diagonal-left":W=Math.round(R.r+(q.r-R.r)*F),Z=Math.round(R.g+(q.g-R.g)*F),Q=Math.round(R.b+(q.b-R.b)*F),I.setFillColor(W,Z,Q),I.rect(ue/X*B,0,ue/X,be,"F");break}}}else{const q=(R=>{const B=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(R);return B?{r:parseInt(B[1],16),g:parseInt(B[2],16),b:parseInt(B[3],16)}:{r:70,g:130,b:180}})(r.header.backgroundColor);I.setFillColor(q.r,q.g,q.b),I.rect(0,0,ue,be,"F")}try{const $=new Image;$.crossOrigin="anonymous",$.src="/400dpiLogoCropped.png",await new Promise((q,R)=>{$.onload=()=>{I.addImage($,"PNG",15,5,25,25),q(!0)},$.onerror=()=>q(!1)})}catch{console.log("Logo não encontrado no cabeçalho")}const te=($=>{const q=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec($);return q?{r:parseInt(q[1],16),g:parseInt(q[2],16),b:parseInt(q[3],16)}:{r:255,g:255,b:255}})(r.header.companyName.color);I.setTextColor(te.r,te.g,te.b),I.setFontSize(r.header.companyName.fontSize),I.setFont("helvetica",r.header.companyName.fontWeight),I.text(de.name,45,18),I.setFontSize(8),I.setFont("helvetica","normal"),I.text(de.address,45,24),I.text(de.city,45,28),I.text(de.phone,140,18),I.text(de.email,140,22),I.text(`CNPJ: ${de.cnpj}`,140,26),I.text(`IE: ${de.ie}`,140,30),I.setTextColor(0,0,0),I.setFontSize(16),I.setFont("helvetica","bold");const Y=A.type==="orcamento"?"ORÇAMENTO":"PROPOSTA COMERCIAL";I.text(Y,20,48),I.setFontSize(11),I.text(`Nº ${A.number.toString().padStart(4,"0")}`,160,48),I.setFontSize(12),I.setFont("helvetica","bold"),I.text("DADOS DO CLIENTE",20,60),I.setFontSize(10),I.setFont("helvetica","normal"),I.text(`Cliente: ${A.client_name}`,20,68),I.text(`Data: ${new Date().toLocaleDateString("pt-BR")}`,140,68),I.setFontSize(12),I.setFont("helvetica","bold"),I.text("DESCRIÇÃO",20,78),I.setFontSize(10),I.setFont("helvetica","normal"),I.text(`${A.title}`,20,86);const re=I.splitTextToSize(A.description,170);I.text(re,20,92);let O=92+re.length*4+10;if(A.products&&A.products.length>0&&(I.setFontSize(12),I.setFont("helvetica","bold"),I.text("PRODUTOS/SERVIÇOS",20,O),O+=10,I.setFontSize(9),I.setFont("helvetica","bold"),I.text("Qt.",20,O),I.text("Produto/Serviço",35,O),I.text("Detalhe do item",90,O),I.text("Valor unitário",140,O),I.text("Subtotal",175,O),O+=4,I.line(20,O,190,O),O+=8,I.setFont("helvetica","normal"),A.products.forEach($=>{I.text($.quantity.toString(),20,O),I.text($.product_name,35,O),I.setFontSize(7),I.text("Produto personalizado conforme especificação",35,O+3),I.setFontSize(9),I.text(`${$.unit_price.toFixed(2).replace(".",",")}`,140,O),I.text(`${$.total_price.toFixed(2).replace(".",",")}`,175,O),O+=7}),O+=8,I.line(140,O,190,O),O+=6,I.setFont("helvetica","bold"),I.text("Total",140,O),I.text(`${A.budget.toFixed(2).replace(".",",")}`,175,O),O+=5,A.payment_terms?.discount_percentage&&A.payment_terms.discount_percentage>0)){I.text("Descontos",140,O);const $=A.budget*(A.payment_terms.discount_percentage/100);I.text(`${$.toFixed(2).replace(".",",")}`,175,O),O+=5,I.text("Valor líquido",140,O);const q=A.payment_terms.total_with_discount||A.budget-$;I.text(`${q.toFixed(2).replace(".",",")}`,175,O),O+=5}if(O+=8,I.setFontSize(12),I.setFont("helvetica","bold"),I.text("Condição de pagamento:",20,O),O+=10,I.setFontSize(10),I.setFont("helvetica","normal"),A.payment_terms){const $={dinheiro:"Dinheiro",pix:"PIX",cartao_credito:"Cartão de Crédito",cartao_debito:"Cartão de Débito",boleto:"Boleto",transferencia:"Transferência"};if(I.text(`Forma de Pagamento: ${$[A.payment_terms.payment_method]}`,20,O),O+=6,A.payment_terms.installments>1){O+=4,I.setFont("helvetica","bold"),I.text("Nº",20,O),I.text("Vencimento",50,O),I.text("Valor (R$)",120,O),O+=6,I.setFont("helvetica","normal");for(let q=1;q<=A.payment_terms.installments;q++){const R=new Date;R.setMonth(R.getMonth()+(q-1)),I.text(`${q}º`,20,O),I.text(R.toLocaleDateString("pt-BR"),50,O),I.text(`${(A.payment_terms.installment_value||0).toFixed(2).replace(".",",")}`,120,O),O+=5}}else{O+=4,I.setFont("helvetica","bold"),I.text("Nº",20,O),I.text("Vencimento",50,O),I.text("Valor (R$)",120,O),O+=6,I.setFont("helvetica","normal"),I.text("1º",20,O),I.text(new Date().toLocaleDateString("pt-BR"),50,O);const q=A.payment_terms.total_with_discount||A.budget;I.text(`${q.toFixed(2).replace(".",",")}`,120,O)}}O=275,I.setFontSize(9),I.setFont("helvetica","normal"),I.text("Este orçamento tem validade de 30 dias.",20,O),I.text("Agradecemos a preferência!",20,O+4),I.line(20,O+12,190,O+12),I.text("Página 1 de 1",170,O+16);const ae=A.type==="orcamento"?"Orcamento":"Venda",ie=`${A.client_name?.replace(/\s+/g,"_")} - ${new Date().toLocaleDateString("pt-BR").replace(/\//g,"-")} - ${ae}${A.number}.pdf`;I.save(ie)},P=e.filter(A=>{const M=A.title.toLowerCase().includes(i.toLowerCase())||A.client_name?.toLowerCase().includes(i.toLowerCase())||A.description.toLowerCase().includes(i.toLowerCase()),I=u==="all"||A.status===u,de=h==="all"||A.type===h;return M&&I&&de}),D=A=>{j(A),v(!0)},E=A=>{window.confirm("Tem certeza que deseja excluir este projeto?")&&t(A)},V=()=>{v(!1),j(null)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Gestão de Projetos"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Acompanhe todos os seus projetos"})]}),a.jsxs("button",{onClick:()=>v(!0),className:"bg-gradient-to-r from-amber-600 to-amber-700 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:from-amber-700 hover:to-amber-800 transition-all duration-200 shadow-lg hover:shadow-xl",children:[a.jsx(cn,{className:"h-5 w-5"}),a.jsx("span",{children:"Novo Projeto"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(tx,{className:"h-5 w-5 text-gray-500"}),a.jsx("span",{className:"font-medium text-gray-700",children:"Filtros:"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Buscar projetos...",value:i,onChange:A=>c(A.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),a.jsxs("select",{value:h,onChange:A=>g(A.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Todos os Tipos"}),a.jsx("option",{value:"orcamento",children:"Orçamentos"}),a.jsx("option",{value:"venda",children:"Vendas"})]}),a.jsxs("select",{value:u,onChange:A=>f(A.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Todos os Status"}),a.jsx("option",{value:"orcamento",children:"Orçamento"}),a.jsx("option",{value:"aprovado",children:"Aprovado"}),a.jsx("option",{value:"em_producao",children:"Em Produção"}),a.jsx("option",{value:"concluido",children:"Concluído"}),a.jsx("option",{value:"entregue",children:"Entregue"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:P.map(A=>a.jsxs("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 overflow-hidden",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:A.title}),a.jsxs("span",{className:"text-sm text-gray-500",children:["#",A.number.toString().padStart(4,"0")]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${N(A.type)}`,children:k(A.type)}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${S(A.status)}`,children:b(A.status)})]})]}),a.jsxs("div",{className:"flex space-x-2 ml-4",children:[a.jsx("button",{onClick:()=>C(A),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Gerar PDF",children:a.jsx(Nf,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>D(A),className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",children:a.jsx(Po,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>E(A.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(gs,{className:"h-4 w-4"})})]})]}),a.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:A.description}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[a.jsx(Ao,{className:"h-4 w-4 text-amber-600"}),a.jsx("span",{className:"text-sm",children:A.client_name})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[a.jsx(xr,{className:"h-4 w-4 text-green-600"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"text-sm font-medium",children:["R$ ",A.budget.toLocaleString()]}),A.payment_terms&&A.payment_terms.discount_percentage>0&&a.jsxs("span",{className:"text-xs text-green-600",children:["Com desconto: R$ ",A.payment_terms.total_with_discount?.toFixed(2)]})]})]}),A.payment_terms&&a.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[a.jsx(Wr,{className:"h-4 w-4 text-blue-600"}),a.jsxs("span",{className:"text-sm",children:[A.payment_terms.installments,"x de R$ ",A.payment_terms.installment_value?.toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[a.jsx(Vn,{className:"h-4 w-4 text-amber-600"}),a.jsx("span",{className:"text-sm",children:new Date(A.start_date).toLocaleDateString("pt-BR")})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[a.jsx(ex,{className:"h-4 w-4 text-amber-600"}),a.jsxs("span",{className:"text-sm",children:["até ",new Date(A.end_date).toLocaleDateString("pt-BR")]})]})]})]})]}),a.jsx("div",{className:"px-6 pb-4",children:a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${A.status==="orcamento"?"bg-blue-500 w-1/5":A.status==="aprovado"?"bg-yellow-500 w-2/5":A.status==="em_producao"?"bg-orange-500 w-3/5":A.status==="concluido"?"bg-green-500 w-4/5":"bg-purple-500 w-full"}`})})})]},A.id))}),P.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx(Vn,{className:"h-16 w-16 mx-auto"})}),a.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:i||u!=="all"||h!=="all"?"Nenhum projeto encontrado":"Nenhum projeto cadastrado"}),a.jsx("p",{className:"text-gray-400",children:i||u!=="all"||h!=="all"?"Tente ajustar os filtros de busca":"Comece criando seu primeiro projeto"})]})}),p&&a.jsx(hk,{project:y,onClose:V})]})},pk=({onClose:e})=>{const{addTransaction:t,projects:r}=vr(),[s,i]=_.useState({type:"entrada",category:"",description:"",amount:"",date:new Date().toISOString().split("T")[0],project_id:""}),c=["Sinal","Pagamento Final","Pagamento Parcial","Outros Recebimentos"],u=["Material","Ferramentas","Transporte","Mão de Obra","Aluguel","Energia","Outros Gastos"],f=p=>{p.preventDefault();const v={type:s.type,category:s.category,description:s.description,amount:parseFloat(s.amount),date:s.date,project_id:s.project_id||void 0,project_title:s.project_id?r.find(y=>y.id===s.project_id)?.title:void 0};t(v),e()},h=p=>{const{name:v,value:y}=p.target;i(j=>({...j,[v]:y})),v==="type"&&i(j=>({...j,category:""}))},g=s.type==="entrada"?c:u;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Nova Transação"}),a.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx(Jt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo da Transação"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"type",value:"entrada",checked:s.type==="entrada",onChange:h,className:"mr-2 text-green-600 focus:ring-green-500"}),a.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Entrada"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"type",value:"saida",checked:s.type==="saida",onChange:h,className:"mr-2 text-red-600 focus:ring-red-500"}),a.jsx("span",{className:"text-sm text-red-700 font-medium",children:"Saída"})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Vn,{className:"h-4 w-4 inline mr-2 text-amber-600"}),"Data"]}),a.jsx("input",{type:"date",name:"date",value:s.date,onChange:h,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(sx,{className:"h-4 w-4 inline mr-2 text-amber-600"}),"Categoria"]}),a.jsxs("select",{name:"category",value:s.category,onChange:h,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Selecione uma categoria"}),g.map(p=>a.jsx("option",{value:p,children:p},p))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Un,{className:"h-4 w-4 inline mr-2 text-amber-600"}),"Projeto (opcional)"]}),a.jsxs("select",{name:"project_id",value:s.project_id,onChange:h,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Selecione um projeto"}),r.map(p=>a.jsx("option",{value:p.id,children:p.title},p.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Wr,{className:"h-4 w-4 inline mr-2 text-amber-600"}),"Descrição"]}),a.jsx("textarea",{name:"description",value:s.description,onChange:h,required:!0,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Descreva a transação..."})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(xr,{className:"h-4 w-4 inline mr-2 text-green-600"}),"Valor (R$)"]}),a.jsx("input",{type:"number",name:"amount",value:s.amount,onChange:h,required:!0,min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"0,00"})]}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:"Cancelar"}),a.jsx("button",{type:"submit",className:`flex-1 px-6 py-3 text-white rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl ${s.type==="entrada"?"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800":"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800"}`,children:"Salvar Transação"})]})]})]})})},gk=()=>{const{transactions:e,projects:t}=vr(),[r,s]=_.useState(!1),[i,c]=_.useState("all"),[u,f]=_.useState("all"),h=e.filter(k=>k.type==="entrada").reduce((k,C)=>k+C.amount,0),g=e.filter(k=>k.type==="saida").reduce((k,C)=>k+C.amount,0),p=h-g,v=new Date().getMonth(),y=new Date().getFullYear(),j=e.filter(k=>{const C=new Date(k.date);return k.type==="entrada"&&C.getMonth()===v&&C.getFullYear()===y}).reduce((k,C)=>k+C.amount,0),S=e.filter(k=>{const C=new Date(k.date);return k.type==="saida"&&C.getMonth()===v&&C.getFullYear()===y}).reduce((k,C)=>k+C.amount,0),b=e.filter(k=>{const C=i==="all"||k.type===i;let P=!0;if(u!=="all"){const D=new Date(k.date),E=new Date;if(u==="month")P=D.getMonth()===E.getMonth()&&D.getFullYear()===E.getFullYear();else if(u==="week"){const V=new Date(E.getTime()-6048e5);P=D>=V}}return C&&P}),N=({title:k,value:C,icon:P,color:D,bgColor:E})=>a.jsx("div",{className:`${E} rounded-xl shadow-lg p-6 border-l-4`,style:{borderLeftColor:D},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:k}),a.jsx("p",{className:"text-2xl font-bold",style:{color:D},children:C})]}),a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:D+"20"},children:a.jsx(P,{className:"h-6 w-6",style:{color:D}})})]})});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Gestão Financeira"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Controle total das suas finanças"})]}),a.jsxs("button",{onClick:()=>s(!0),className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:from-green-700 hover:to-green-800 transition-all duration-200 shadow-lg hover:shadow-xl",children:[a.jsx(cn,{className:"h-5 w-5"}),a.jsx("span",{children:"Nova Transação"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(N,{title:"Saldo Atual",value:`R$ ${p.toLocaleString()}`,icon:xr,color:p>=0?"#22C55E":"#EF4444",bgColor:"bg-white"}),a.jsx(N,{title:"Entradas do Mês",value:`R$ ${j.toLocaleString()}`,icon:Pf,color:"#22C55E",bgColor:"bg-green-50"}),a.jsx(N,{title:"Saídas do Mês",value:`R$ ${S.toLocaleString()}`,icon:L_,color:"#EF4444",bgColor:"bg-red-50"}),a.jsx(N,{title:"Lucro do Mês",value:`R$ ${(j-S).toLocaleString()}`,icon:xr,color:j-S>=0?"#22C55E":"#EF4444",bgColor:"bg-blue-50"})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:a.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(tx,{className:"h-5 w-5 text-gray-500"}),a.jsx("span",{className:"font-medium text-gray-700",children:"Filtros:"})]}),a.jsxs("select",{value:i,onChange:k=>c(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Todos os Tipos"}),a.jsx("option",{value:"entrada",children:"Entradas"}),a.jsx("option",{value:"saida",children:"Saídas"})]}),a.jsxs("select",{value:u,onChange:k=>f(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Todos os Períodos"}),a.jsx("option",{value:"week",children:"Última Semana"}),a.jsx("option",{value:"month",children:"Este Mês"})]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Histórico de Transações"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descrição"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Projeto"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(k=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[k.type==="entrada"?a.jsx(X0,{className:"h-5 w-5 text-green-500 mr-2"}):a.jsx(Y0,{className:"h-5 w-5 text-red-500 mr-2"}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k.type==="entrada"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.type==="entrada"?"Entrada":"Saída"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.description})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full",children:k.category})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-600",children:k.project_title||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:`text-sm font-bold ${k.type==="entrada"?"text-green-600":"text-red-600"}`,children:[k.type==="entrada"?"+":"-"," R$ ",k.amount.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vn,{className:"h-4 w-4 mr-2"}),new Date(k.date).toLocaleDateString("pt-BR")]})})]},k.id))})]})}),b.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(xr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"Nenhuma transação encontrada"}),a.jsx("p",{className:"text-gray-400",children:"Tente ajustar os filtros ou adicione uma nova transação"})]})]}),r&&a.jsx(pk,{onClose:()=>s(!1)})]})};function Xe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}function Ig(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Px(...e){return t=>{let r=!1;const s=e.map(i=>{const c=Ig(i,t);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let i=0;i<s.length;i++){const c=s[i];typeof c=="function"?c():Ig(e[i],null)}}}}function ut(...e){return _.useCallback(Px(...e),e)}function xk(e,t){const r=_.createContext(t),s=c=>{const{children:u,...f}=c,h=_.useMemo(()=>f,Object.values(f));return a.jsx(r.Provider,{value:h,children:u})};s.displayName=e+"Provider";function i(c){const u=_.useContext(r);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[s,i]}function Bl(e,t=[]){let r=[];function s(c,u){const f=_.createContext(u),h=r.length;r=[...r,u];const g=v=>{const{scope:y,children:j,...S}=v,b=y?.[e]?.[h]||f,N=_.useMemo(()=>S,Object.values(S));return a.jsx(b.Provider,{value:N,children:j})};g.displayName=c+"Provider";function p(v,y){const j=y?.[e]?.[h]||f,S=_.useContext(j);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${c}\``)}return[g,p]}const i=()=>{const c=r.map(u=>_.createContext(u));return function(f){const h=f?.[e]||c;return _.useMemo(()=>({[`__scope${e}`]:{...f,[e]:h}}),[f,h])}};return i.scopeName=e,[s,vk(i,...t)]}function vk(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const u=s.reduce((f,{useScope:h,scopeName:g})=>{const v=h(c)[`__scope${g}`];return{...f,...v}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return r.scopeName=t.scopeName,r}var Rt=globalThis?.document?_.useLayoutEffect:()=>{},yk=G0[" useId ".trim().toString()]||(()=>{}),bk=0;function ko(e){const[t,r]=_.useState(yk());return Rt(()=>{r(s=>s??String(bk++))},[e]),t?`radix-${t}`:""}var wk=G0[" useInsertionEffect ".trim().toString()]||Rt;function Yd({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[i,c,u]=_k({defaultProp:t,onChange:r}),f=e!==void 0,h=f?e:i;{const p=_.useRef(e!==void 0);_.useEffect(()=>{const v=p.current;v!==f&&console.warn(`${s} is changing from ${v?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=f},[f,s])}const g=_.useCallback(p=>{if(f){const v=jk(p)?p(e):p;v!==e&&u.current?.(v)}else c(p)},[f,e,c,u]);return[h,g]}function _k({defaultProp:e,onChange:t}){const[r,s]=_.useState(e),i=_.useRef(r),c=_.useRef(t);return wk(()=>{c.current=t},[t]),_.useEffect(()=>{i.current!==r&&(c.current?.(r),i.current=r)},[r,i]),[r,s,c]}function jk(e){return typeof e=="function"}var qa=J0();const kk=jf(qa);function Oo(e){const t=Nk(e),r=_.forwardRef((s,i)=>{const{children:c,...u}=s,f=_.Children.toArray(c),h=f.find(Ek);if(h){const g=h.props.children,p=f.map(v=>v===h?_.Children.count(g)>1?_.Children.only(null):_.isValidElement(g)?g.props.children:null:v);return a.jsx(t,{...u,ref:i,children:_.isValidElement(g)?_.cloneElement(g,void 0,p):null})}return a.jsx(t,{...u,ref:i,children:c})});return r.displayName=`${e}.Slot`,r}var Sk=Oo("Slot");function Nk(e){const t=_.forwardRef((r,s)=>{const{children:i,...c}=r;if(_.isValidElement(i)){const u=Ak(i),f=Pk(c,i.props);return i.type!==_.Fragment&&(f.ref=s?Px(s,u):u),_.cloneElement(i,f)}return _.Children.count(i)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ck=Symbol("radix.slottable");function Ek(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ck}function Pk(e,t){const r={...t};for(const s in t){const i=e[s],c=t[s];/^on[A-Z]/.test(s)?i&&c?r[s]=(...f)=>{const h=c(...f);return i(...f),h}:i&&(r[s]=i):s==="style"?r[s]={...i,...c}:s==="className"&&(r[s]=[i,c].filter(Boolean).join(" "))}return{...e,...r}}function Ak(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Tk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],He=Tk.reduce((e,t)=>{const r=Oo(`Primitive.${t}`),s=_.forwardRef((i,c)=>{const{asChild:u,...f}=i,h=u?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(h,{...f,ref:c})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Ok(e,t){e&&qa.flushSync(()=>e.dispatchEvent(t))}function vs(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...r)=>t.current?.(...r),[])}function Rk(e,t=globalThis?.document){const r=vs(e);_.useEffect(()=>{const s=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var Ik="DismissableLayer",Xd="dismissableLayer.update",$k="dismissableLayer.pointerDownOutside",Dk="dismissableLayer.focusOutside",$g,Ax=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$f=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...h}=e,g=_.useContext(Ax),[p,v]=_.useState(null),y=p?.ownerDocument??globalThis?.document,[,j]=_.useState({}),S=ut(t,A=>v(A)),b=Array.from(g.layers),[N]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),k=b.indexOf(N),C=p?b.indexOf(p):-1,P=g.layersWithOutsidePointerEventsDisabled.size>0,D=C>=k,E=Fk(A=>{const M=A.target,I=[...g.branches].some(de=>de.contains(M));!D||I||(i?.(A),u?.(A),A.defaultPrevented||f?.())},y),V=Lk(A=>{const M=A.target;[...g.branches].some(de=>de.contains(M))||(c?.(A),u?.(A),A.defaultPrevented||f?.())},y);return Rk(A=>{C===g.layers.size-1&&(s?.(A),!A.defaultPrevented&&f&&(A.preventDefault(),f()))},y),_.useEffect(()=>{if(p)return r&&(g.layersWithOutsidePointerEventsDisabled.size===0&&($g=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(p)),g.layers.add(p),Dg(),()=>{r&&g.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=$g)}},[p,y,r,g]),_.useEffect(()=>()=>{p&&(g.layers.delete(p),g.layersWithOutsidePointerEventsDisabled.delete(p),Dg())},[p,g]),_.useEffect(()=>{const A=()=>j({});return document.addEventListener(Xd,A),()=>document.removeEventListener(Xd,A)},[]),a.jsx(He.div,{...h,ref:S,style:{pointerEvents:P?D?"auto":"none":void 0,...e.style},onFocusCapture:Xe(e.onFocusCapture,V.onFocusCapture),onBlurCapture:Xe(e.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Xe(e.onPointerDownCapture,E.onPointerDownCapture)})});$f.displayName=Ik;var Mk="DismissableLayerBranch",zk=_.forwardRef((e,t)=>{const r=_.useContext(Ax),s=_.useRef(null),i=ut(t,s);return _.useEffect(()=>{const c=s.current;if(c)return r.branches.add(c),()=>{r.branches.delete(c)}},[r.branches]),a.jsx(He.div,{...e,ref:i})});zk.displayName=Mk;function Fk(e,t=globalThis?.document){const r=vs(e),s=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const c=f=>{if(f.target&&!s.current){let h=function(){Tx($k,r,g,{discrete:!0})};const g={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=h,t.addEventListener("click",i.current,{once:!0})):h()}else t.removeEventListener("click",i.current);s.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",c),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function Lk(e,t=globalThis?.document){const r=vs(e),s=_.useRef(!1);return _.useEffect(()=>{const i=c=>{c.target&&!s.current&&Tx(Dk,r,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Dg(){const e=new CustomEvent(Xd);document.dispatchEvent(e)}function Tx(e,t,r,{discrete:s}){const i=r.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),s?Ok(i,c):i.dispatchEvent(c)}var gd="focusScope.autoFocusOnMount",xd="focusScope.autoFocusOnUnmount",Mg={bubbles:!1,cancelable:!0},Uk="FocusScope",Df=_.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:c,...u}=e,[f,h]=_.useState(null),g=vs(i),p=vs(c),v=_.useRef(null),y=ut(t,b=>h(b)),j=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(s){let b=function(P){if(j.paused||!f)return;const D=P.target;f.contains(D)?v.current=D:zn(v.current,{select:!0})},N=function(P){if(j.paused||!f)return;const D=P.relatedTarget;D!==null&&(f.contains(D)||zn(v.current,{select:!0}))},k=function(P){if(document.activeElement===document.body)for(const E of P)E.removedNodes.length>0&&zn(f)};document.addEventListener("focusin",b),document.addEventListener("focusout",N);const C=new MutationObserver(k);return f&&C.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",N),C.disconnect()}}},[s,f,j.paused]),_.useEffect(()=>{if(f){Fg.add(j);const b=document.activeElement;if(!f.contains(b)){const k=new CustomEvent(gd,Mg);f.addEventListener(gd,g),f.dispatchEvent(k),k.defaultPrevented||(Vk(Zk(Ox(f)),{select:!0}),document.activeElement===b&&zn(f))}return()=>{f.removeEventListener(gd,g),setTimeout(()=>{const k=new CustomEvent(xd,Mg);f.addEventListener(xd,p),f.dispatchEvent(k),k.defaultPrevented||zn(b??document.body,{select:!0}),f.removeEventListener(xd,p),Fg.remove(j)},0)}}},[f,g,p,j]);const S=_.useCallback(b=>{if(!r&&!s||j.paused)return;const N=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,k=document.activeElement;if(N&&k){const C=b.currentTarget,[P,D]=Bk(C);P&&D?!b.shiftKey&&k===D?(b.preventDefault(),r&&zn(P,{select:!0})):b.shiftKey&&k===P&&(b.preventDefault(),r&&zn(D,{select:!0})):k===C&&b.preventDefault()}},[r,s,j.paused]);return a.jsx(He.div,{tabIndex:-1,...u,ref:y,onKeyDown:S})});Df.displayName=Uk;function Vk(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(zn(s,{select:t}),document.activeElement!==r)return}function Bk(e){const t=Ox(e),r=zg(t,e),s=zg(t.reverse(),e);return[r,s]}function Ox(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function zg(e,t){for(const r of e)if(!Wk(r,{upTo:t}))return r}function Wk(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function qk(e){return e instanceof HTMLInputElement&&"select"in e}function zn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&qk(e)&&t&&e.select()}}var Fg=Hk();function Hk(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=Lg(e,t),e.unshift(t)},remove(t){e=Lg(e,t),e[0]?.resume()}}}function Lg(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function Zk(e){return e.filter(t=>t.tagName!=="A")}var Kk="Portal",Mf=_.forwardRef((e,t)=>{const{container:r,...s}=e,[i,c]=_.useState(!1);Rt(()=>c(!0),[]);const u=r||i&&globalThis?.document?.body;return u?kk.createPortal(a.jsx(He.div,{...s,ref:t}),u):null});Mf.displayName=Kk;function Gk(e,t){return _.useReducer((r,s)=>t[r][s]??r,e)}var Wl=e=>{const{present:t,children:r}=e,s=Jk(t),i=typeof r=="function"?r({present:s.isPresent}):_.Children.only(r),c=ut(s.ref,Qk(i));return typeof r=="function"||s.isPresent?_.cloneElement(i,{ref:c}):null};Wl.displayName="Presence";function Jk(e){const[t,r]=_.useState(),s=_.useRef(null),i=_.useRef(e),c=_.useRef("none"),u=e?"mounted":"unmounted",[f,h]=Gk(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const g=il(s.current);c.current=f==="mounted"?g:"none"},[f]),Rt(()=>{const g=s.current,p=i.current;if(p!==e){const y=c.current,j=il(g);e?h("MOUNT"):j==="none"||g?.display==="none"?h("UNMOUNT"):h(p&&y!==j?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),Rt(()=>{if(t){let g;const p=t.ownerDocument.defaultView??window,v=j=>{const b=il(s.current).includes(CSS.escape(j.animationName));if(j.target===t&&b&&(h("ANIMATION_END"),!i.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",g=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},y=j=>{j.target===t&&(c.current=il(s.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{p.clearTimeout(g),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:_.useCallback(g=>{s.current=g?getComputedStyle(g):null,r(g)},[])}}function il(e){return e?.animationName||"none"}function Qk(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vd=0;function Rx(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ug()),document.body.insertAdjacentElement("beforeend",e[1]??Ug()),vd++,()=>{vd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),vd--}},[])}function Ug(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Vr=function(){return Vr=Object.assign||function(t){for(var r,s=1,i=arguments.length;s<i;s++){r=arguments[s];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t[c]=r[c])}return t},Vr.apply(this,arguments)};function Ix(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(r[s[i]]=e[s[i]]);return r}function Yk(e,t,r){if(r||arguments.length===2)for(var s=0,i=t.length,c;s<i;s++)(c||!(s in t))&&(c||(c=Array.prototype.slice.call(t,0,s)),c[s]=t[s]);return e.concat(c||Array.prototype.slice.call(t))}var bl="right-scroll-bar-position",wl="width-before-scroll-bar",Xk="with-scroll-bars-hidden",eS="--removed-body-scroll-bar-size";function yd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function tS(e,t){var r=_.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var i=r.value;i!==s&&(r.value=s,r.callback(s,i))}}}})[0];return r.callback=t,r.facade}var rS=typeof window<"u"?_.useLayoutEffect:_.useEffect,Vg=new WeakMap;function nS(e,t){var r=tS(null,function(s){return e.forEach(function(i){return yd(i,s)})});return rS(function(){var s=Vg.get(r);if(s){var i=new Set(s),c=new Set(e),u=r.current;i.forEach(function(f){c.has(f)||yd(f,null)}),c.forEach(function(f){i.has(f)||yd(f,u)})}Vg.set(r,e)},[e]),r}function sS(e){return e}function oS(e,t){t===void 0&&(t=sS);var r=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(c){var u=t(c,s);return r.push(u),function(){r=r.filter(function(f){return f!==u})}},assignSyncMedium:function(c){for(s=!0;r.length;){var u=r;r=[],u.forEach(c)}r={push:function(f){return c(f)},filter:function(){return r}}},assignMedium:function(c){s=!0;var u=[];if(r.length){var f=r;r=[],f.forEach(c),u=r}var h=function(){var p=u;u=[],p.forEach(c)},g=function(){return Promise.resolve().then(h)};g(),r={push:function(p){u.push(p),g()},filter:function(p){return u=u.filter(p),r}}}};return i}function aS(e){e===void 0&&(e={});var t=oS(null);return t.options=Vr({async:!0,ssr:!1},e),t}var $x=function(e){var t=e.sideCar,r=Ix(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return _.createElement(s,Vr({},r))};$x.isSideCarExport=!0;function iS(e,t){return e.useMedium(t),$x}var Dx=aS(),bd=function(){},ql=_.forwardRef(function(e,t){var r=_.useRef(null),s=_.useState({onScrollCapture:bd,onWheelCapture:bd,onTouchMoveCapture:bd}),i=s[0],c=s[1],u=e.forwardProps,f=e.children,h=e.className,g=e.removeScrollBar,p=e.enabled,v=e.shards,y=e.sideCar,j=e.noRelative,S=e.noIsolation,b=e.inert,N=e.allowPinchZoom,k=e.as,C=k===void 0?"div":k,P=e.gapMode,D=Ix(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=y,V=nS([r,t]),A=Vr(Vr({},D),i);return _.createElement(_.Fragment,null,p&&_.createElement(E,{sideCar:Dx,removeScrollBar:g,shards:v,noRelative:j,noIsolation:S,inert:b,setCallbacks:c,allowPinchZoom:!!N,lockRef:r,gapMode:P}),u?_.cloneElement(_.Children.only(f),Vr(Vr({},A),{ref:V})):_.createElement(C,Vr({},A,{className:h,ref:V}),f))});ql.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ql.classNames={fullWidth:wl,zeroRight:bl};var lS=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cS(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=lS();return t&&e.setAttribute("nonce",t),e}function uS(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function dS(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var fS=function(){var e=0,t=null;return{add:function(r){e==0&&(t=cS())&&(uS(t,r),dS(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},hS=function(){var e=fS();return function(t,r){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Mx=function(){var e=hS(),t=function(r){var s=r.styles,i=r.dynamic;return e(s,i),null};return t},mS={left:0,top:0,right:0,gap:0},wd=function(e){return parseInt(e||"",10)||0},pS=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[wd(r),wd(s),wd(i)]},gS=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return mS;var t=pS(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},xS=Mx(),So="data-scroll-locked",vS=function(e,t,r,s){var i=e.left,c=e.top,u=e.right,f=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Xk,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(f,"px ").concat(s,`;
  }
  body[`).concat(So,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(f,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bl,` {
    right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(wl,` {
    margin-right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(bl," .").concat(bl,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(wl," .").concat(wl,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(So,`] {
    `).concat(eS,": ").concat(f,`px;
  }
`)},Bg=function(){var e=parseInt(document.body.getAttribute(So)||"0",10);return isFinite(e)?e:0},yS=function(){_.useEffect(function(){return document.body.setAttribute(So,(Bg()+1).toString()),function(){var e=Bg()-1;e<=0?document.body.removeAttribute(So):document.body.setAttribute(So,e.toString())}},[])},bS=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;yS();var c=_.useMemo(function(){return gS(i)},[i]);return _.createElement(xS,{styles:vS(c,!t,i,r?"":"!important")})},ef=!1;if(typeof window<"u")try{var ll=Object.defineProperty({},"passive",{get:function(){return ef=!0,!0}});window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{ef=!1}var mo=ef?{passive:!1}:!1,wS=function(e){return e.tagName==="TEXTAREA"},zx=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!wS(e)&&r[t]==="visible")},_S=function(e){return zx(e,"overflowY")},jS=function(e){return zx(e,"overflowX")},Wg=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=Fx(e,s);if(i){var c=Lx(e,s),u=c[1],f=c[2];if(u>f)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},kS=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},SS=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},Fx=function(e,t){return e==="v"?_S(t):jS(t)},Lx=function(e,t){return e==="v"?kS(t):SS(t)},NS=function(e,t){return e==="h"&&t==="rtl"?-1:1},CS=function(e,t,r,s,i){var c=NS(e,window.getComputedStyle(t).direction),u=c*s,f=r.target,h=t.contains(f),g=!1,p=u>0,v=0,y=0;do{if(!f)break;var j=Lx(e,f),S=j[0],b=j[1],N=j[2],k=b-N-c*S;(S||k)&&Fx(e,f)&&(v+=k,y+=S);var C=f.parentNode;f=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!h&&f!==document.body||h&&(t.contains(f)||t===f));return(p&&Math.abs(v)<1||!p&&Math.abs(y)<1)&&(g=!0),g},cl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qg=function(e){return[e.deltaX,e.deltaY]},Hg=function(e){return e&&"current"in e?e.current:e},ES=function(e,t){return e[0]===t[0]&&e[1]===t[1]},PS=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},AS=0,po=[];function TS(e){var t=_.useRef([]),r=_.useRef([0,0]),s=_.useRef(),i=_.useState(AS++)[0],c=_.useState(Mx)[0],u=_.useRef(e);_.useEffect(function(){u.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var b=Yk([e.lockRef.current],(e.shards||[]).map(Hg),!0).filter(Boolean);return b.forEach(function(N){return N.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var f=_.useCallback(function(b,N){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!u.current.allowPinchZoom;var k=cl(b),C=r.current,P="deltaX"in b?b.deltaX:C[0]-k[0],D="deltaY"in b?b.deltaY:C[1]-k[1],E,V=b.target,A=Math.abs(P)>Math.abs(D)?"h":"v";if("touches"in b&&A==="h"&&V.type==="range")return!1;var M=Wg(A,V);if(!M)return!0;if(M?E=A:(E=A==="v"?"h":"v",M=Wg(A,V)),!M)return!1;if(!s.current&&"changedTouches"in b&&(P||D)&&(s.current=E),!E)return!0;var I=s.current||E;return CS(I,N,b,I==="h"?P:D)},[]),h=_.useCallback(function(b){var N=b;if(!(!po.length||po[po.length-1]!==c)){var k="deltaY"in N?qg(N):cl(N),C=t.current.filter(function(E){return E.name===N.type&&(E.target===N.target||N.target===E.shadowParent)&&ES(E.delta,k)})[0];if(C&&C.should){N.cancelable&&N.preventDefault();return}if(!C){var P=(u.current.shards||[]).map(Hg).filter(Boolean).filter(function(E){return E.contains(N.target)}),D=P.length>0?f(N,P[0]):!u.current.noIsolation;D&&N.cancelable&&N.preventDefault()}}},[]),g=_.useCallback(function(b,N,k,C){var P={name:b,delta:N,target:k,should:C,shadowParent:OS(k)};t.current.push(P),setTimeout(function(){t.current=t.current.filter(function(D){return D!==P})},1)},[]),p=_.useCallback(function(b){r.current=cl(b),s.current=void 0},[]),v=_.useCallback(function(b){g(b.type,qg(b),b.target,f(b,e.lockRef.current))},[]),y=_.useCallback(function(b){g(b.type,cl(b),b.target,f(b,e.lockRef.current))},[]);_.useEffect(function(){return po.push(c),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:y}),document.addEventListener("wheel",h,mo),document.addEventListener("touchmove",h,mo),document.addEventListener("touchstart",p,mo),function(){po=po.filter(function(b){return b!==c}),document.removeEventListener("wheel",h,mo),document.removeEventListener("touchmove",h,mo),document.removeEventListener("touchstart",p,mo)}},[]);var j=e.removeScrollBar,S=e.inert;return _.createElement(_.Fragment,null,S?_.createElement(c,{styles:PS(i)}):null,j?_.createElement(bS,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function OS(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const RS=iS(Dx,TS);var zf=_.forwardRef(function(e,t){return _.createElement(ql,Vr({},e,{ref:t,sideCar:RS}))});zf.classNames=ql.classNames;var IS=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},go=new WeakMap,ul=new WeakMap,dl={},_d=0,Ux=function(e){return e&&(e.host||Ux(e.parentNode))},$S=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=Ux(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},DS=function(e,t,r,s){var i=$S(t,Array.isArray(e)?e:[e]);dl[r]||(dl[r]=new WeakMap);var c=dl[r],u=[],f=new Set,h=new Set(i),g=function(v){!v||f.has(v)||(f.add(v),g(v.parentNode))};i.forEach(g);var p=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(y){if(f.has(y))p(y);else try{var j=y.getAttribute(s),S=j!==null&&j!=="false",b=(go.get(y)||0)+1,N=(c.get(y)||0)+1;go.set(y,b),c.set(y,N),u.push(y),b===1&&S&&ul.set(y,!0),N===1&&y.setAttribute(r,"true"),S||y.setAttribute(s,"true")}catch(k){console.error("aria-hidden: cannot operate on ",y,k)}})};return p(t),f.clear(),_d++,function(){u.forEach(function(v){var y=go.get(v)-1,j=c.get(v)-1;go.set(v,y),c.set(v,j),y||(ul.has(v)||v.removeAttribute(s),ul.delete(v)),j||v.removeAttribute(r)}),_d--,_d||(go=new WeakMap,go=new WeakMap,ul=new WeakMap,dl={})}},Vx=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=IS(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),DS(s,i,r,"aria-hidden")):function(){return null}},Hl="Dialog",[Bx]=Bl(Hl),[MS,Or]=Bx(Hl),Wx=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:i,onOpenChange:c,modal:u=!0}=e,f=_.useRef(null),h=_.useRef(null),[g,p]=Yd({prop:s,defaultProp:i??!1,onChange:c,caller:Hl});return a.jsx(MS,{scope:t,triggerRef:f,contentRef:h,contentId:ko(),titleId:ko(),descriptionId:ko(),open:g,onOpenChange:p,onOpenToggle:_.useCallback(()=>p(v=>!v),[p]),modal:u,children:r})};Wx.displayName=Hl;var qx="DialogTrigger",zS=_.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,i=Or(qx,r),c=ut(t,i.triggerRef);return a.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Uf(i.open),...s,ref:c,onClick:Xe(e.onClick,i.onOpenToggle)})});zS.displayName=qx;var Ff="DialogPortal",[FS,Hx]=Bx(Ff,{forceMount:void 0}),Zx=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:i}=e,c=Or(Ff,t);return a.jsx(FS,{scope:t,forceMount:r,children:_.Children.map(s,u=>a.jsx(Wl,{present:r||c.open,children:a.jsx(Mf,{asChild:!0,container:i,children:u})}))})};Zx.displayName=Ff;var Al="DialogOverlay",Kx=_.forwardRef((e,t)=>{const r=Hx(Al,e.__scopeDialog),{forceMount:s=r.forceMount,...i}=e,c=Or(Al,e.__scopeDialog);return c.modal?a.jsx(Wl,{present:s||c.open,children:a.jsx(US,{...i,ref:t})}):null});Kx.displayName=Al;var LS=Oo("DialogOverlay.RemoveScroll"),US=_.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,i=Or(Al,r);return a.jsx(zf,{as:LS,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(He.div,{"data-state":Uf(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),ys="DialogContent",Gx=_.forwardRef((e,t)=>{const r=Hx(ys,e.__scopeDialog),{forceMount:s=r.forceMount,...i}=e,c=Or(ys,e.__scopeDialog);return a.jsx(Wl,{present:s||c.open,children:c.modal?a.jsx(VS,{...i,ref:t}):a.jsx(BS,{...i,ref:t})})});Gx.displayName=ys;var VS=_.forwardRef((e,t)=>{const r=Or(ys,e.__scopeDialog),s=_.useRef(null),i=ut(t,r.contentRef,s);return _.useEffect(()=>{const c=s.current;if(c)return Vx(c)},[]),a.jsx(Jx,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Xe(e.onCloseAutoFocus,c=>{c.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Xe(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&c.preventDefault()}),onFocusOutside:Xe(e.onFocusOutside,c=>c.preventDefault())})}),BS=_.forwardRef((e,t)=>{const r=Or(ys,e.__scopeDialog),s=_.useRef(!1),i=_.useRef(!1);return a.jsx(Jx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(s.current||r.triggerRef.current?.focus(),c.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(s.current=!0,c.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=c.target;r.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&i.current&&c.preventDefault()}})}),Jx=_.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:c,...u}=e,f=Or(ys,r),h=_.useRef(null),g=ut(t,h);return Rx(),a.jsxs(a.Fragment,{children:[a.jsx(Df,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:c,children:a.jsx($f,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":Uf(f.open),...u,ref:g,onDismiss:()=>f.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(WS,{titleId:f.titleId}),a.jsx(HS,{contentRef:h,descriptionId:f.descriptionId})]})]})}),Lf="DialogTitle",Qx=_.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,i=Or(Lf,r);return a.jsx(He.h2,{id:i.titleId,...s,ref:t})});Qx.displayName=Lf;var Yx="DialogDescription",Xx=_.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,i=Or(Yx,r);return a.jsx(He.p,{id:i.descriptionId,...s,ref:t})});Xx.displayName=Yx;var ev="DialogClose",tv=_.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,i=Or(ev,r);return a.jsx(He.button,{type:"button",...s,ref:t,onClick:Xe(e.onClick,()=>i.onOpenChange(!1))})});tv.displayName=ev;function Uf(e){return e?"open":"closed"}var rv="DialogTitleWarning",[BT,nv]=xk(rv,{contentName:ys,titleName:Lf,docsSlug:"dialog"}),WS=({titleId:e})=>{const t=nv(rv),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},qS="DialogDescriptionWarning",HS=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nv(qS).contentName}}.`;return _.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},ZS=Wx,KS=Zx,sv=Kx,ov=Gx,av=Qx,iv=Xx,GS=tv;function lv(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=lv(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function cv(){for(var e,t,r=0,s="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=lv(e))&&(s&&(s+=" "),s+=t);return s}const Vf="-",JS=e=>{const t=YS(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:u=>{const f=u.split(Vf);return f[0]===""&&f.length!==1&&f.shift(),uv(f,t)||QS(u)},getConflictingClassGroupIds:(u,f)=>{const h=r[u]||[];return f&&s[u]?[...h,...s[u]]:h}}},uv=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),i=s?uv(e.slice(1),s):void 0;if(i)return i;if(t.validators.length===0)return;const c=e.join(Vf);return t.validators.find(({validator:u})=>u(c))?.classGroupId},Zg=/^\[(.+)\]$/,QS=e=>{if(Zg.test(e)){const t=Zg.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},YS=e=>{const{theme:t,classGroups:r}=e,s={nextPart:new Map,validators:[]};for(const i in r)tf(r[i],s,i,t);return s},tf=(e,t,r,s)=>{e.forEach(i=>{if(typeof i=="string"){const c=i===""?t:Kg(t,i);c.classGroupId=r;return}if(typeof i=="function"){if(XS(i)){tf(i(s),t,r,s);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([c,u])=>{tf(u,Kg(t,c),r,s)})})},Kg=(e,t)=>{let r=e;return t.split(Vf).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},XS=e=>e.isThemeGetter,eN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const i=(c,u)=>{r.set(c,u),t++,t>e&&(t=0,s=r,r=new Map)};return{get(c){let u=r.get(c);if(u!==void 0)return u;if((u=s.get(c))!==void 0)return i(c,u),u},set(c,u){r.has(c)?r.set(c,u):i(c,u)}}},rf="!",nf=":",tN=nf.length,rN=e=>{const{prefix:t,experimentalParseClassName:r}=e;let s=i=>{const c=[];let u=0,f=0,h=0,g;for(let S=0;S<i.length;S++){let b=i[S];if(u===0&&f===0){if(b===nf){c.push(i.slice(h,S)),h=S+tN;continue}if(b==="/"){g=S;continue}}b==="["?u++:b==="]"?u--:b==="("?f++:b===")"&&f--}const p=c.length===0?i:i.substring(h),v=nN(p),y=v!==p,j=g&&g>h?g-h:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:j}};if(t){const i=t+nf,c=s;s=u=>u.startsWith(i)?c(u.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(r){const i=s;s=c=>r({className:c,parseClassName:i})}return s},nN=e=>e.endsWith(rf)?e.substring(0,e.length-1):e.startsWith(rf)?e.substring(1):e,sN=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const i=[];let c=[];return s.forEach(u=>{u[0]==="["||t[u]?(i.push(...c.sort(),u),c=[]):c.push(u)}),i.push(...c.sort()),i}},oN=e=>({cache:eN(e.cacheSize),parseClassName:rN(e),sortModifiers:sN(e),...JS(e)}),aN=/\s+/,iN=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:c}=t,u=[],f=e.trim().split(aN);let h="";for(let g=f.length-1;g>=0;g-=1){const p=f[g],{isExternal:v,modifiers:y,hasImportantModifier:j,baseClassName:S,maybePostfixModifierPosition:b}=r(p);if(v){h=p+(h.length>0?" "+h:h);continue}let N=!!b,k=s(N?S.substring(0,b):S);if(!k){if(!N){h=p+(h.length>0?" "+h:h);continue}if(k=s(S),!k){h=p+(h.length>0?" "+h:h);continue}N=!1}const C=c(y).join(":"),P=j?C+rf:C,D=P+k;if(u.includes(D))continue;u.push(D);const E=i(k,N);for(let V=0;V<E.length;++V){const A=E[V];u.push(P+A)}h=p+(h.length>0?" "+h:h)}return h};function lN(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=dv(t))&&(s&&(s+=" "),s+=r);return s}const dv=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=dv(e[s]))&&(r&&(r+=" "),r+=t);return r};function cN(e,...t){let r,s,i,c=u;function u(h){const g=t.reduce((p,v)=>v(p),e());return r=oN(g),s=r.cache.get,i=r.cache.set,c=f,f(h)}function f(h){const g=s(h);if(g)return g;const p=iN(h,r);return i(h,p),p}return function(){return c(lN.apply(null,arguments))}}const yt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},fv=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,hv=/^\((?:(\w[\w-]*):)?(.+)\)$/i,uN=/^\d+\/\d+$/,dN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,mN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xo=e=>uN.test(e),De=e=>!!e&&!Number.isNaN(Number(e)),In=e=>!!e&&Number.isInteger(Number(e)),jd=e=>e.endsWith("%")&&De(e.slice(0,-1)),sn=e=>dN.test(e),gN=()=>!0,xN=e=>fN.test(e)&&!hN.test(e),mv=()=>!1,vN=e=>mN.test(e),yN=e=>pN.test(e),bN=e=>!je(e)&&!ke(e),wN=e=>zo(e,xv,mv),je=e=>fv.test(e),ds=e=>zo(e,vv,xN),kd=e=>zo(e,NN,De),Gg=e=>zo(e,pv,mv),_N=e=>zo(e,gv,yN),fl=e=>zo(e,yv,vN),ke=e=>hv.test(e),Pa=e=>Fo(e,vv),jN=e=>Fo(e,CN),Jg=e=>Fo(e,pv),kN=e=>Fo(e,xv),SN=e=>Fo(e,gv),hl=e=>Fo(e,yv,!0),zo=(e,t,r)=>{const s=fv.exec(e);return s?s[1]?t(s[1]):r(s[2]):!1},Fo=(e,t,r=!1)=>{const s=hv.exec(e);return s?s[1]?t(s[1]):r:!1},pv=e=>e==="position"||e==="percentage",gv=e=>e==="image"||e==="url",xv=e=>e==="length"||e==="size"||e==="bg-size",vv=e=>e==="length",NN=e=>e==="number",CN=e=>e==="family-name",yv=e=>e==="shadow",EN=()=>{const e=yt("color"),t=yt("font"),r=yt("text"),s=yt("font-weight"),i=yt("tracking"),c=yt("leading"),u=yt("breakpoint"),f=yt("container"),h=yt("spacing"),g=yt("radius"),p=yt("shadow"),v=yt("inset-shadow"),y=yt("text-shadow"),j=yt("drop-shadow"),S=yt("blur"),b=yt("perspective"),N=yt("aspect"),k=yt("ease"),C=yt("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...D(),ke,je],V=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],M=()=>[ke,je,h],I=()=>[xo,"full","auto",...M()],de=()=>[In,"none","subgrid",ke,je],be=()=>["auto",{span:["full",In,ke,je]},In,ke,je],ue=()=>[In,"auto",ke,je],X=()=>["auto","min","max","fr",ke,je],ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...M()],re=()=>[xo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],O=()=>[e,ke,je],ae=()=>[...D(),Jg,Gg,{position:[ke,je]}],ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",kN,wN,{size:[ke,je]}],q=()=>[jd,Pa,ds],R=()=>["","none","full",g,ke,je],B=()=>["",De,Pa,ds],F=()=>["solid","dashed","dotted","double"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>[De,jd,Jg,Gg],Q=()=>["","none",S,ke,je],xe=()=>["none",De,ke,je],pe=()=>["none",De,ke,je],Ie=()=>[De,ke,je],Ve=()=>[xo,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[sn],breakpoint:[sn],color:[gN],container:[sn],"drop-shadow":[sn],ease:["in","out","in-out"],font:[bN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[sn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[sn],shadow:[sn],spacing:["px",De],text:[sn],"text-shadow":[sn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",xo,je,ke,N]}],container:["container"],columns:[{columns:[De,je,ke,f]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[In,"auto",ke,je]}],basis:[{basis:[xo,"full","auto",f,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[De,xo,"auto","initial","none",je]}],grow:[{grow:["",De,ke,je]}],shrink:[{shrink:["",De,ke,je]}],order:[{order:[In,"first","last","none",ke,je]}],"grid-cols":[{"grid-cols":de()}],"col-start-end":[{col:be()}],"col-start":[{"col-start":ue()}],"col-end":[{"col-end":ue()}],"grid-rows":[{"grid-rows":de()}],"row-start-end":[{row:be()}],"row-start":[{"row-start":ue()}],"row-end":[{"row-end":ue()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":X()}],"auto-rows":[{"auto-rows":X()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...ce(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...ce()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":ce()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[f,"screen",...re()]}],"min-w":[{"min-w":[f,"screen","none",...re()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",r,Pa,ds]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ke,kd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",jd,je]}],"font-family":[{font:[jN,je,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ke,je]}],"line-clamp":[{"line-clamp":[De,"none",ke,kd]}],leading:[{leading:[c,...M()]}],"list-image":[{"list-image":["none",ke,je]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ke,je]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:[De,"from-font","auto",ke,ds]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[De,"auto",ke,je]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke,je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke,je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ae()}],"bg-repeat":[{bg:ie()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},In,ke,je],radial:["",ke,je],conic:[In,ke,je]},SN,_N]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:R()}],"rounded-s":[{"rounded-s":R()}],"rounded-e":[{"rounded-e":R()}],"rounded-t":[{"rounded-t":R()}],"rounded-r":[{"rounded-r":R()}],"rounded-b":[{"rounded-b":R()}],"rounded-l":[{"rounded-l":R()}],"rounded-ss":[{"rounded-ss":R()}],"rounded-se":[{"rounded-se":R()}],"rounded-ee":[{"rounded-ee":R()}],"rounded-es":[{"rounded-es":R()}],"rounded-tl":[{"rounded-tl":R()}],"rounded-tr":[{"rounded-tr":R()}],"rounded-br":[{"rounded-br":R()}],"rounded-bl":[{"rounded-bl":R()}],"border-w":[{border:B()}],"border-w-x":[{"border-x":B()}],"border-w-y":[{"border-y":B()}],"border-w-s":[{"border-s":B()}],"border-w-e":[{"border-e":B()}],"border-w-t":[{"border-t":B()}],"border-w-r":[{"border-r":B()}],"border-w-b":[{"border-b":B()}],"border-w-l":[{"border-l":B()}],"divide-x":[{"divide-x":B()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":B()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...F(),"hidden","none"]}],"divide-style":[{divide:[...F(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...F(),"none","hidden"]}],"outline-offset":[{"outline-offset":[De,ke,je]}],"outline-w":[{outline:["",De,Pa,ds]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",p,hl,fl]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",v,hl,fl]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[De,ds]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":B()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",y,hl,fl]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[De,ke,je]}],"mix-blend":[{"mix-blend":[...W(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":W()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[De]}],"mask-image-linear-from-pos":[{"mask-linear-from":Z()}],"mask-image-linear-to-pos":[{"mask-linear-to":Z()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":Z()}],"mask-image-t-to-pos":[{"mask-t-to":Z()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":Z()}],"mask-image-r-to-pos":[{"mask-r-to":Z()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":Z()}],"mask-image-b-to-pos":[{"mask-b-to":Z()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":Z()}],"mask-image-l-to-pos":[{"mask-l-to":Z()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":Z()}],"mask-image-x-to-pos":[{"mask-x-to":Z()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":Z()}],"mask-image-y-to-pos":[{"mask-y-to":Z()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[ke,je]}],"mask-image-radial-from-pos":[{"mask-radial-from":Z()}],"mask-image-radial-to-pos":[{"mask-radial-to":Z()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[De]}],"mask-image-conic-from-pos":[{"mask-conic-from":Z()}],"mask-image-conic-to-pos":[{"mask-conic-to":Z()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ae()}],"mask-repeat":[{mask:ie()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ke,je]}],filter:[{filter:["","none",ke,je]}],blur:[{blur:Q()}],brightness:[{brightness:[De,ke,je]}],contrast:[{contrast:[De,ke,je]}],"drop-shadow":[{"drop-shadow":["","none",j,hl,fl]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",De,ke,je]}],"hue-rotate":[{"hue-rotate":[De,ke,je]}],invert:[{invert:["",De,ke,je]}],saturate:[{saturate:[De,ke,je]}],sepia:[{sepia:["",De,ke,je]}],"backdrop-filter":[{"backdrop-filter":["","none",ke,je]}],"backdrop-blur":[{"backdrop-blur":Q()}],"backdrop-brightness":[{"backdrop-brightness":[De,ke,je]}],"backdrop-contrast":[{"backdrop-contrast":[De,ke,je]}],"backdrop-grayscale":[{"backdrop-grayscale":["",De,ke,je]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[De,ke,je]}],"backdrop-invert":[{"backdrop-invert":["",De,ke,je]}],"backdrop-opacity":[{"backdrop-opacity":[De,ke,je]}],"backdrop-saturate":[{"backdrop-saturate":[De,ke,je]}],"backdrop-sepia":[{"backdrop-sepia":["",De,ke,je]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ke,je]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[De,"initial",ke,je]}],ease:[{ease:["linear","initial",k,ke,je]}],delay:[{delay:[De,ke,je]}],animate:[{animate:["none",C,ke,je]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,ke,je]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:xe()}],"rotate-x":[{"rotate-x":xe()}],"rotate-y":[{"rotate-y":xe()}],"rotate-z":[{"rotate-z":xe()}],scale:[{scale:pe()}],"scale-x":[{"scale-x":pe()}],"scale-y":[{"scale-y":pe()}],"scale-z":[{"scale-z":pe()}],"scale-3d":["scale-3d"],skew:[{skew:Ie()}],"skew-x":[{"skew-x":Ie()}],"skew-y":[{"skew-y":Ie()}],transform:[{transform:[ke,je,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke,je]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke,je]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[De,Pa,ds,kd]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},PN=cN(EN);function Nt(...e){return PN(cv(e))}const AN=ZS,TN=KS,bv=_.forwardRef(({className:e,...t},r)=>a.jsx(sv,{ref:r,className:Nt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));bv.displayName=sv.displayName;const wv=_.forwardRef(({className:e,children:t,...r},s)=>a.jsxs(TN,{children:[a.jsx(bv,{}),a.jsxs(ov,{ref:s,className:Nt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(GS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Jt,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wv.displayName=ov.displayName;const _v=({className:e,...t})=>a.jsx("div",{className:Nt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});_v.displayName="DialogHeader";const jv=({className:e,...t})=>a.jsx("div",{className:Nt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});jv.displayName="DialogFooter";const kv=_.forwardRef(({className:e,...t},r)=>a.jsx(av,{ref:r,className:Nt("text-lg font-semibold leading-none tracking-tight",e),...t}));kv.displayName=av.displayName;const ON=_.forwardRef(({className:e,...t},r)=>a.jsx(iv,{ref:r,className:Nt("text-sm text-muted-foreground",e),...t}));ON.displayName=iv.displayName;const Kt=_.forwardRef(({className:e,type:t,...r},s)=>a.jsx("input",{type:t,className:Nt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));Kt.displayName="Input";const Sv=_.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:Nt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Sv.displayName="Textarea";const Qg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Yg=cv,Nv=(e,t)=>r=>{var s;if(t?.variants==null)return Yg(e,r?.class,r?.className);const{variants:i,defaultVariants:c}=t,u=Object.keys(i).map(g=>{const p=r?.[g],v=c?.[g];if(p===null)return null;const y=Qg(p)||Qg(v);return i[g][y]}),f=r&&Object.entries(r).reduce((g,p)=>{let[v,y]=p;return y===void 0||(g[v]=y),g},{}),h=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((g,p)=>{let{class:v,className:y,...j}=p;return Object.entries(j).every(S=>{let[b,N]=S;return Array.isArray(N)?N.includes({...c,...f}[b]):{...c,...f}[b]===N})?[...g,v,y]:g},[]);return Yg(e,u,h,r?.class,r?.className)},RN=Nv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),pr=_.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...i},c)=>{const u=s?Sk:"button";return a.jsx(u,{className:Nt(RN({variant:t,size:r,className:e})),ref:c,...i})});pr.displayName="Button";function Xg(e,[t,r]){return Math.min(r,Math.max(t,e))}function IN(e){const t=e+"CollectionProvider",[r,s]=Bl(t),[i,c]=r(t,{collectionRef:{current:null},itemMap:new Map}),u=b=>{const{scope:N,children:k}=b,C=Se.useRef(null),P=Se.useRef(new Map).current;return a.jsx(i,{scope:N,itemMap:P,collectionRef:C,children:k})};u.displayName=t;const f=e+"CollectionSlot",h=Oo(f),g=Se.forwardRef((b,N)=>{const{scope:k,children:C}=b,P=c(f,k),D=ut(N,P.collectionRef);return a.jsx(h,{ref:D,children:C})});g.displayName=f;const p=e+"CollectionItemSlot",v="data-radix-collection-item",y=Oo(p),j=Se.forwardRef((b,N)=>{const{scope:k,children:C,...P}=b,D=Se.useRef(null),E=ut(N,D),V=c(p,k);return Se.useEffect(()=>(V.itemMap.set(D,{ref:D,...P}),()=>void V.itemMap.delete(D))),a.jsx(y,{[v]:"",ref:E,children:C})});j.displayName=p;function S(b){const N=c(e+"CollectionConsumer",b);return Se.useCallback(()=>{const C=N.collectionRef.current;if(!C)return[];const P=Array.from(C.querySelectorAll(`[${v}]`));return Array.from(N.itemMap.values()).sort((V,A)=>P.indexOf(V.ref.current)-P.indexOf(A.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:u,Slot:g,ItemSlot:j},S,s]}var $N=_.createContext(void 0);function DN(e){const t=_.useContext($N);return e||t||"ltr"}const MN=["top","right","bottom","left"],Wn=Math.min,nr=Math.max,Tl=Math.round,ml=Math.floor,qr=e=>({x:e,y:e}),zN={left:"right",right:"left",bottom:"top",top:"bottom"},FN={start:"end",end:"start"};function sf(e,t,r){return nr(e,Wn(t,r))}function un(e,t){return typeof e=="function"?e(t):e}function dn(e){return e.split("-")[0]}function Lo(e){return e.split("-")[1]}function Bf(e){return e==="x"?"y":"x"}function Wf(e){return e==="y"?"height":"width"}const LN=new Set(["top","bottom"]);function Br(e){return LN.has(dn(e))?"y":"x"}function qf(e){return Bf(Br(e))}function UN(e,t,r){r===void 0&&(r=!1);const s=Lo(e),i=qf(e),c=Wf(i);let u=i==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(u=Ol(u)),[u,Ol(u)]}function VN(e){const t=Ol(e);return[of(e),t,of(t)]}function of(e){return e.replace(/start|end/g,t=>FN[t])}const e0=["left","right"],t0=["right","left"],BN=["top","bottom"],WN=["bottom","top"];function qN(e,t,r){switch(e){case"top":case"bottom":return r?t?t0:e0:t?e0:t0;case"left":case"right":return t?BN:WN;default:return[]}}function HN(e,t,r,s){const i=Lo(e);let c=qN(dn(e),r==="start",s);return i&&(c=c.map(u=>u+"-"+i),t&&(c=c.concat(c.map(of)))),c}function Ol(e){return e.replace(/left|right|bottom|top/g,t=>zN[t])}function ZN(e){return{top:0,right:0,bottom:0,left:0,...e}}function Cv(e){return typeof e!="number"?ZN(e):{top:e,right:e,bottom:e,left:e}}function Rl(e){const{x:t,y:r,width:s,height:i}=e;return{width:s,height:i,top:r,left:t,right:t+s,bottom:r+i,x:t,y:r}}function r0(e,t,r){let{reference:s,floating:i}=e;const c=Br(t),u=qf(t),f=Wf(u),h=dn(t),g=c==="y",p=s.x+s.width/2-i.width/2,v=s.y+s.height/2-i.height/2,y=s[f]/2-i[f]/2;let j;switch(h){case"top":j={x:p,y:s.y-i.height};break;case"bottom":j={x:p,y:s.y+s.height};break;case"right":j={x:s.x+s.width,y:v};break;case"left":j={x:s.x-i.width,y:v};break;default:j={x:s.x,y:s.y}}switch(Lo(t)){case"start":j[u]-=y*(r&&g?-1:1);break;case"end":j[u]+=y*(r&&g?-1:1);break}return j}const KN=async(e,t,r)=>{const{placement:s="bottom",strategy:i="absolute",middleware:c=[],platform:u}=r,f=c.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(t));let g=await u.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:v}=r0(g,s,h),y=s,j={},S=0;for(let b=0;b<f.length;b++){const{name:N,fn:k}=f[b],{x:C,y:P,data:D,reset:E}=await k({x:p,y:v,initialPlacement:s,placement:y,strategy:i,middlewareData:j,rects:g,platform:u,elements:{reference:e,floating:t}});p=C??p,v=P??v,j={...j,[N]:{...j[N],...D}},E&&S<=50&&(S++,typeof E=="object"&&(E.placement&&(y=E.placement),E.rects&&(g=E.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:p,y:v}=r0(g,y,h)),b=-1)}return{x:p,y:v,placement:y,strategy:i,middlewareData:j}};async function Fa(e,t){var r;t===void 0&&(t={});const{x:s,y:i,platform:c,rects:u,elements:f,strategy:h}=e,{boundary:g="clippingAncestors",rootBoundary:p="viewport",elementContext:v="floating",altBoundary:y=!1,padding:j=0}=un(t,e),S=Cv(j),N=f[y?v==="floating"?"reference":"floating":v],k=Rl(await c.getClippingRect({element:(r=await(c.isElement==null?void 0:c.isElement(N)))==null||r?N:N.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:g,rootBoundary:p,strategy:h})),C=v==="floating"?{x:s,y:i,width:u.floating.width,height:u.floating.height}:u.reference,P=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),D=await(c.isElement==null?void 0:c.isElement(P))?await(c.getScale==null?void 0:c.getScale(P))||{x:1,y:1}:{x:1,y:1},E=Rl(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:C,offsetParent:P,strategy:h}):C);return{top:(k.top-E.top+S.top)/D.y,bottom:(E.bottom-k.bottom+S.bottom)/D.y,left:(k.left-E.left+S.left)/D.x,right:(E.right-k.right+S.right)/D.x}}const GN=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:i,rects:c,platform:u,elements:f,middlewareData:h}=t,{element:g,padding:p=0}=un(e,t)||{};if(g==null)return{};const v=Cv(p),y={x:r,y:s},j=qf(i),S=Wf(j),b=await u.getDimensions(g),N=j==="y",k=N?"top":"left",C=N?"bottom":"right",P=N?"clientHeight":"clientWidth",D=c.reference[S]+c.reference[j]-y[j]-c.floating[S],E=y[j]-c.reference[j],V=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let A=V?V[P]:0;(!A||!await(u.isElement==null?void 0:u.isElement(V)))&&(A=f.floating[P]||c.floating[S]);const M=D/2-E/2,I=A/2-b[S]/2-1,de=Wn(v[k],I),be=Wn(v[C],I),ue=de,X=A-b[S]-be,ce=A/2-b[S]/2+M,te=sf(ue,ce,X),Y=!h.arrow&&Lo(i)!=null&&ce!==te&&c.reference[S]/2-(ce<ue?de:be)-b[S]/2<0,re=Y?ce<ue?ce-ue:ce-X:0;return{[j]:y[j]+re,data:{[j]:te,centerOffset:ce-te-re,...Y&&{alignmentOffset:re}},reset:Y}}}),JN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:i,middlewareData:c,rects:u,initialPlacement:f,platform:h,elements:g}=t,{mainAxis:p=!0,crossAxis:v=!0,fallbackPlacements:y,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:b=!0,...N}=un(e,t);if((r=c.arrow)!=null&&r.alignmentOffset)return{};const k=dn(i),C=Br(f),P=dn(f)===f,D=await(h.isRTL==null?void 0:h.isRTL(g.floating)),E=y||(P||!b?[Ol(f)]:VN(f)),V=S!=="none";!y&&V&&E.push(...HN(f,b,S,D));const A=[f,...E],M=await Fa(t,N),I=[];let de=((s=c.flip)==null?void 0:s.overflows)||[];if(p&&I.push(M[k]),v){const ce=UN(i,u,D);I.push(M[ce[0]],M[ce[1]])}if(de=[...de,{placement:i,overflows:I}],!I.every(ce=>ce<=0)){var be,ue;const ce=(((be=c.flip)==null?void 0:be.index)||0)+1,te=A[ce];if(te&&(!(v==="alignment"?C!==Br(te):!1)||de.every(O=>Br(O.placement)===C?O.overflows[0]>0:!0)))return{data:{index:ce,overflows:de},reset:{placement:te}};let Y=(ue=de.filter(re=>re.overflows[0]<=0).sort((re,O)=>re.overflows[1]-O.overflows[1])[0])==null?void 0:ue.placement;if(!Y)switch(j){case"bestFit":{var X;const re=(X=de.filter(O=>{if(V){const ae=Br(O.placement);return ae===C||ae==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(ae=>ae>0).reduce((ae,ie)=>ae+ie,0)]).sort((O,ae)=>O[1]-ae[1])[0])==null?void 0:X[0];re&&(Y=re);break}case"initialPlacement":Y=f;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function n0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function s0(e){return MN.some(t=>e[t]>=0)}const QN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...i}=un(e,t);switch(s){case"referenceHidden":{const c=await Fa(t,{...i,elementContext:"reference"}),u=n0(c,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:s0(u)}}}case"escaped":{const c=await Fa(t,{...i,altBoundary:!0}),u=n0(c,r.floating);return{data:{escapedOffsets:u,escaped:s0(u)}}}default:return{}}}}},Ev=new Set(["left","top"]);async function YN(e,t){const{placement:r,platform:s,elements:i}=e,c=await(s.isRTL==null?void 0:s.isRTL(i.floating)),u=dn(r),f=Lo(r),h=Br(r)==="y",g=Ev.has(u)?-1:1,p=c&&h?-1:1,v=un(t,e);let{mainAxis:y,crossAxis:j,alignmentAxis:S}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return f&&typeof S=="number"&&(j=f==="end"?S*-1:S),h?{x:j*p,y:y*g}:{x:y*g,y:j*p}}const XN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:i,y:c,placement:u,middlewareData:f}=t,h=await YN(t,e);return u===((r=f.offset)==null?void 0:r.placement)&&(s=f.arrow)!=null&&s.alignmentOffset?{}:{x:i+h.x,y:c+h.y,data:{...h,placement:u}}}}},e2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:i}=t,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:N=>{let{x:k,y:C}=N;return{x:k,y:C}}},...h}=un(e,t),g={x:r,y:s},p=await Fa(t,h),v=Br(dn(i)),y=Bf(v);let j=g[y],S=g[v];if(c){const N=y==="y"?"top":"left",k=y==="y"?"bottom":"right",C=j+p[N],P=j-p[k];j=sf(C,j,P)}if(u){const N=v==="y"?"top":"left",k=v==="y"?"bottom":"right",C=S+p[N],P=S-p[k];S=sf(C,S,P)}const b=f.fn({...t,[y]:j,[v]:S});return{...b,data:{x:b.x-r,y:b.y-s,enabled:{[y]:c,[v]:u}}}}}},t2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:i,rects:c,middlewareData:u}=t,{offset:f=0,mainAxis:h=!0,crossAxis:g=!0}=un(e,t),p={x:r,y:s},v=Br(i),y=Bf(v);let j=p[y],S=p[v];const b=un(f,t),N=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(h){const P=y==="y"?"height":"width",D=c.reference[y]-c.floating[P]+N.mainAxis,E=c.reference[y]+c.reference[P]-N.mainAxis;j<D?j=D:j>E&&(j=E)}if(g){var k,C;const P=y==="y"?"width":"height",D=Ev.has(dn(i)),E=c.reference[v]-c.floating[P]+(D&&((k=u.offset)==null?void 0:k[v])||0)+(D?0:N.crossAxis),V=c.reference[v]+c.reference[P]+(D?0:((C=u.offset)==null?void 0:C[v])||0)-(D?N.crossAxis:0);S<E?S=E:S>V&&(S=V)}return{[y]:j,[v]:S}}}},r2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:i,rects:c,platform:u,elements:f}=t,{apply:h=()=>{},...g}=un(e,t),p=await Fa(t,g),v=dn(i),y=Lo(i),j=Br(i)==="y",{width:S,height:b}=c.floating;let N,k;v==="top"||v==="bottom"?(N=v,k=y===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(k=v,N=y==="end"?"top":"bottom");const C=b-p.top-p.bottom,P=S-p.left-p.right,D=Wn(b-p[N],C),E=Wn(S-p[k],P),V=!t.middlewareData.shift;let A=D,M=E;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(M=P),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(A=C),V&&!y){const de=nr(p.left,0),be=nr(p.right,0),ue=nr(p.top,0),X=nr(p.bottom,0);j?M=S-2*(de!==0||be!==0?de+be:nr(p.left,p.right)):A=b-2*(ue!==0||X!==0?ue+X:nr(p.top,p.bottom))}await h({...t,availableWidth:M,availableHeight:A});const I=await u.getDimensions(f.floating);return S!==I.width||b!==I.height?{reset:{rects:!0}}:{}}}};function Zl(){return typeof window<"u"}function Uo(e){return Pv(e)?(e.nodeName||"").toLowerCase():"#document"}function or(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zr(e){var t;return(t=(Pv(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Pv(e){return Zl()?e instanceof Node||e instanceof or(e).Node:!1}function Ar(e){return Zl()?e instanceof Element||e instanceof or(e).Element:!1}function Hr(e){return Zl()?e instanceof HTMLElement||e instanceof or(e).HTMLElement:!1}function o0(e){return!Zl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof or(e).ShadowRoot}const n2=new Set(["inline","contents"]);function Ha(e){const{overflow:t,overflowX:r,overflowY:s,display:i}=Tr(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!n2.has(i)}const s2=new Set(["table","td","th"]);function o2(e){return s2.has(Uo(e))}const a2=[":popover-open",":modal"];function Kl(e){return a2.some(t=>{try{return e.matches(t)}catch{return!1}})}const i2=["transform","translate","scale","rotate","perspective"],l2=["transform","translate","scale","rotate","perspective","filter"],c2=["paint","layout","strict","content"];function Hf(e){const t=Zf(),r=Ar(e)?Tr(e):e;return i2.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||l2.some(s=>(r.willChange||"").includes(s))||c2.some(s=>(r.contain||"").includes(s))}function u2(e){let t=qn(e);for(;Hr(t)&&!Ro(t);){if(Hf(t))return t;if(Kl(t))return null;t=qn(t)}return null}function Zf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const d2=new Set(["html","body","#document"]);function Ro(e){return d2.has(Uo(e))}function Tr(e){return or(e).getComputedStyle(e)}function Gl(e){return Ar(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qn(e){if(Uo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||o0(e)&&e.host||Zr(e);return o0(t)?t.host:t}function Av(e){const t=qn(e);return Ro(t)?e.ownerDocument?e.ownerDocument.body:e.body:Hr(t)&&Ha(t)?t:Av(t)}function La(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=Av(e),c=i===((s=e.ownerDocument)==null?void 0:s.body),u=or(i);if(c){const f=af(u);return t.concat(u,u.visualViewport||[],Ha(i)?i:[],f&&r?La(f):[])}return t.concat(i,La(i,[],r))}function af(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Tv(e){const t=Tr(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=Hr(e),c=i?e.offsetWidth:r,u=i?e.offsetHeight:s,f=Tl(r)!==c||Tl(s)!==u;return f&&(r=c,s=u),{width:r,height:s,$:f}}function Kf(e){return Ar(e)?e:e.contextElement}function No(e){const t=Kf(e);if(!Hr(t))return qr(1);const r=t.getBoundingClientRect(),{width:s,height:i,$:c}=Tv(t);let u=(c?Tl(r.width):r.width)/s,f=(c?Tl(r.height):r.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const f2=qr(0);function Ov(e){const t=or(e);return!Zf()||!t.visualViewport?f2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function h2(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==or(e)?!1:t}function bs(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),c=Kf(e);let u=qr(1);t&&(s?Ar(s)&&(u=No(s)):u=No(e));const f=h2(c,r,s)?Ov(c):qr(0);let h=(i.left+f.x)/u.x,g=(i.top+f.y)/u.y,p=i.width/u.x,v=i.height/u.y;if(c){const y=or(c),j=s&&Ar(s)?or(s):s;let S=y,b=af(S);for(;b&&s&&j!==S;){const N=No(b),k=b.getBoundingClientRect(),C=Tr(b),P=k.left+(b.clientLeft+parseFloat(C.paddingLeft))*N.x,D=k.top+(b.clientTop+parseFloat(C.paddingTop))*N.y;h*=N.x,g*=N.y,p*=N.x,v*=N.y,h+=P,g+=D,S=or(b),b=af(S)}}return Rl({width:p,height:v,x:h,y:g})}function Jl(e,t){const r=Gl(e).scrollLeft;return t?t.left+r:bs(Zr(e)).left+r}function Rv(e,t){const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-Jl(e,r),i=r.top+t.scrollTop;return{x:s,y:i}}function m2(e){let{elements:t,rect:r,offsetParent:s,strategy:i}=e;const c=i==="fixed",u=Zr(s),f=t?Kl(t.floating):!1;if(s===u||f&&c)return r;let h={scrollLeft:0,scrollTop:0},g=qr(1);const p=qr(0),v=Hr(s);if((v||!v&&!c)&&((Uo(s)!=="body"||Ha(u))&&(h=Gl(s)),Hr(s))){const j=bs(s);g=No(s),p.x=j.x+s.clientLeft,p.y=j.y+s.clientTop}const y=u&&!v&&!c?Rv(u,h):qr(0);return{width:r.width*g.x,height:r.height*g.y,x:r.x*g.x-h.scrollLeft*g.x+p.x+y.x,y:r.y*g.y-h.scrollTop*g.y+p.y+y.y}}function p2(e){return Array.from(e.getClientRects())}function g2(e){const t=Zr(e),r=Gl(e),s=e.ownerDocument.body,i=nr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),c=nr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let u=-r.scrollLeft+Jl(e);const f=-r.scrollTop;return Tr(s).direction==="rtl"&&(u+=nr(t.clientWidth,s.clientWidth)-i),{width:i,height:c,x:u,y:f}}const a0=25;function x2(e,t){const r=or(e),s=Zr(e),i=r.visualViewport;let c=s.clientWidth,u=s.clientHeight,f=0,h=0;if(i){c=i.width,u=i.height;const p=Zf();(!p||p&&t==="fixed")&&(f=i.offsetLeft,h=i.offsetTop)}const g=Jl(s);if(g<=0){const p=s.ownerDocument,v=p.body,y=getComputedStyle(v),j=p.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,S=Math.abs(s.clientWidth-v.clientWidth-j);S<=a0&&(c-=S)}else g<=a0&&(c+=g);return{width:c,height:u,x:f,y:h}}const v2=new Set(["absolute","fixed"]);function y2(e,t){const r=bs(e,!0,t==="fixed"),s=r.top+e.clientTop,i=r.left+e.clientLeft,c=Hr(e)?No(e):qr(1),u=e.clientWidth*c.x,f=e.clientHeight*c.y,h=i*c.x,g=s*c.y;return{width:u,height:f,x:h,y:g}}function i0(e,t,r){let s;if(t==="viewport")s=x2(e,r);else if(t==="document")s=g2(Zr(e));else if(Ar(t))s=y2(t,r);else{const i=Ov(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Rl(s)}function Iv(e,t){const r=qn(e);return r===t||!Ar(r)||Ro(r)?!1:Tr(r).position==="fixed"||Iv(r,t)}function b2(e,t){const r=t.get(e);if(r)return r;let s=La(e,[],!1).filter(f=>Ar(f)&&Uo(f)!=="body"),i=null;const c=Tr(e).position==="fixed";let u=c?qn(e):e;for(;Ar(u)&&!Ro(u);){const f=Tr(u),h=Hf(u);!h&&f.position==="fixed"&&(i=null),(c?!h&&!i:!h&&f.position==="static"&&!!i&&v2.has(i.position)||Ha(u)&&!h&&Iv(e,u))?s=s.filter(p=>p!==u):i=f,u=qn(u)}return t.set(e,s),s}function w2(e){let{element:t,boundary:r,rootBoundary:s,strategy:i}=e;const u=[...r==="clippingAncestors"?Kl(t)?[]:b2(t,this._c):[].concat(r),s],f=u[0],h=u.reduce((g,p)=>{const v=i0(t,p,i);return g.top=nr(v.top,g.top),g.right=Wn(v.right,g.right),g.bottom=Wn(v.bottom,g.bottom),g.left=nr(v.left,g.left),g},i0(t,f,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function _2(e){const{width:t,height:r}=Tv(e);return{width:t,height:r}}function j2(e,t,r){const s=Hr(t),i=Zr(t),c=r==="fixed",u=bs(e,!0,c,t);let f={scrollLeft:0,scrollTop:0};const h=qr(0);function g(){h.x=Jl(i)}if(s||!s&&!c)if((Uo(t)!=="body"||Ha(i))&&(f=Gl(t)),s){const j=bs(t,!0,c,t);h.x=j.x+t.clientLeft,h.y=j.y+t.clientTop}else i&&g();c&&!s&&i&&g();const p=i&&!s&&!c?Rv(i,f):qr(0),v=u.left+f.scrollLeft-h.x-p.x,y=u.top+f.scrollTop-h.y-p.y;return{x:v,y,width:u.width,height:u.height}}function Sd(e){return Tr(e).position==="static"}function l0(e,t){if(!Hr(e)||Tr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Zr(e)===r&&(r=r.ownerDocument.body),r}function $v(e,t){const r=or(e);if(Kl(e))return r;if(!Hr(e)){let i=qn(e);for(;i&&!Ro(i);){if(Ar(i)&&!Sd(i))return i;i=qn(i)}return r}let s=l0(e,t);for(;s&&o2(s)&&Sd(s);)s=l0(s,t);return s&&Ro(s)&&Sd(s)&&!Hf(s)?r:s||u2(e)||r}const k2=async function(e){const t=this.getOffsetParent||$v,r=this.getDimensions,s=await r(e.floating);return{reference:j2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function S2(e){return Tr(e).direction==="rtl"}const N2={convertOffsetParentRelativeRectToViewportRelativeRect:m2,getDocumentElement:Zr,getClippingRect:w2,getOffsetParent:$v,getElementRects:k2,getClientRects:p2,getDimensions:_2,getScale:No,isElement:Ar,isRTL:S2};function Dv(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function C2(e,t){let r=null,s;const i=Zr(e);function c(){var f;clearTimeout(s),(f=r)==null||f.disconnect(),r=null}function u(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),c();const g=e.getBoundingClientRect(),{left:p,top:v,width:y,height:j}=g;if(f||t(),!y||!j)return;const S=ml(v),b=ml(i.clientWidth-(p+y)),N=ml(i.clientHeight-(v+j)),k=ml(p),P={rootMargin:-S+"px "+-b+"px "+-N+"px "+-k+"px",threshold:nr(0,Wn(1,h))||1};let D=!0;function E(V){const A=V[0].intersectionRatio;if(A!==h){if(!D)return u();A?u(!1,A):s=setTimeout(()=>{u(!1,1e-7)},1e3)}A===1&&!Dv(g,e.getBoundingClientRect())&&u(),D=!1}try{r=new IntersectionObserver(E,{...P,root:i.ownerDocument})}catch{r=new IntersectionObserver(E,P)}r.observe(e)}return u(!0),c}function E2(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,g=Kf(e),p=i||c?[...g?La(g):[],...La(t)]:[];p.forEach(k=>{i&&k.addEventListener("scroll",r,{passive:!0}),c&&k.addEventListener("resize",r)});const v=g&&f?C2(g,r):null;let y=-1,j=null;u&&(j=new ResizeObserver(k=>{let[C]=k;C&&C.target===g&&j&&(j.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var P;(P=j)==null||P.observe(t)})),r()}),g&&!h&&j.observe(g),j.observe(t));let S,b=h?bs(e):null;h&&N();function N(){const k=bs(e);b&&!Dv(b,k)&&r(),b=k,S=requestAnimationFrame(N)}return r(),()=>{var k;p.forEach(C=>{i&&C.removeEventListener("scroll",r),c&&C.removeEventListener("resize",r)}),v?.(),(k=j)==null||k.disconnect(),j=null,h&&cancelAnimationFrame(S)}}const P2=XN,A2=e2,T2=JN,O2=r2,R2=QN,c0=GN,I2=t2,$2=(e,t,r)=>{const s=new Map,i={platform:N2,...r},c={...i.platform,_c:s};return KN(e,t,{...i,platform:c})};var D2=typeof document<"u",M2=function(){},_l=D2?_.useLayoutEffect:M2;function Il(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!Il(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=r;s--!==0;){const c=i[s];if(!(c==="_owner"&&e.$$typeof)&&!Il(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function Mv(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function u0(e,t){const r=Mv(e);return Math.round(t*r)/r}function Nd(e){const t=_.useRef(e);return _l(()=>{t.current=e}),t}function z2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:i,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:h,open:g}=e,[p,v]=_.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,j]=_.useState(s);Il(y,s)||j(s);const[S,b]=_.useState(null),[N,k]=_.useState(null),C=_.useCallback(O=>{O!==V.current&&(V.current=O,b(O))},[]),P=_.useCallback(O=>{O!==A.current&&(A.current=O,k(O))},[]),D=c||S,E=u||N,V=_.useRef(null),A=_.useRef(null),M=_.useRef(p),I=h!=null,de=Nd(h),be=Nd(i),ue=Nd(g),X=_.useCallback(()=>{if(!V.current||!A.current)return;const O={placement:t,strategy:r,middleware:y};be.current&&(O.platform=be.current),$2(V.current,A.current,O).then(ae=>{const ie={...ae,isPositioned:ue.current!==!1};ce.current&&!Il(M.current,ie)&&(M.current=ie,qa.flushSync(()=>{v(ie)}))})},[y,t,r,be,ue]);_l(()=>{g===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,v(O=>({...O,isPositioned:!1})))},[g]);const ce=_.useRef(!1);_l(()=>(ce.current=!0,()=>{ce.current=!1}),[]),_l(()=>{if(D&&(V.current=D),E&&(A.current=E),D&&E){if(de.current)return de.current(D,E,X);X()}},[D,E,X,de,I]);const te=_.useMemo(()=>({reference:V,floating:A,setReference:C,setFloating:P}),[C,P]),Y=_.useMemo(()=>({reference:D,floating:E}),[D,E]),re=_.useMemo(()=>{const O={position:r,left:0,top:0};if(!Y.floating)return O;const ae=u0(Y.floating,p.x),ie=u0(Y.floating,p.y);return f?{...O,transform:"translate("+ae+"px, "+ie+"px)",...Mv(Y.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ae,top:ie}},[r,f,Y.floating,p.x,p.y]);return _.useMemo(()=>({...p,update:X,refs:te,elements:Y,floatingStyles:re}),[p,X,te,Y,re])}const F2=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:i}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?c0({element:s.current,padding:i}).fn(r):{}:s?c0({element:s,padding:i}).fn(r):{}}}},L2=(e,t)=>({...P2(e),options:[e,t]}),U2=(e,t)=>({...A2(e),options:[e,t]}),V2=(e,t)=>({...I2(e),options:[e,t]}),B2=(e,t)=>({...T2(e),options:[e,t]}),W2=(e,t)=>({...O2(e),options:[e,t]}),q2=(e,t)=>({...R2(e),options:[e,t]}),H2=(e,t)=>({...F2(e),options:[e,t]});var Z2="Arrow",zv=_.forwardRef((e,t)=>{const{children:r,width:s=10,height:i=5,...c}=e;return a.jsx(He.svg,{...c,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});zv.displayName=Z2;var K2=zv;function G2(e){const[t,r]=_.useState(void 0);return Rt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const c=i[0];let u,f;if("borderBoxSize"in c){const h=c.borderBoxSize,g=Array.isArray(h)?h[0]:h;u=g.inlineSize,f=g.blockSize}else u=e.offsetWidth,f=e.offsetHeight;r({width:u,height:f})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var Gf="Popper",[Fv,Lv]=Bl(Gf),[J2,Uv]=Fv(Gf),Vv=e=>{const{__scopePopper:t,children:r}=e,[s,i]=_.useState(null);return a.jsx(J2,{scope:t,anchor:s,onAnchorChange:i,children:r})};Vv.displayName=Gf;var Bv="PopperAnchor",Wv=_.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...i}=e,c=Uv(Bv,r),u=_.useRef(null),f=ut(t,u),h=_.useRef(null);return _.useEffect(()=>{const g=h.current;h.current=s?.current||u.current,g!==h.current&&c.onAnchorChange(h.current)}),s?null:a.jsx(He.div,{...i,ref:f})});Wv.displayName=Bv;var Jf="PopperContent",[Q2,Y2]=Fv(Jf),qv=_.forwardRef((e,t)=>{const{__scopePopper:r,side:s="bottom",sideOffset:i=0,align:c="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:g=[],collisionPadding:p=0,sticky:v="partial",hideWhenDetached:y=!1,updatePositionStrategy:j="optimized",onPlaced:S,...b}=e,N=Uv(Jf,r),[k,C]=_.useState(null),P=ut(t,Z=>C(Z)),[D,E]=_.useState(null),V=G2(D),A=V?.width??0,M=V?.height??0,I=s+(c!=="center"?"-"+c:""),de=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},be=Array.isArray(g)?g:[g],ue=be.length>0,X={padding:de,boundary:be.filter(eC),altBoundary:ue},{refs:ce,floatingStyles:te,placement:Y,isPositioned:re,middlewareData:O}=z2({strategy:"fixed",placement:I,whileElementsMounted:(...Z)=>E2(...Z,{animationFrame:j==="always"}),elements:{reference:N.anchor},middleware:[L2({mainAxis:i+M,alignmentAxis:u}),h&&U2({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?V2():void 0,...X}),h&&B2({...X}),W2({...X,apply:({elements:Z,rects:Q,availableWidth:xe,availableHeight:pe})=>{const{width:Ie,height:Ve}=Q.reference,gt=Z.floating.style;gt.setProperty("--radix-popper-available-width",`${xe}px`),gt.setProperty("--radix-popper-available-height",`${pe}px`),gt.setProperty("--radix-popper-anchor-width",`${Ie}px`),gt.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),D&&H2({element:D,padding:f}),tC({arrowWidth:A,arrowHeight:M}),y&&q2({strategy:"referenceHidden",...X})]}),[ae,ie]=Kv(Y),$=vs(S);Rt(()=>{re&&$?.()},[re,$]);const q=O.arrow?.x,R=O.arrow?.y,B=O.arrow?.centerOffset!==0,[F,W]=_.useState();return Rt(()=>{k&&W(window.getComputedStyle(k).zIndex)},[k]),a.jsx("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:re?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:F,"--radix-popper-transform-origin":[O.transformOrigin?.x,O.transformOrigin?.y].join(" "),...O.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(Q2,{scope:r,placedSide:ae,onArrowChange:E,arrowX:q,arrowY:R,shouldHideArrow:B,children:a.jsx(He.div,{"data-side":ae,"data-align":ie,...b,ref:P,style:{...b.style,animation:re?void 0:"none"}})})})});qv.displayName=Jf;var Hv="PopperArrow",X2={top:"bottom",right:"left",bottom:"top",left:"right"},Zv=_.forwardRef(function(t,r){const{__scopePopper:s,...i}=t,c=Y2(Hv,s),u=X2[c.placedSide];return a.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:a.jsx(K2,{...i,ref:r,style:{...i.style,display:"block"}})})});Zv.displayName=Hv;function eC(e){return e!==null}var tC=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:s,middlewareData:i}=t,u=i.arrow?.centerOffset!==0,f=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[g,p]=Kv(r),v={start:"0%",center:"50%",end:"100%"}[p],y=(i.arrow?.x??0)+f/2,j=(i.arrow?.y??0)+h/2;let S="",b="";return g==="bottom"?(S=u?v:`${y}px`,b=`${-h}px`):g==="top"?(S=u?v:`${y}px`,b=`${s.floating.height+h}px`):g==="right"?(S=`${-h}px`,b=u?v:`${j}px`):g==="left"&&(S=`${s.floating.width+h}px`,b=u?v:`${j}px`),{data:{x:S,y:b}}}});function Kv(e){const[t,r="center"]=e.split("-");return[t,r]}var rC=Vv,nC=Wv,sC=qv,oC=Zv;function aC(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Gv=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),iC="VisuallyHidden",lC=_.forwardRef((e,t)=>a.jsx(He.span,{...e,ref:t,style:{...Gv,...e.style}}));lC.displayName=iC;var cC=[" ","Enter","ArrowUp","ArrowDown"],uC=[" ","Enter"],ws="Select",[Ql,Yl,dC]=IN(ws),[Vo]=Bl(ws,[dC,Lv]),Xl=Lv(),[fC,Zn]=Vo(ws),[hC,mC]=Vo(ws),Jv=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:i,onOpenChange:c,value:u,defaultValue:f,onValueChange:h,dir:g,name:p,autoComplete:v,disabled:y,required:j,form:S}=e,b=Xl(t),[N,k]=_.useState(null),[C,P]=_.useState(null),[D,E]=_.useState(!1),V=DN(g),[A,M]=Yd({prop:s,defaultProp:i??!1,onChange:c,caller:ws}),[I,de]=Yd({prop:u,defaultProp:f,onChange:h,caller:ws}),be=_.useRef(null),ue=N?S||!!N.closest("form"):!0,[X,ce]=_.useState(new Set),te=Array.from(X).map(Y=>Y.props.value).join(";");return a.jsx(rC,{...b,children:a.jsxs(fC,{required:j,scope:t,trigger:N,onTriggerChange:k,valueNode:C,onValueNodeChange:P,valueNodeHasChildren:D,onValueNodeHasChildrenChange:E,contentId:ko(),value:I,onValueChange:de,open:A,onOpenChange:M,dir:V,triggerPointerDownPosRef:be,disabled:y,children:[a.jsx(Ql.Provider,{scope:t,children:a.jsx(hC,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(Y=>{ce(re=>new Set(re).add(Y))},[]),onNativeOptionRemove:_.useCallback(Y=>{ce(re=>{const O=new Set(re);return O.delete(Y),O})},[]),children:r})}),ue?a.jsxs(by,{"aria-hidden":!0,required:j,tabIndex:-1,name:p,autoComplete:v,value:I,onChange:Y=>de(Y.target.value),disabled:y,form:S,children:[I===void 0?a.jsx("option",{value:""}):null,Array.from(X)]},te):null]})})};Jv.displayName=ws;var Qv="SelectTrigger",Yv=_.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...i}=e,c=Xl(r),u=Zn(Qv,r),f=u.disabled||s,h=ut(t,u.onTriggerChange),g=Yl(r),p=_.useRef("touch"),[v,y,j]=_y(b=>{const N=g().filter(P=>!P.disabled),k=N.find(P=>P.value===u.value),C=jy(N,b,k);C!==void 0&&u.onValueChange(C.value)}),S=b=>{f||(u.onOpenChange(!0),j()),b&&(u.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return a.jsx(nC,{asChild:!0,...c,children:a.jsx(He.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":wy(u.value)?"":void 0,...i,ref:h,onClick:Xe(i.onClick,b=>{b.currentTarget.focus(),p.current!=="mouse"&&S(b)}),onPointerDown:Xe(i.onPointerDown,b=>{p.current=b.pointerType;const N=b.target;N.hasPointerCapture(b.pointerId)&&N.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(S(b),b.preventDefault())}),onKeyDown:Xe(i.onKeyDown,b=>{const N=v.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&y(b.key),!(N&&b.key===" ")&&cC.includes(b.key)&&(S(),b.preventDefault())})})})});Yv.displayName=Qv;var Xv="SelectValue",ey=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:i,children:c,placeholder:u="",...f}=e,h=Zn(Xv,r),{onValueNodeHasChildrenChange:g}=h,p=c!==void 0,v=ut(t,h.onValueNodeChange);return Rt(()=>{g(p)},[g,p]),a.jsx(He.span,{...f,ref:v,style:{pointerEvents:"none"},children:wy(h.value)?a.jsx(a.Fragment,{children:u}):c})});ey.displayName=Xv;var pC="SelectIcon",ty=_.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...i}=e;return a.jsx(He.span,{"aria-hidden":!0,...i,ref:t,children:s||"▼"})});ty.displayName=pC;var gC="SelectPortal",ry=e=>a.jsx(Mf,{asChild:!0,...e});ry.displayName=gC;var _s="SelectContent",ny=_.forwardRef((e,t)=>{const r=Zn(_s,e.__scopeSelect),[s,i]=_.useState();if(Rt(()=>{i(new DocumentFragment)},[]),!r.open){const c=s;return c?qa.createPortal(a.jsx(sy,{scope:e.__scopeSelect,children:a.jsx(Ql.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),c):null}return a.jsx(oy,{...e,ref:t})});ny.displayName=_s;var Cr=10,[sy,Kn]=Vo(_s),xC="SelectContentImpl",vC=Oo("SelectContent.RemoveScroll"),oy=_.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:c,onPointerDownOutside:u,side:f,sideOffset:h,align:g,alignOffset:p,arrowPadding:v,collisionBoundary:y,collisionPadding:j,sticky:S,hideWhenDetached:b,avoidCollisions:N,...k}=e,C=Zn(_s,r),[P,D]=_.useState(null),[E,V]=_.useState(null),A=ut(t,Z=>D(Z)),[M,I]=_.useState(null),[de,be]=_.useState(null),ue=Yl(r),[X,ce]=_.useState(!1),te=_.useRef(!1);_.useEffect(()=>{if(P)return Vx(P)},[P]),Rx();const Y=_.useCallback(Z=>{const[Q,...xe]=ue().map(Ve=>Ve.ref.current),[pe]=xe.slice(-1),Ie=document.activeElement;for(const Ve of Z)if(Ve===Ie||(Ve?.scrollIntoView({block:"nearest"}),Ve===Q&&E&&(E.scrollTop=0),Ve===pe&&E&&(E.scrollTop=E.scrollHeight),Ve?.focus(),document.activeElement!==Ie))return},[ue,E]),re=_.useCallback(()=>Y([M,P]),[Y,M,P]);_.useEffect(()=>{X&&re()},[X,re]);const{onOpenChange:O,triggerPointerDownPosRef:ae}=C;_.useEffect(()=>{if(P){let Z={x:0,y:0};const Q=pe=>{Z={x:Math.abs(Math.round(pe.pageX)-(ae.current?.x??0)),y:Math.abs(Math.round(pe.pageY)-(ae.current?.y??0))}},xe=pe=>{Z.x<=10&&Z.y<=10?pe.preventDefault():P.contains(pe.target)||O(!1),document.removeEventListener("pointermove",Q),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",Q),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",xe,{capture:!0})}}},[P,O,ae]),_.useEffect(()=>{const Z=()=>O(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[O]);const[ie,$]=_y(Z=>{const Q=ue().filter(Ie=>!Ie.disabled),xe=Q.find(Ie=>Ie.ref.current===document.activeElement),pe=jy(Q,Z,xe);pe&&setTimeout(()=>pe.ref.current.focus())}),q=_.useCallback((Z,Q,xe)=>{const pe=!te.current&&!xe;(C.value!==void 0&&C.value===Q||pe)&&(I(Z),pe&&(te.current=!0))},[C.value]),R=_.useCallback(()=>P?.focus(),[P]),B=_.useCallback((Z,Q,xe)=>{const pe=!te.current&&!xe;(C.value!==void 0&&C.value===Q||pe)&&be(Z)},[C.value]),F=s==="popper"?lf:ay,W=F===lf?{side:f,sideOffset:h,align:g,alignOffset:p,arrowPadding:v,collisionBoundary:y,collisionPadding:j,sticky:S,hideWhenDetached:b,avoidCollisions:N}:{};return a.jsx(sy,{scope:r,content:P,viewport:E,onViewportChange:V,itemRefCallback:q,selectedItem:M,onItemLeave:R,itemTextRefCallback:B,focusSelectedItem:re,selectedItemText:de,position:s,isPositioned:X,searchRef:ie,children:a.jsx(zf,{as:vC,allowPinchZoom:!0,children:a.jsx(Df,{asChild:!0,trapped:C.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:Xe(i,Z=>{C.trigger?.focus({preventScroll:!0}),Z.preventDefault()}),children:a.jsx($f,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:a.jsx(F,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:Z=>Z.preventDefault(),...k,...W,onPlaced:()=>ce(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Xe(k.onKeyDown,Z=>{const Q=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!Q&&Z.key.length===1&&$(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let pe=ue().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const Ie=Z.target,Ve=pe.indexOf(Ie);pe=pe.slice(Ve+1)}setTimeout(()=>Y(pe)),Z.preventDefault()}})})})})})})});oy.displayName=xC;var yC="SelectItemAlignedPosition",ay=_.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...i}=e,c=Zn(_s,r),u=Kn(_s,r),[f,h]=_.useState(null),[g,p]=_.useState(null),v=ut(t,A=>p(A)),y=Yl(r),j=_.useRef(!1),S=_.useRef(!0),{viewport:b,selectedItem:N,selectedItemText:k,focusSelectedItem:C}=u,P=_.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&g&&b&&N&&k){const A=c.trigger.getBoundingClientRect(),M=g.getBoundingClientRect(),I=c.valueNode.getBoundingClientRect(),de=k.getBoundingClientRect();if(c.dir!=="rtl"){const Ie=de.left-M.left,Ve=I.left-Ie,gt=A.left-Ve,Ft=A.width+gt,Kr=Math.max(Ft,M.width),fn=window.innerWidth-Cr,Gr=Xg(Ve,[Cr,Math.max(Cr,fn-Kr)]);f.style.minWidth=Ft+"px",f.style.left=Gr+"px"}else{const Ie=M.right-de.right,Ve=window.innerWidth-I.right-Ie,gt=window.innerWidth-A.right-Ve,Ft=A.width+gt,Kr=Math.max(Ft,M.width),fn=window.innerWidth-Cr,Gr=Xg(Ve,[Cr,Math.max(Cr,fn-Kr)]);f.style.minWidth=Ft+"px",f.style.right=Gr+"px"}const be=y(),ue=window.innerHeight-Cr*2,X=b.scrollHeight,ce=window.getComputedStyle(g),te=parseInt(ce.borderTopWidth,10),Y=parseInt(ce.paddingTop,10),re=parseInt(ce.borderBottomWidth,10),O=parseInt(ce.paddingBottom,10),ae=te+Y+X+O+re,ie=Math.min(N.offsetHeight*5,ae),$=window.getComputedStyle(b),q=parseInt($.paddingTop,10),R=parseInt($.paddingBottom,10),B=A.top+A.height/2-Cr,F=ue-B,W=N.offsetHeight/2,Z=N.offsetTop+W,Q=te+Y+Z,xe=ae-Q;if(Q<=B){const Ie=be.length>0&&N===be[be.length-1].ref.current;f.style.bottom="0px";const Ve=g.clientHeight-b.offsetTop-b.offsetHeight,gt=Math.max(F,W+(Ie?R:0)+Ve+re),Ft=Q+gt;f.style.height=Ft+"px"}else{const Ie=be.length>0&&N===be[0].ref.current;f.style.top="0px";const gt=Math.max(B,te+b.offsetTop+(Ie?q:0)+W)+xe;f.style.height=gt+"px",b.scrollTop=Q-B+b.offsetTop}f.style.margin=`${Cr}px 0`,f.style.minHeight=ie+"px",f.style.maxHeight=ue+"px",s?.(),requestAnimationFrame(()=>j.current=!0)}},[y,c.trigger,c.valueNode,f,g,b,N,k,c.dir,s]);Rt(()=>P(),[P]);const[D,E]=_.useState();Rt(()=>{g&&E(window.getComputedStyle(g).zIndex)},[g]);const V=_.useCallback(A=>{A&&S.current===!0&&(P(),C?.(),S.current=!1)},[P,C]);return a.jsx(wC,{scope:r,contentWrapper:f,shouldExpandOnScrollRef:j,onScrollButtonChange:V,children:a.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:a.jsx(He.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});ay.displayName=yC;var bC="SelectPopperPosition",lf=_.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:i=Cr,...c}=e,u=Xl(r);return a.jsx(sC,{...u,...c,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lf.displayName=bC;var[wC,Qf]=Vo(_s,{}),cf="SelectViewport",iy=_.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...i}=e,c=Kn(cf,r),u=Qf(cf,r),f=ut(t,c.onViewportChange),h=_.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Ql.Slot,{scope:r,children:a.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Xe(i.onScroll,g=>{const p=g.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:y}=u;if(y?.current&&v){const j=Math.abs(h.current-p.scrollTop);if(j>0){const S=window.innerHeight-Cr*2,b=parseFloat(v.style.minHeight),N=parseFloat(v.style.height),k=Math.max(b,N);if(k<S){const C=k+j,P=Math.min(S,C),D=C-P;v.style.height=P+"px",v.style.bottom==="0px"&&(p.scrollTop=D>0?D:0,v.style.justifyContent="flex-end")}}}h.current=p.scrollTop})})})]})});iy.displayName=cf;var ly="SelectGroup",[_C,jC]=Vo(ly),kC=_.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,i=ko();return a.jsx(_C,{scope:r,id:i,children:a.jsx(He.div,{role:"group","aria-labelledby":i,...s,ref:t})})});kC.displayName=ly;var cy="SelectLabel",uy=_.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,i=jC(cy,r);return a.jsx(He.div,{id:i.id,...s,ref:t})});uy.displayName=cy;var $l="SelectItem",[SC,dy]=Vo($l),fy=_.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:i=!1,textValue:c,...u}=e,f=Zn($l,r),h=Kn($l,r),g=f.value===s,[p,v]=_.useState(c??""),[y,j]=_.useState(!1),S=ut(t,C=>h.itemRefCallback?.(C,s,i)),b=ko(),N=_.useRef("touch"),k=()=>{i||(f.onValueChange(s),f.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(SC,{scope:r,value:s,disabled:i,textId:b,isSelected:g,onItemTextChange:_.useCallback(C=>{v(P=>P||(C?.textContent??"").trim())},[]),children:a.jsx(Ql.ItemSlot,{scope:r,value:s,disabled:i,textValue:p,children:a.jsx(He.div,{role:"option","aria-labelledby":b,"data-highlighted":y?"":void 0,"aria-selected":g&&y,"data-state":g?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:S,onFocus:Xe(u.onFocus,()=>j(!0)),onBlur:Xe(u.onBlur,()=>j(!1)),onClick:Xe(u.onClick,()=>{N.current!=="mouse"&&k()}),onPointerUp:Xe(u.onPointerUp,()=>{N.current==="mouse"&&k()}),onPointerDown:Xe(u.onPointerDown,C=>{N.current=C.pointerType}),onPointerMove:Xe(u.onPointerMove,C=>{N.current=C.pointerType,i?h.onItemLeave?.():N.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Xe(u.onPointerLeave,C=>{C.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Xe(u.onKeyDown,C=>{h.searchRef?.current!==""&&C.key===" "||(uC.includes(C.key)&&k(),C.key===" "&&C.preventDefault())})})})})});fy.displayName=$l;var Ra="SelectItemText",hy=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:i,...c}=e,u=Zn(Ra,r),f=Kn(Ra,r),h=dy(Ra,r),g=mC(Ra,r),[p,v]=_.useState(null),y=ut(t,k=>v(k),h.onItemTextChange,k=>f.itemTextRefCallback?.(k,h.value,h.disabled)),j=p?.textContent,S=_.useMemo(()=>a.jsx("option",{value:h.value,disabled:h.disabled,children:j},h.value),[h.disabled,h.value,j]),{onNativeOptionAdd:b,onNativeOptionRemove:N}=g;return Rt(()=>(b(S),()=>N(S)),[b,N,S]),a.jsxs(a.Fragment,{children:[a.jsx(He.span,{id:h.textId,...c,ref:y}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?qa.createPortal(c.children,u.valueNode):null]})});hy.displayName=Ra;var my="SelectItemIndicator",py=_.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return dy(my,r).isSelected?a.jsx(He.span,{"aria-hidden":!0,...s,ref:t}):null});py.displayName=my;var uf="SelectScrollUpButton",gy=_.forwardRef((e,t)=>{const r=Kn(uf,e.__scopeSelect),s=Qf(uf,e.__scopeSelect),[i,c]=_.useState(!1),u=ut(t,s.onScrollButtonChange);return Rt(()=>{if(r.viewport&&r.isPositioned){let f=function(){const g=h.scrollTop>0;c(g)};const h=r.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),i?a.jsx(vy,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=r;f&&h&&(f.scrollTop=f.scrollTop-h.offsetHeight)}}):null});gy.displayName=uf;var df="SelectScrollDownButton",xy=_.forwardRef((e,t)=>{const r=Kn(df,e.__scopeSelect),s=Qf(df,e.__scopeSelect),[i,c]=_.useState(!1),u=ut(t,s.onScrollButtonChange);return Rt(()=>{if(r.viewport&&r.isPositioned){let f=function(){const g=h.scrollHeight-h.clientHeight,p=Math.ceil(h.scrollTop)<g;c(p)};const h=r.viewport;return f(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),i?a.jsx(vy,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:h}=r;f&&h&&(f.scrollTop=f.scrollTop+h.offsetHeight)}}):null});xy.displayName=df;var vy=_.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...i}=e,c=Kn("SelectScrollButton",r),u=_.useRef(null),f=Yl(r),h=_.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return _.useEffect(()=>()=>h(),[h]),Rt(()=>{f().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),a.jsx(He.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Xe(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(s,50))}),onPointerMove:Xe(i.onPointerMove,()=>{c.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(s,50))}),onPointerLeave:Xe(i.onPointerLeave,()=>{h()})})}),NC="SelectSeparator",yy=_.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return a.jsx(He.div,{"aria-hidden":!0,...s,ref:t})});yy.displayName=NC;var ff="SelectArrow",CC=_.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,i=Xl(r),c=Zn(ff,r),u=Kn(ff,r);return c.open&&u.position==="popper"?a.jsx(oC,{...i,...s,ref:t}):null});CC.displayName=ff;var EC="SelectBubbleInput",by=_.forwardRef(({__scopeSelect:e,value:t,...r},s)=>{const i=_.useRef(null),c=ut(s,i),u=aC(t);return _.useEffect(()=>{const f=i.current;if(!f)return;const h=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==t&&p){const v=new Event("change",{bubbles:!0});p.call(f,t),f.dispatchEvent(v)}},[u,t]),a.jsx(He.select,{...r,style:{...Gv,...r.style},ref:c,defaultValue:t})});by.displayName=EC;function wy(e){return e===""||e===void 0}function _y(e){const t=vs(e),r=_.useRef(""),s=_.useRef(0),i=_.useCallback(u=>{const f=r.current+u;t(f),(function h(g){r.current=g,window.clearTimeout(s.current),g!==""&&(s.current=window.setTimeout(()=>h(""),1e3))})(f)},[t]),c=_.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,i,c]}function jy(e,t,r){const i=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,c=r?e.indexOf(r):-1;let u=PC(e,Math.max(c,0));i.length===1&&(u=u.filter(g=>g!==r));const h=u.find(g=>g.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==r?h:void 0}function PC(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var AC=Jv,ky=Yv,TC=ey,OC=ty,RC=ry,Sy=ny,IC=iy,Ny=uy,Cy=fy,$C=hy,DC=py,Ey=gy,Py=xy,Ay=yy;const d0=AC,f0=TC,hf=_.forwardRef(({className:e,children:t,...r},s)=>a.jsxs(ky,{ref:s,className:Nt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(OC,{asChild:!0,children:a.jsx(Sf,{className:"h-4 w-4 opacity-50"})})]}));hf.displayName=ky.displayName;const Ty=_.forwardRef(({className:e,...t},r)=>a.jsx(Ey,{ref:r,className:Nt("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(E_,{className:"h-4 w-4"})}));Ty.displayName=Ey.displayName;const Oy=_.forwardRef(({className:e,...t},r)=>a.jsx(Py,{ref:r,className:Nt("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Sf,{className:"h-4 w-4"})}));Oy.displayName=Py.displayName;const mf=_.forwardRef(({className:e,children:t,position:r="popper",...s},i)=>a.jsx(RC,{children:a.jsxs(Sy,{ref:i,className:Nt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[a.jsx(Ty,{}),a.jsx(IC,{className:Nt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(Oy,{})]})}));mf.displayName=Sy.displayName;const MC=_.forwardRef(({className:e,...t},r)=>a.jsx(Ny,{ref:r,className:Nt("px-2 py-1.5 text-sm font-semibold",e),...t}));MC.displayName=Ny.displayName;const Ia=_.forwardRef(({className:e,children:t,...r},s)=>a.jsxs(Cy,{ref:s,className:Nt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(DC,{children:a.jsx(jl,{className:"h-4 w-4"})})}),a.jsx($C,{children:t})]}));Ia.displayName=Cy.displayName;const zC=_.forwardRef(({className:e,...t},r)=>a.jsx(Ay,{ref:r,className:Nt("-mx-1 my-1 h-px bg-muted",e),...t}));zC.displayName=Ay.displayName;var FC="Label",Ry=_.forwardRef((e,t)=>a.jsx(He.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Ry.displayName=FC;var Iy=Ry;const LC=Nv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ft=_.forwardRef(({className:e,...t},r)=>a.jsx(Iy,{ref:r,className:Nt(LC(),e),...t}));ft.displayName=Iy.displayName;var Za=e=>e.type==="checkbox",ms=e=>e instanceof Date,zt=e=>e==null;const $y=e=>typeof e=="object";var mt=e=>!zt(e)&&!Array.isArray(e)&&$y(e)&&!ms(e),Dy=e=>mt(e)&&e.target?Za(e.target)?e.target.checked:e.target.value:e,UC=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,My=(e,t)=>e.has(UC(t)),VC=e=>{const t=e.constructor&&e.constructor.prototype;return mt(t)&&t.hasOwnProperty("isPrototypeOf")},Yf=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ye(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Yf&&(e instanceof Blob||s))&&(r||mt(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!VC(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Ye(e[i]));else return e;return t}var ec=e=>/^\w*$/.test(e),et=e=>e===void 0,tc=e=>Array.isArray(e)?e.filter(Boolean):[],Xf=e=>tc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),me=(e,t,r)=>{if(!t||!mt(e))return r;const s=(ec(t)?[t]:Xf(t)).reduce((i,c)=>zt(i)?i:i[c],e);return et(s)||s===e?et(e[t])?r:e[t]:s},rr=e=>typeof e=="boolean",We=(e,t,r)=>{let s=-1;const i=ec(t)?[t]:Xf(t),c=i.length,u=c-1;for(;++s<c;){const f=i[s];let h=r;if(s!==u){const g=e[f];h=mt(g)||Array.isArray(g)?g:isNaN(+i[s+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=h,e=e[f]}};const Dl={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},gr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},on={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},zy=Se.createContext(null);zy.displayName="HookFormContext";const rc=()=>Se.useContext(zy);var Fy=(e,t,r,s=!0)=>{const i={defaultValues:t._defaultValues};for(const c in e)Object.defineProperty(i,c,{get:()=>{const u=c;return t._proxyFormState[u]!==gr.all&&(t._proxyFormState[u]=!s||gr.all),r&&(r[u]=!0),e[u]}});return i};const nc=typeof window<"u"?Se.useLayoutEffect:Se.useEffect;function BC(e){const t=rc(),{control:r=t.control,disabled:s,name:i,exact:c}=e||{},[u,f]=Se.useState(r._formState),h=Se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return nc(()=>r._subscribe({name:i,formState:h.current,exact:c,callback:g=>{!s&&f({...r._formState,...g})}}),[i,s,c]),Se.useEffect(()=>{h.current.isValid&&r._setValid(!0)},[r]),Se.useMemo(()=>Fy(u,r,h.current,!1),[u,r])}var sr=e=>typeof e=="string",Ly=(e,t,r,s,i)=>sr(e)?(s&&t.watch.add(e),me(r,e,i)):Array.isArray(e)?e.map(c=>(s&&t.watch.add(c),me(r,c))):(s&&(t.watchAll=!0),r),pf=e=>zt(e)||!$y(e);function ln(e,t,r=new WeakSet){if(pf(e)||pf(t))return e===t;if(ms(e)&&ms(t))return e.getTime()===t.getTime();const s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const c of s){const u=e[c];if(!i.includes(c))return!1;if(c!=="ref"){const f=t[c];if(ms(u)&&ms(f)||mt(u)&&mt(f)||Array.isArray(u)&&Array.isArray(f)?!ln(u,f,r):u!==f)return!1}}return!0}function WC(e){const t=rc(),{control:r=t.control,name:s,defaultValue:i,disabled:c,exact:u,compute:f}=e||{},h=Se.useRef(i),g=Se.useRef(f),p=Se.useRef(void 0);g.current=f;const v=Se.useMemo(()=>r._getWatch(s,h.current),[r,s]),[y,j]=Se.useState(g.current?g.current(v):v);return nc(()=>r._subscribe({name:s,formState:{values:!0},exact:u,callback:S=>{if(!c){const b=Ly(s,r._names,S.values||r._formValues,!1,h.current);if(g.current){const N=g.current(b);ln(N,p.current)||(j(N),p.current=N)}else j(b)}}}),[r,c,s,u]),Se.useEffect(()=>r._removeUnmounted()),y}function qC(e){const t=rc(),{name:r,disabled:s,control:i=t.control,shouldUnregister:c,defaultValue:u}=e,f=My(i._names.array,r),h=Se.useMemo(()=>me(i._formValues,r,me(i._defaultValues,r,u)),[i,r,u]),g=WC({control:i,name:r,defaultValue:h,exact:!0}),p=BC({control:i,name:r,exact:!0}),v=Se.useRef(e),y=Se.useRef(void 0),j=Se.useRef(i.register(r,{...e.rules,value:g,...rr(e.disabled)?{disabled:e.disabled}:{}}));v.current=e;const S=Se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!me(p.errors,r)},isDirty:{enumerable:!0,get:()=>!!me(p.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!me(p.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!me(p.validatingFields,r)},error:{enumerable:!0,get:()=>me(p.errors,r)}}),[p,r]),b=Se.useCallback(P=>j.current.onChange({target:{value:Dy(P),name:r},type:Dl.CHANGE}),[r]),N=Se.useCallback(()=>j.current.onBlur({target:{value:me(i._formValues,r),name:r},type:Dl.BLUR}),[r,i._formValues]),k=Se.useCallback(P=>{const D=me(i._fields,r);D&&P&&(D._f.ref={focus:()=>P.focus&&P.focus(),select:()=>P.select&&P.select(),setCustomValidity:E=>P.setCustomValidity(E),reportValidity:()=>P.reportValidity()})},[i._fields,r]),C=Se.useMemo(()=>({name:r,value:g,...rr(s)||p.disabled?{disabled:p.disabled||s}:{},onChange:b,onBlur:N,ref:k}),[r,s,p.disabled,b,N,k,g]);return Se.useEffect(()=>{const P=i._options.shouldUnregister||c,D=y.current;D&&D!==r&&!f&&i.unregister(D),i.register(r,{...v.current.rules,...rr(v.current.disabled)?{disabled:v.current.disabled}:{}});const E=(V,A)=>{const M=me(i._fields,V);M&&M._f&&(M._f.mount=A)};if(E(r,!0),P){const V=Ye(me(i._options.defaultValues,r));We(i._defaultValues,r,V),et(me(i._formValues,r))&&We(i._formValues,r,V)}return!f&&i.register(r),y.current=r,()=>{(f?P&&!i._state.action:P)?i.unregister(r):E(r,!1)}},[r,i,f,c]),Se.useEffect(()=>{i._setDisabledField({disabled:s,name:r})},[s,r,i]),Se.useMemo(()=>({field:C,formState:p,fieldState:S}),[C,p,S])}const HC=e=>e.render(qC(e));var eh=(e,t,r,s,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:i||!0}}:{},Gt=e=>Array.isArray(e)?e:[e],h0=()=>{let e=[];return{get observers(){return e},next:i=>{for(const c of e)c.next&&c.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(c=>c!==i)}}),unsubscribe:()=>{e=[]}}};function Uy(e,t){const r={};for(const s in e)if(e.hasOwnProperty(s)){const i=e[s],c=t[s];if(i&&mt(i)&&c){const u=Uy(i,c);mt(u)&&(r[s]=u)}else e[s]&&(r[s]=c)}return r}var Mt=e=>mt(e)&&!Object.keys(e).length,th=e=>e.type==="file",Pr=e=>typeof e=="function",Ml=e=>{if(!Yf)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Vy=e=>e.type==="select-multiple",rh=e=>e.type==="radio",ZC=e=>rh(e)||Za(e),Cd=e=>Ml(e)&&e.isConnected;function KC(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=et(e)?s++:e[t[s++]];return e}function GC(e){for(const t in e)if(e.hasOwnProperty(t)&&!et(e[t]))return!1;return!0}function ct(e,t){const r=Array.isArray(t)?t:ec(t)?[t]:Xf(t),s=r.length===1?e:KC(e,r),i=r.length-1,c=r[i];return s&&delete s[c],i!==0&&(mt(s)&&Mt(s)||Array.isArray(s)&&GC(s))&&ct(e,r.slice(0,-1)),e}var JC=e=>{for(const t in e)if(Pr(e[t]))return!0;return!1};function By(e){return Array.isArray(e)||mt(e)&&!JC(e)}function gf(e,t={}){for(const r in e)By(e[r])?(t[r]=Array.isArray(e[r])?[]:{},gf(e[r],t[r])):zt(e[r])||(t[r]=!0);return t}function wo(e,t,r){r||(r=gf(t));for(const s in e)By(e[s])?et(t)||pf(r[s])?r[s]=gf(e[s],Array.isArray(e[s])?[]:{}):wo(e[s],zt(t)?{}:t[s],r[s]):r[s]=!ln(e[s],t[s]);return r}const m0={value:!1,isValid:!1},p0={value:!0,isValid:!0};var Wy=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!et(e[0].attributes.value)?et(e[0].value)||e[0].value===""?p0:{value:e[0].value,isValid:!0}:p0:m0}return m0},qy=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>et(e)?e:t?e===""?NaN:e&&+e:r&&sr(e)?new Date(e):s?s(e):e;const g0={isValid:!1,value:null};var Hy=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,g0):g0;function x0(e){const t=e.ref;return th(t)?t.files:rh(t)?Hy(e.refs).value:Vy(t)?[...t.selectedOptions].map(({value:r})=>r):Za(t)?Wy(e.refs).value:qy(et(t.value)?e.ref.value:t.value,e)}var QC=(e,t,r,s)=>{const i={};for(const c of e){const u=me(t,c);u&&We(i,c,u._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:s}},zl=e=>e instanceof RegExp,Aa=e=>et(e)?e:zl(e)?e.source:mt(e)?zl(e.value)?e.value.source:e.value:e,_o=e=>({isOnSubmit:!e||e===gr.onSubmit,isOnBlur:e===gr.onBlur,isOnChange:e===gr.onChange,isOnAll:e===gr.all,isOnTouch:e===gr.onTouched});const v0="AsyncFunction";var YC=e=>!!e&&!!e.validate&&!!(Pr(e.validate)&&e.validate.constructor.name===v0||mt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===v0)),XC=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),xf=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Co=(e,t,r,s)=>{for(const i of r||Object.keys(e)){const c=me(e,i);if(c){const{_f:u,...f}=c;if(u){if(u.refs&&u.refs[0]&&t(u.refs[0],i)&&!s)return!0;if(u.ref&&t(u.ref,u.name)&&!s)return!0;if(Co(f,t))break}else if(mt(f)&&Co(f,t))break}}};function y0(e,t,r){const s=me(e,r);if(s||ec(r))return{error:s,name:r};const i=r.split(".");for(;i.length;){const c=i.join("."),u=me(t,c),f=me(e,c);if(u&&!Array.isArray(u)&&r!==c)return{name:r};if(f&&f.type)return{name:c,error:f};if(f&&f.root&&f.root.type)return{name:`${c}.root`,error:f.root};i.pop()}return{name:r}}var eE=(e,t,r,s)=>{r(e);const{name:i,...c}=e;return Mt(c)||Object.keys(c).length>=Object.keys(t).length||Object.keys(c).find(u=>t[u]===(!s||gr.all))},tE=(e,t,r)=>!e||!t||e===t||Gt(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),rE=(e,t,r,s,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?s.isOnBlur:i.isOnBlur)?!e:(r?s.isOnChange:i.isOnChange)?e:!0,nE=(e,t)=>!tc(me(e,t)).length&&ct(e,t),Zy=(e,t,r)=>{const s=Gt(me(e,r));return We(s,"root",t[r]),We(e,r,s),e};function b0(e,t,r="validate"){if(sr(e)||Array.isArray(e)&&e.every(sr)||rr(e)&&!e)return{type:r,message:sr(e)?e:"",ref:t}}var vo=e=>mt(e)&&!zl(e)?e:{value:e,message:""},vf=async(e,t,r,s,i,c)=>{const{ref:u,refs:f,required:h,maxLength:g,minLength:p,min:v,max:y,pattern:j,validate:S,name:b,valueAsNumber:N,mount:k}=e._f,C=me(r,b);if(!k||t.has(b))return{};const P=f?f[0]:u,D=ue=>{i&&P.reportValidity&&(P.setCustomValidity(rr(ue)?"":ue||""),P.reportValidity())},E={},V=rh(u),A=Za(u),M=V||A,I=(N||th(u))&&et(u.value)&&et(C)||Ml(u)&&u.value===""||C===""||Array.isArray(C)&&!C.length,de=eh.bind(null,b,s,E),be=(ue,X,ce,te=on.maxLength,Y=on.minLength)=>{const re=ue?X:ce;E[b]={type:ue?te:Y,message:re,ref:u,...de(ue?te:Y,re)}};if(c?!Array.isArray(C)||!C.length:h&&(!M&&(I||zt(C))||rr(C)&&!C||A&&!Wy(f).isValid||V&&!Hy(f).isValid)){const{value:ue,message:X}=sr(h)?{value:!!h,message:h}:vo(h);if(ue&&(E[b]={type:on.required,message:X,ref:P,...de(on.required,X)},!s))return D(X),E}if(!I&&(!zt(v)||!zt(y))){let ue,X;const ce=vo(y),te=vo(v);if(!zt(C)&&!isNaN(C)){const Y=u.valueAsNumber||C&&+C;zt(ce.value)||(ue=Y>ce.value),zt(te.value)||(X=Y<te.value)}else{const Y=u.valueAsDate||new Date(C),re=ie=>new Date(new Date().toDateString()+" "+ie),O=u.type=="time",ae=u.type=="week";sr(ce.value)&&C&&(ue=O?re(C)>re(ce.value):ae?C>ce.value:Y>new Date(ce.value)),sr(te.value)&&C&&(X=O?re(C)<re(te.value):ae?C<te.value:Y<new Date(te.value))}if((ue||X)&&(be(!!ue,ce.message,te.message,on.max,on.min),!s))return D(E[b].message),E}if((g||p)&&!I&&(sr(C)||c&&Array.isArray(C))){const ue=vo(g),X=vo(p),ce=!zt(ue.value)&&C.length>+ue.value,te=!zt(X.value)&&C.length<+X.value;if((ce||te)&&(be(ce,ue.message,X.message),!s))return D(E[b].message),E}if(j&&!I&&sr(C)){const{value:ue,message:X}=vo(j);if(zl(ue)&&!C.match(ue)&&(E[b]={type:on.pattern,message:X,ref:u,...de(on.pattern,X)},!s))return D(X),E}if(S){if(Pr(S)){const ue=await S(C,r),X=b0(ue,P);if(X&&(E[b]={...X,...de(on.validate,X.message)},!s))return D(X.message),E}else if(mt(S)){let ue={};for(const X in S){if(!Mt(ue)&&!s)break;const ce=b0(await S[X](C,r),P,X);ce&&(ue={...ce,...de(X,ce.message)},D(ce.message),s&&(E[b]=ue))}if(!Mt(ue)&&(E[b]={ref:P,...ue},!s))return E}}return D(!0),E};const sE={mode:gr.onSubmit,reValidateMode:gr.onChange,shouldFocusError:!0};function oE(e={}){let t={...sE,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Pr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},i=mt(t.defaultValues)||mt(t.values)?Ye(t.defaultValues||t.values)||{}:{},c=t.shouldUnregister?{}:Ye(i),u={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,g=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...p};const y={array:h0(),state:h0()},j=t.criteriaMode===gr.all,S=z=>K=>{clearTimeout(g),g=setTimeout(z,K)},b=async z=>{if(!t.disabled&&(p.isValid||v.isValid||z)){const K=t.resolver?Mt((await A()).errors):await I(s,!0);K!==r.isValid&&y.state.next({isValid:K})}},N=(z,K)=>{!t.disabled&&(p.isValidating||p.validatingFields||v.isValidating||v.validatingFields)&&((z||Array.from(f.mount)).forEach(ee=>{ee&&(K?We(r.validatingFields,ee,K):ct(r.validatingFields,ee))}),y.state.next({validatingFields:r.validatingFields,isValidating:!Mt(r.validatingFields)}))},k=(z,K=[],ee,ve,ge=!0,he=!0)=>{if(ve&&ee&&!t.disabled){if(u.action=!0,he&&Array.isArray(me(s,z))){const Pe=ee(me(s,z),ve.argA,ve.argB);ge&&We(s,z,Pe)}if(he&&Array.isArray(me(r.errors,z))){const Pe=ee(me(r.errors,z),ve.argA,ve.argB);ge&&We(r.errors,z,Pe),nE(r.errors,z)}if((p.touchedFields||v.touchedFields)&&he&&Array.isArray(me(r.touchedFields,z))){const Pe=ee(me(r.touchedFields,z),ve.argA,ve.argB);ge&&We(r.touchedFields,z,Pe)}(p.dirtyFields||v.dirtyFields)&&(r.dirtyFields=wo(i,c)),y.state.next({name:z,isDirty:be(z,K),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else We(c,z,K)},C=(z,K)=>{We(r.errors,z,K),y.state.next({errors:r.errors})},P=z=>{r.errors=z,y.state.next({errors:r.errors,isValid:!1})},D=(z,K,ee,ve)=>{const ge=me(s,z);if(ge){const he=me(c,z,et(ee)?me(i,z):ee);et(he)||ve&&ve.defaultChecked||K?We(c,z,K?he:x0(ge._f)):ce(z,he),u.mount&&b()}},E=(z,K,ee,ve,ge)=>{let he=!1,Pe=!1;const Fe={name:z};if(!t.disabled){if(!ee||ve){(p.isDirty||v.isDirty)&&(Pe=r.isDirty,r.isDirty=Fe.isDirty=be(),he=Pe!==Fe.isDirty);const Be=ln(me(i,z),K);Pe=!!me(r.dirtyFields,z),Be?ct(r.dirtyFields,z):We(r.dirtyFields,z,!0),Fe.dirtyFields=r.dirtyFields,he=he||(p.dirtyFields||v.dirtyFields)&&Pe!==!Be}if(ee){const Be=me(r.touchedFields,z);Be||(We(r.touchedFields,z,ee),Fe.touchedFields=r.touchedFields,he=he||(p.touchedFields||v.touchedFields)&&Be!==ee)}he&&ge&&y.state.next(Fe)}return he?Fe:{}},V=(z,K,ee,ve)=>{const ge=me(r.errors,z),he=(p.isValid||v.isValid)&&rr(K)&&r.isValid!==K;if(t.delayError&&ee?(h=S(()=>C(z,ee)),h(t.delayError)):(clearTimeout(g),h=null,ee?We(r.errors,z,ee):ct(r.errors,z)),(ee?!ln(ge,ee):ge)||!Mt(ve)||he){const Pe={...ve,...he&&rr(K)?{isValid:K}:{},errors:r.errors,name:z};r={...r,...Pe},y.state.next(Pe)}},A=async z=>{N(z,!0);const K=await t.resolver(c,t.context,QC(z||f.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return N(z),K},M=async z=>{const{errors:K}=await A(z);if(z)for(const ee of z){const ve=me(K,ee);ve?We(r.errors,ee,ve):ct(r.errors,ee)}else r.errors=K;return K},I=async(z,K,ee={valid:!0})=>{for(const ve in z){const ge=z[ve];if(ge){const{_f:he,...Pe}=ge;if(he){const Fe=f.array.has(he.name),Be=ge._f&&YC(ge._f);Be&&p.validatingFields&&N([he.name],!0);const It=await vf(ge,f.disabled,c,j,t.shouldUseNativeValidation&&!K,Fe);if(Be&&p.validatingFields&&N([he.name]),It[he.name]&&(ee.valid=!1,K))break;!K&&(me(It,he.name)?Fe?Zy(r.errors,It,he.name):We(r.errors,he.name,It[he.name]):ct(r.errors,he.name))}!Mt(Pe)&&await I(Pe,K,ee)}}return ee.valid},de=()=>{for(const z of f.unMount){const K=me(s,z);K&&(K._f.refs?K._f.refs.every(ee=>!Cd(ee)):!Cd(K._f.ref))&&Z(z)}f.unMount=new Set},be=(z,K)=>!t.disabled&&(z&&K&&We(c,z,K),!ln(ie(),i)),ue=(z,K,ee)=>Ly(z,f,{...u.mount?c:et(K)?i:sr(z)?{[z]:K}:K},ee,K),X=z=>tc(me(u.mount?c:i,z,t.shouldUnregister?me(i,z,[]):[])),ce=(z,K,ee={})=>{const ve=me(s,z);let ge=K;if(ve){const he=ve._f;he&&(!he.disabled&&We(c,z,qy(K,he)),ge=Ml(he.ref)&&zt(K)?"":K,Vy(he.ref)?[...he.ref.options].forEach(Pe=>Pe.selected=ge.includes(Pe.value)):he.refs?Za(he.ref)?he.refs.forEach(Pe=>{(!Pe.defaultChecked||!Pe.disabled)&&(Array.isArray(ge)?Pe.checked=!!ge.find(Fe=>Fe===Pe.value):Pe.checked=ge===Pe.value||!!ge)}):he.refs.forEach(Pe=>Pe.checked=Pe.value===ge):th(he.ref)?he.ref.value="":(he.ref.value=ge,he.ref.type||y.state.next({name:z,values:Ye(c)})))}(ee.shouldDirty||ee.shouldTouch)&&E(z,ge,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&ae(z)},te=(z,K,ee)=>{for(const ve in K){if(!K.hasOwnProperty(ve))return;const ge=K[ve],he=z+"."+ve,Pe=me(s,he);(f.array.has(z)||mt(ge)||Pe&&!Pe._f)&&!ms(ge)?te(he,ge,ee):ce(he,ge,ee)}},Y=(z,K,ee={})=>{const ve=me(s,z),ge=f.array.has(z),he=Ye(K);We(c,z,he),ge?(y.array.next({name:z,values:Ye(c)}),(p.isDirty||p.dirtyFields||v.isDirty||v.dirtyFields)&&ee.shouldDirty&&y.state.next({name:z,dirtyFields:wo(i,c),isDirty:be(z,he)})):ve&&!ve._f&&!zt(he)?te(z,he,ee):ce(z,he,ee),xf(z,f)&&y.state.next({...r,name:z}),y.state.next({name:u.mount?z:void 0,values:Ye(c)})},re=async z=>{u.mount=!0;const K=z.target;let ee=K.name,ve=!0;const ge=me(s,ee),he=Be=>{ve=Number.isNaN(Be)||ms(Be)&&isNaN(Be.getTime())||ln(Be,me(c,ee,Be))},Pe=_o(t.mode),Fe=_o(t.reValidateMode);if(ge){let Be,It;const Rr=K.type?x0(ge._f):Dy(z),Lt=z.type===Dl.BLUR||z.type===Dl.FOCUS_OUT,fc=!XC(ge._f)&&!t.resolver&&!me(r.errors,ee)&&!ge._f.deps||rE(Lt,me(r.touchedFields,ee),r.isSubmitted,Fe,Pe),Ps=xf(ee,f,Lt);We(c,ee,Rr),Lt?(!K||!K.readOnly)&&(ge._f.onBlur&&ge._f.onBlur(z),h&&h(0)):ge._f.onChange&&ge._f.onChange(z);const As=E(ee,Rr,Lt),hc=!Mt(As)||Ps;if(!Lt&&y.state.next({name:ee,type:z.type,values:Ye(c)}),fc)return(p.isValid||v.isValid)&&(t.mode==="onBlur"?Lt&&b():Lt||b()),hc&&y.state.next({name:ee,...Ps?{}:As});if(!Lt&&Ps&&y.state.next({...r}),t.resolver){const{errors:Ts}=await A([ee]);if(he(Rr),ve){const Bo=y0(r.errors,s,ee),Os=y0(Ts,s,Bo.name||ee);Be=Os.error,ee=Os.name,It=Mt(Ts)}}else N([ee],!0),Be=(await vf(ge,f.disabled,c,j,t.shouldUseNativeValidation))[ee],N([ee]),he(Rr),ve&&(Be?It=!1:(p.isValid||v.isValid)&&(It=await I(s,!0)));ve&&(ge._f.deps&&(!Array.isArray(ge._f.deps)||ge._f.deps.length>0)&&ae(ge._f.deps),V(ee,It,Be,As))}},O=(z,K)=>{if(me(r.errors,K)&&z.focus)return z.focus(),1},ae=async(z,K={})=>{let ee,ve;const ge=Gt(z);if(t.resolver){const he=await M(et(z)?z:ge);ee=Mt(he),ve=z?!ge.some(Pe=>me(he,Pe)):ee}else z?(ve=(await Promise.all(ge.map(async he=>{const Pe=me(s,he);return await I(Pe&&Pe._f?{[he]:Pe}:Pe)}))).every(Boolean),!(!ve&&!r.isValid)&&b()):ve=ee=await I(s);return y.state.next({...!sr(z)||(p.isValid||v.isValid)&&ee!==r.isValid?{}:{name:z},...t.resolver||!z?{isValid:ee}:{},errors:r.errors}),K.shouldFocus&&!ve&&Co(s,O,z?ge:f.mount),ve},ie=(z,K)=>{let ee={...u.mount?c:i};return K&&(ee=Uy(K.dirtyFields?r.dirtyFields:r.touchedFields,ee)),et(z)?ee:sr(z)?me(ee,z):z.map(ve=>me(ee,ve))},$=(z,K)=>({invalid:!!me((K||r).errors,z),isDirty:!!me((K||r).dirtyFields,z),error:me((K||r).errors,z),isValidating:!!me(r.validatingFields,z),isTouched:!!me((K||r).touchedFields,z)}),q=z=>{z&&Gt(z).forEach(K=>ct(r.errors,K)),y.state.next({errors:z?r.errors:{}})},R=(z,K,ee)=>{const ve=(me(s,z,{_f:{}})._f||{}).ref,ge=me(r.errors,z)||{},{ref:he,message:Pe,type:Fe,...Be}=ge;We(r.errors,z,{...Be,...K,ref:ve}),y.state.next({name:z,errors:r.errors,isValid:!1}),ee&&ee.shouldFocus&&ve&&ve.focus&&ve.focus()},B=(z,K)=>Pr(z)?y.state.subscribe({next:ee=>"values"in ee&&z(ue(void 0,K),ee)}):ue(z,K,!0),F=z=>y.state.subscribe({next:K=>{tE(z.name,K.name,z.exact)&&eE(K,z.formState||p,Gr,z.reRenderRoot)&&z.callback({values:{...c},...r,...K,defaultValues:i})}}).unsubscribe,W=z=>(u.mount=!0,v={...v,...z.formState},F({...z,formState:v})),Z=(z,K={})=>{for(const ee of z?Gt(z):f.mount)f.mount.delete(ee),f.array.delete(ee),K.keepValue||(ct(s,ee),ct(c,ee)),!K.keepError&&ct(r.errors,ee),!K.keepDirty&&ct(r.dirtyFields,ee),!K.keepTouched&&ct(r.touchedFields,ee),!K.keepIsValidating&&ct(r.validatingFields,ee),!t.shouldUnregister&&!K.keepDefaultValue&&ct(i,ee);y.state.next({values:Ye(c)}),y.state.next({...r,...K.keepDirty?{isDirty:be()}:{}}),!K.keepIsValid&&b()},Q=({disabled:z,name:K})=>{(rr(z)&&u.mount||z||f.disabled.has(K))&&(z?f.disabled.add(K):f.disabled.delete(K))},xe=(z,K={})=>{let ee=me(s,z);const ve=rr(K.disabled)||rr(t.disabled);return We(s,z,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:z}},name:z,mount:!0,...K}}),f.mount.add(z),ee?Q({disabled:rr(K.disabled)?K.disabled:t.disabled,name:z}):D(z,!0,K.value),{...ve?{disabled:K.disabled||t.disabled}:{},...t.progressive?{required:!!K.required,min:Aa(K.min),max:Aa(K.max),minLength:Aa(K.minLength),maxLength:Aa(K.maxLength),pattern:Aa(K.pattern)}:{},name:z,onChange:re,onBlur:re,ref:ge=>{if(ge){xe(z,K),ee=me(s,z);const he=et(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,Pe=ZC(he),Fe=ee._f.refs||[];if(Pe?Fe.find(Be=>Be===he):he===ee._f.ref)return;We(s,z,{_f:{...ee._f,...Pe?{refs:[...Fe.filter(Cd),he,...Array.isArray(me(i,z))?[{}]:[]],ref:{type:he.type,name:z}}:{ref:he}}}),D(z,!1,void 0,he)}else ee=me(s,z,{}),ee._f&&(ee._f.mount=!1),(t.shouldUnregister||K.shouldUnregister)&&!(My(f.array,z)&&u.action)&&f.unMount.add(z)}}},pe=()=>t.shouldFocusError&&Co(s,O,f.mount),Ie=z=>{rr(z)&&(y.state.next({disabled:z}),Co(s,(K,ee)=>{const ve=me(s,ee);ve&&(K.disabled=ve._f.disabled||z,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(ge=>{ge.disabled=ve._f.disabled||z}))},0,!1))},Ve=(z,K)=>async ee=>{let ve;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let ge=Ye(c);if(y.state.next({isSubmitting:!0}),t.resolver){const{errors:he,values:Pe}=await A();r.errors=he,ge=Ye(Pe)}else await I(s);if(f.disabled.size)for(const he of f.disabled)ct(ge,he);if(ct(r.errors,"root"),Mt(r.errors)){y.state.next({errors:{}});try{await z(ge,ee)}catch(he){ve=he}}else K&&await K({...r.errors},ee),pe(),setTimeout(pe);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mt(r.errors)&&!ve,submitCount:r.submitCount+1,errors:r.errors}),ve)throw ve},gt=(z,K={})=>{me(s,z)&&(et(K.defaultValue)?Y(z,Ye(me(i,z))):(Y(z,K.defaultValue),We(i,z,Ye(K.defaultValue))),K.keepTouched||ct(r.touchedFields,z),K.keepDirty||(ct(r.dirtyFields,z),r.isDirty=K.defaultValue?be(z,Ye(me(i,z))):be()),K.keepError||(ct(r.errors,z),p.isValid&&b()),y.state.next({...r}))},Ft=(z,K={})=>{const ee=z?Ye(z):i,ve=Ye(ee),ge=Mt(z),he=ge?i:ve;if(K.keepDefaultValues||(i=ee),!K.keepValues){if(K.keepDirtyValues){const Pe=new Set([...f.mount,...Object.keys(wo(i,c))]);for(const Fe of Array.from(Pe))me(r.dirtyFields,Fe)?We(he,Fe,me(c,Fe)):Y(Fe,me(he,Fe))}else{if(Yf&&et(z))for(const Pe of f.mount){const Fe=me(s,Pe);if(Fe&&Fe._f){const Be=Array.isArray(Fe._f.refs)?Fe._f.refs[0]:Fe._f.ref;if(Ml(Be)){const It=Be.closest("form");if(It){It.reset();break}}}}if(K.keepFieldsRef)for(const Pe of f.mount)Y(Pe,me(he,Pe));else s={}}c=t.shouldUnregister?K.keepDefaultValues?Ye(i):{}:Ye(he),y.array.next({values:{...he}}),y.state.next({values:{...he}})}f={mount:K.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!p.isValid||!!K.keepIsValid||!!K.keepDirtyValues,u.watch=!!t.shouldUnregister,y.state.next({submitCount:K.keepSubmitCount?r.submitCount:0,isDirty:ge?!1:K.keepDirty?r.isDirty:!!(K.keepDefaultValues&&!ln(z,i)),isSubmitted:K.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ge?{}:K.keepDirtyValues?K.keepDefaultValues&&c?wo(i,c):r.dirtyFields:K.keepDefaultValues&&z?wo(i,z):K.keepDirty?r.dirtyFields:{},touchedFields:K.keepTouched?r.touchedFields:{},errors:K.keepErrors?r.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Kr=(z,K)=>Ft(Pr(z)?z(c):z,K),fn=(z,K={})=>{const ee=me(s,z),ve=ee&&ee._f;if(ve){const ge=ve.refs?ve.refs[0]:ve.ref;ge.focus&&(ge.focus(),K.shouldSelect&&Pr(ge.select)&&ge.select())}},Gr=z=>{r={...r,...z}},Es={control:{register:xe,unregister:Z,getFieldState:$,handleSubmit:Ve,setError:R,_subscribe:F,_runSchema:A,_focusError:pe,_getWatch:ue,_getDirty:be,_setValid:b,_setFieldArray:k,_setDisabledField:Q,_setErrors:P,_getFieldArray:X,_reset:Ft,_resetDefaultValues:()=>Pr(t.defaultValues)&&t.defaultValues().then(z=>{Kr(z,t.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:de,_disableForm:Ie,_subjects:y,_proxyFormState:p,get _fields(){return s},get _formValues(){return c},get _state(){return u},set _state(z){u=z},get _defaultValues(){return i},get _names(){return f},set _names(z){f=z},get _formState(){return r},get _options(){return t},set _options(z){t={...t,...z}}},subscribe:W,trigger:ae,register:xe,handleSubmit:Ve,watch:B,setValue:Y,getValues:ie,reset:Kr,resetField:gt,clearErrors:q,unregister:Z,setError:R,setFocus:fn,getFieldState:$};return{...Es,formControl:Es}}var $n=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},Ed=(e,t,r={})=>r.shouldFocus||et(r.shouldFocus)?r.focusName||`${e}.${et(r.focusIndex)?t:r.focusIndex}.`:"",Pd=(e,t)=>[...e,...Gt(t)],Ad=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Td(e,t,r){return[...e.slice(0,t),...Gt(r),...e.slice(t)]}var Od=(e,t,r)=>Array.isArray(e)?(et(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],Rd=(e,t)=>[...Gt(t),...Gt(e)];function aE(e,t){let r=0;const s=[...e];for(const i of t)s.splice(i-r,1),r++;return tc(s).length?s:[]}var Id=(e,t)=>et(t)?[]:aE(e,Gt(t).sort((r,s)=>r-s)),$d=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},w0=(e,t,r)=>(e[t]=r,e);function iE(e){const t=rc(),{control:r=t.control,name:s,keyName:i="id",shouldUnregister:c,rules:u}=e,[f,h]=Se.useState(r._getFieldArray(s)),g=Se.useRef(r._getFieldArray(s).map($n)),p=Se.useRef(f),v=Se.useRef(!1);p.current=f,r._names.array.add(s),Se.useMemo(()=>u&&r.register(s,u),[r,u,s]),nc(()=>r._subjects.array.subscribe({next:({values:E,name:V})=>{if(V===s||!V){const A=me(E,s);Array.isArray(A)&&(h(A),g.current=A.map($n))}}}).unsubscribe,[r,s]);const y=Se.useCallback(E=>{v.current=!0,r._setFieldArray(s,E)},[r,s]),j=(E,V)=>{const A=Gt(Ye(E)),M=Pd(r._getFieldArray(s),A);r._names.focus=Ed(s,M.length-1,V),g.current=Pd(g.current,A.map($n)),y(M),h(M),r._setFieldArray(s,M,Pd,{argA:Ad(E)})},S=(E,V)=>{const A=Gt(Ye(E)),M=Rd(r._getFieldArray(s),A);r._names.focus=Ed(s,0,V),g.current=Rd(g.current,A.map($n)),y(M),h(M),r._setFieldArray(s,M,Rd,{argA:Ad(E)})},b=E=>{const V=Id(r._getFieldArray(s),E);g.current=Id(g.current,E),y(V),h(V),!Array.isArray(me(r._fields,s))&&We(r._fields,s,void 0),r._setFieldArray(s,V,Id,{argA:E})},N=(E,V,A)=>{const M=Gt(Ye(V)),I=Td(r._getFieldArray(s),E,M);r._names.focus=Ed(s,E,A),g.current=Td(g.current,E,M.map($n)),y(I),h(I),r._setFieldArray(s,I,Td,{argA:E,argB:Ad(V)})},k=(E,V)=>{const A=r._getFieldArray(s);$d(A,E,V),$d(g.current,E,V),y(A),h(A),r._setFieldArray(s,A,$d,{argA:E,argB:V},!1)},C=(E,V)=>{const A=r._getFieldArray(s);Od(A,E,V),Od(g.current,E,V),y(A),h(A),r._setFieldArray(s,A,Od,{argA:E,argB:V},!1)},P=(E,V)=>{const A=Ye(V),M=w0(r._getFieldArray(s),E,A);g.current=[...M].map((I,de)=>!I||de===E?$n():g.current[de]),y(M),h([...M]),r._setFieldArray(s,M,w0,{argA:E,argB:A},!0,!1)},D=E=>{const V=Gt(Ye(E));g.current=V.map($n),y([...V]),h([...V]),r._setFieldArray(s,[...V],A=>A,{},!0,!1)};return Se.useEffect(()=>{if(r._state.action=!1,xf(s,r._names)&&r._subjects.state.next({...r._formState}),v.current&&(!_o(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!_o(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([s]).then(E=>{const V=me(E.errors,s),A=me(r._formState.errors,s);(A?!V&&A.type||V&&(A.type!==V.type||A.message!==V.message):V&&V.type)&&(V?We(r._formState.errors,s,V):ct(r._formState.errors,s),r._subjects.state.next({errors:r._formState.errors}))});else{const E=me(r._fields,s);E&&E._f&&!(_o(r._options.reValidateMode).isOnSubmit&&_o(r._options.mode).isOnSubmit)&&vf(E,r._names.disabled,r._formValues,r._options.criteriaMode===gr.all,r._options.shouldUseNativeValidation,!0).then(V=>!Mt(V)&&r._subjects.state.next({errors:Zy(r._formState.errors,V,s)}))}r._subjects.state.next({name:s,values:Ye(r._formValues)}),r._names.focus&&Co(r._fields,(E,V)=>{if(r._names.focus&&V.startsWith(r._names.focus)&&E.focus)return E.focus(),1}),r._names.focus="",r._setValid(),v.current=!1},[f,s,r]),Se.useEffect(()=>(!me(r._formValues,s)&&r._setFieldArray(s),()=>{const E=(V,A)=>{const M=me(r._fields,V);M&&M._f&&(M._f.mount=A)};r._options.shouldUnregister||c?r.unregister(s):E(s,!1)}),[s,r,i,c]),{swap:Se.useCallback(k,[y,s,r]),move:Se.useCallback(C,[y,s,r]),prepend:Se.useCallback(S,[y,s,r]),append:Se.useCallback(j,[y,s,r]),remove:Se.useCallback(b,[y,s,r]),insert:Se.useCallback(N,[y,s,r]),update:Se.useCallback(P,[y,s,r]),replace:Se.useCallback(D,[y,s,r]),fields:Se.useMemo(()=>f.map((E,V)=>({...E,[i]:g.current[V]||$n()})),[f,i])}}function lE(e={}){const t=Se.useRef(void 0),r=Se.useRef(void 0),[s,i]=Se.useState({isDirty:!1,isValidating:!1,isLoading:Pr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Pr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!Pr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...f}=oE(e);t.current={...f,formState:s}}const c=t.current.control;return c._options=e,nc(()=>{const u=c._subscribe({formState:c._proxyFormState,callback:()=>i({...c._formState}),reRenderRoot:!0});return i(f=>({...f,isReady:!0})),c._formState.isReady=!0,u},[c]),Se.useEffect(()=>c._disableForm(e.disabled),[c,e.disabled]),Se.useEffect(()=>{e.mode&&(c._options.mode=e.mode),e.reValidateMode&&(c._options.reValidateMode=e.reValidateMode)},[c,e.mode,e.reValidateMode]),Se.useEffect(()=>{e.errors&&(c._setErrors(e.errors),c._focusError())},[c,e.errors]),Se.useEffect(()=>{e.shouldUnregister&&c._subjects.state.next({values:c._getWatch()})},[c,e.shouldUnregister]),Se.useEffect(()=>{if(c._proxyFormState.isDirty){const u=c._getDirty();u!==s.isDirty&&c._subjects.state.next({isDirty:u})}},[c,s.isDirty]),Se.useEffect(()=>{e.values&&!ln(e.values,r.current)?(c._reset(e.values,{keepFieldsRef:!0,...c._options.resetOptions}),r.current=e.values,i(u=>({...u}))):c._resetDefaultValues()},[c,e.values]),Se.useEffect(()=>{c._state.mount||(c._setValid(),c._state.mount=!0),c._state.watch&&(c._state.watch=!1,c._subjects.state.next({...c._formState})),c._removeUnmounted()}),t.current.formState=Fy(s,c),t.current}function ne(e,t,r){function s(f,h){var g;Object.defineProperty(f,"_zod",{value:f._zod??{},enumerable:!1}),(g=f._zod).traits??(g.traits=new Set),f._zod.traits.add(e),t(f,h);for(const p in u.prototype)p in f||Object.defineProperty(f,p,{value:u.prototype[p].bind(f)});f._zod.constr=u,f._zod.def=h}const i=r?.Parent??Object;class c extends i{}Object.defineProperty(c,"name",{value:e});function u(f){var h;const g=r?.Parent?new c:this;s(g,f),(h=g._zod).deferred??(h.deferred=[]);for(const p of g._zod.deferred)p();return g}return Object.defineProperty(u,"init",{value:s}),Object.defineProperty(u,Symbol.hasInstance,{value:f=>r?.Parent&&f instanceof r.Parent?!0:f?._zod?.traits?.has(e)}),Object.defineProperty(u,"name",{value:e}),u}class Eo extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Ky extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Gy={};function js(e){return Gy}function cE(e){const t=Object.values(e).filter(s=>typeof s=="number");return Object.entries(e).filter(([s,i])=>t.indexOf(+s)===-1).map(([s,i])=>i)}function yf(e,t){return typeof t=="bigint"?t.toString():t}function nh(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function sh(e){return e==null}function oh(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function uE(e,t){const r=(e.toString().split(".")[1]||"").length,s=t.toString();let i=(s.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(s)){const h=s.match(/\d?e-(\d?)/);h?.[1]&&(i=Number.parseInt(h[1]))}const c=r>i?r:i,u=Number.parseInt(e.toFixed(c).replace(".","")),f=Number.parseInt(t.toFixed(c).replace(".",""));return u%f/10**c}const _0=Symbol("evaluating");function Ge(e,t,r){let s;Object.defineProperty(e,t,{get(){if(s!==_0)return s===void 0&&(s=_0,s=r()),s},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function Ns(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Cs(...e){const t={};for(const r of e){const s=Object.getOwnPropertyDescriptors(r);Object.assign(t,s)}return Object.defineProperties({},t)}function j0(e){return JSON.stringify(e)}const Jy="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Fl(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const dE=nh(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Ua(e){if(Fl(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(Fl(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Qy(e){return Ua(e)?{...e}:Array.isArray(e)?[...e]:e}const fE=new Set(["string","number","symbol"]);function sc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Gn(e,t,r){const s=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(s._zod.parent=e),s}function Ae(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function hE(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const mE={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function pE(e,t){const r=e._zod.def,s=Cs(e._zod.def,{get shape(){const i={};for(const c in t){if(!(c in r.shape))throw new Error(`Unrecognized key: "${c}"`);t[c]&&(i[c]=r.shape[c])}return Ns(this,"shape",i),i},checks:[]});return Gn(e,s)}function gE(e,t){const r=e._zod.def,s=Cs(e._zod.def,{get shape(){const i={...e._zod.def.shape};for(const c in t){if(!(c in r.shape))throw new Error(`Unrecognized key: "${c}"`);t[c]&&delete i[c]}return Ns(this,"shape",i),i},checks:[]});return Gn(e,s)}function xE(e,t){if(!Ua(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Cs(e._zod.def,{get shape(){const c={...e._zod.def.shape,...t};return Ns(this,"shape",c),c},checks:[]});return Gn(e,i)}function vE(e,t){if(!Ua(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const s={...e._zod.def.shape,...t};return Ns(this,"shape",s),s},checks:e._zod.def.checks};return Gn(e,r)}function yE(e,t){const r=Cs(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t._zod.def.shape};return Ns(this,"shape",s),s},get catchall(){return t._zod.def.catchall},checks:[]});return Gn(e,r)}function bE(e,t,r){const s=Cs(t._zod.def,{get shape(){const i=t._zod.def.shape,c={...i};if(r)for(const u in r){if(!(u in i))throw new Error(`Unrecognized key: "${u}"`);r[u]&&(c[u]=e?new e({type:"optional",innerType:i[u]}):i[u])}else for(const u in i)c[u]=e?new e({type:"optional",innerType:i[u]}):i[u];return Ns(this,"shape",c),c},checks:[]});return Gn(t,s)}function wE(e,t,r){const s=Cs(t._zod.def,{get shape(){const i=t._zod.def.shape,c={...i};if(r)for(const u in r){if(!(u in c))throw new Error(`Unrecognized key: "${u}"`);r[u]&&(c[u]=new e({type:"nonoptional",innerType:i[u]}))}else for(const u in i)c[u]=new e({type:"nonoptional",innerType:i[u]});return Ns(this,"shape",c),c},checks:[]});return Gn(t,s)}function jo(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function Yy(e,t){return t.map(r=>{var s;return(s=r).path??(s.path=[]),r.path.unshift(e),r})}function pl(e){return typeof e=="string"?e:e?.message}function ks(e,t,r){const s={...e,path:e.path??[]};if(!e.message){const i=pl(e.inst?._zod.def?.error?.(e))??pl(t?.error?.(e))??pl(r.customError?.(e))??pl(r.localeError?.(e))??"Invalid input";s.message=i}return delete s.inst,delete s.continue,t?.reportInput||delete s.input,s}function ah(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Va(...e){const[t,r,s]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:s}:{...t}}const Xy=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,yf,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},ih=ne("$ZodError",Xy),oc=ne("$ZodError",Xy,{Parent:Error});function _E(e,t=r=>r.message){const r={},s=[];for(const i of e.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):s.push(t(i));return{formErrors:s,fieldErrors:r}}function jE(e,t){const r=t||function(c){return c.message},s={_errors:[]},i=c=>{for(const u of c.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(f=>i({issues:f}));else if(u.code==="invalid_key")i({issues:u.issues});else if(u.code==="invalid_element")i({issues:u.issues});else if(u.path.length===0)s._errors.push(r(u));else{let f=s,h=0;for(;h<u.path.length;){const g=u.path[h];h===u.path.length-1?(f[g]=f[g]||{_errors:[]},f[g]._errors.push(r(u))):f[g]=f[g]||{_errors:[]},f=f[g],h++}}};return i(e),s}const ac=e=>(t,r,s,i)=>{const c=s?Object.assign(s,{async:!1}):{async:!1},u=t._zod.run({value:r,issues:[]},c);if(u instanceof Promise)throw new Eo;if(u.issues.length){const f=new(i?.Err??e)(u.issues.map(h=>ks(h,c,js())));throw Jy(f,i?.callee),f}return u.value},kE=ac(oc),ic=e=>async(t,r,s,i)=>{const c=s?Object.assign(s,{async:!0}):{async:!0};let u=t._zod.run({value:r,issues:[]},c);if(u instanceof Promise&&(u=await u),u.issues.length){const f=new(i?.Err??e)(u.issues.map(h=>ks(h,c,js())));throw Jy(f,i?.callee),f}return u.value},SE=ic(oc),lc=e=>(t,r,s)=>{const i=s?{...s,async:!1}:{async:!1},c=t._zod.run({value:r,issues:[]},i);if(c instanceof Promise)throw new Eo;return c.issues.length?{success:!1,error:new(e??ih)(c.issues.map(u=>ks(u,i,js())))}:{success:!0,data:c.value}},NE=lc(oc),cc=e=>async(t,r,s)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let c=t._zod.run({value:r,issues:[]},i);return c instanceof Promise&&(c=await c),c.issues.length?{success:!1,error:new e(c.issues.map(u=>ks(u,i,js())))}:{success:!0,data:c.value}},CE=cc(oc),EE=e=>(t,r,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return ac(e)(t,r,i)},PE=e=>(t,r,s)=>ac(e)(t,r,s),AE=e=>async(t,r,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return ic(e)(t,r,i)},TE=e=>async(t,r,s)=>ic(e)(t,r,s),OE=e=>(t,r,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return lc(e)(t,r,i)},RE=e=>(t,r,s)=>lc(e)(t,r,s),IE=e=>async(t,r,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return cc(e)(t,r,i)},$E=e=>async(t,r,s)=>cc(e)(t,r,s),DE=/^[cC][^\s-]{8,}$/,ME=/^[0-9a-z]+$/,zE=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,FE=/^[0-9a-vA-V]{20}$/,LE=/^[A-Za-z0-9]{27}$/,UE=/^[a-zA-Z0-9_-]{21}$/,VE=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,BE=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,k0=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,WE=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,qE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function HE(){return new RegExp(qE,"u")}const ZE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,KE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,GE=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,JE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,QE=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,eb=/^[A-Za-z0-9_-]*$/,YE=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,XE=/^\+(?:[0-9]){6,14}[0-9]$/,tb="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",eP=new RegExp(`^${tb}$`);function rb(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function tP(e){return new RegExp(`^${rb(e)}$`)}function rP(e){const t=rb({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${t}(?:${r.join("|")})`;return new RegExp(`^${tb}T(?:${s})$`)}const nP=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},sP=/^-?\d+$/,oP=/^-?\d+(?:\.\d+)?/,aP=/^[^A-Z]*$/,iP=/^[^a-z]*$/,Qt=ne("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),nb={number:"number",bigint:"bigint",object:"date"},sb=ne("$ZodCheckLessThan",(e,t)=>{Qt.init(e,t);const r=nb[typeof t.value];e._zod.onattach.push(s=>{const i=s._zod.bag,c=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<c&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value<=t.value:s.value<t.value)||s.issues.push({origin:r,code:"too_big",maximum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),ob=ne("$ZodCheckGreaterThan",(e,t)=>{Qt.init(e,t);const r=nb[typeof t.value];e._zod.onattach.push(s=>{const i=s._zod.bag,c=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>c&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value>=t.value:s.value>t.value)||s.issues.push({origin:r,code:"too_small",minimum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),lP=ne("$ZodCheckMultipleOf",(e,t)=>{Qt.init(e,t),e._zod.onattach.push(r=>{var s;(s=r._zod.bag).multipleOf??(s.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):uE(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),cP=ne("$ZodCheckNumberFormat",(e,t)=>{Qt.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),s=r?"int":"number",[i,c]=mE[t.format];e._zod.onattach.push(u=>{const f=u._zod.bag;f.format=t.format,f.minimum=i,f.maximum=c,r&&(f.pattern=sP)}),e._zod.check=u=>{const f=u.value;if(r){if(!Number.isInteger(f)){u.issues.push({expected:s,format:t.format,code:"invalid_type",continue:!1,input:f,inst:e});return}if(!Number.isSafeInteger(f)){f>0?u.issues.push({input:f,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort}):u.issues.push({input:f,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort});return}}f<i&&u.issues.push({origin:"number",input:f,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),f>c&&u.issues.push({origin:"number",input:f,code:"too_big",maximum:c,inst:e})}}),uP=ne("$ZodCheckMaxLength",(e,t)=>{var r;Qt.init(e,t),(r=e._zod.def).when??(r.when=s=>{const i=s.value;return!sh(i)&&i.length!==void 0}),e._zod.onattach.push(s=>{const i=s._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(s._zod.bag.maximum=t.maximum)}),e._zod.check=s=>{const i=s.value;if(i.length<=t.maximum)return;const u=ah(i);s.issues.push({origin:u,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),dP=ne("$ZodCheckMinLength",(e,t)=>{var r;Qt.init(e,t),(r=e._zod.def).when??(r.when=s=>{const i=s.value;return!sh(i)&&i.length!==void 0}),e._zod.onattach.push(s=>{const i=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(s._zod.bag.minimum=t.minimum)}),e._zod.check=s=>{const i=s.value;if(i.length>=t.minimum)return;const u=ah(i);s.issues.push({origin:u,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),fP=ne("$ZodCheckLengthEquals",(e,t)=>{var r;Qt.init(e,t),(r=e._zod.def).when??(r.when=s=>{const i=s.value;return!sh(i)&&i.length!==void 0}),e._zod.onattach.push(s=>{const i=s._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=s=>{const i=s.value,c=i.length;if(c===t.length)return;const u=ah(i),f=c>t.length;s.issues.push({origin:u,...f?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:s.value,inst:e,continue:!t.abort})}}),uc=ne("$ZodCheckStringFormat",(e,t)=>{var r,s;Qt.init(e,t),e._zod.onattach.push(i=>{const c=i._zod.bag;c.format=t.format,t.pattern&&(c.patterns??(c.patterns=new Set),c.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(s=e._zod).check??(s.check=()=>{})}),hP=ne("$ZodCheckRegex",(e,t)=>{uc.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),mP=ne("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=aP),uc.init(e,t)}),pP=ne("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=iP),uc.init(e,t)}),gP=ne("$ZodCheckIncludes",(e,t)=>{Qt.init(e,t);const r=sc(t.includes),s=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=s,e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),xP=ne("$ZodCheckStartsWith",(e,t)=>{Qt.init(e,t);const r=new RegExp(`^${sc(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=s=>{s.value.startsWith(t.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:s.value,inst:e,continue:!t.abort})}}),vP=ne("$ZodCheckEndsWith",(e,t)=>{Qt.init(e,t);const r=new RegExp(`.*${sc(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=s=>{s.value.endsWith(t.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:s.value,inst:e,continue:!t.abort})}}),yP=ne("$ZodCheckOverwrite",(e,t)=>{Qt.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class bP{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const s=t.split(`
`).filter(u=>u),i=Math.min(...s.map(u=>u.length-u.trimStart().length)),c=s.map(u=>u.slice(i)).map(u=>" ".repeat(this.indent*2)+u);for(const u of c)this.content.push(u)}compile(){const t=Function,r=this?.args,i=[...(this?.content??[""]).map(c=>`  ${c}`)];return new t(...r,i.join(`
`))}}const wP={major:4,minor:1,patch:11},pt=ne("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=wP;const s=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&s.unshift(e);for(const i of s)for(const c of i._zod.onattach)c(e);if(s.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const i=(u,f,h)=>{let g=jo(u),p;for(const v of f){if(v._zod.def.when){if(!v._zod.def.when(u))continue}else if(g)continue;const y=u.issues.length,j=v._zod.check(u);if(j instanceof Promise&&h?.async===!1)throw new Eo;if(p||j instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await j,u.issues.length!==y&&(g||(g=jo(u,y)))});else{if(u.issues.length===y)continue;g||(g=jo(u,y))}}return p?p.then(()=>u):u},c=(u,f,h)=>{if(jo(u))return u.aborted=!0,u;const g=i(f,s,h);if(g instanceof Promise){if(h.async===!1)throw new Eo;return g.then(p=>e._zod.parse(p,h))}return e._zod.parse(g,h)};e._zod.run=(u,f)=>{if(f.skipChecks)return e._zod.parse(u,f);if(f.direction==="backward"){const g=e._zod.parse({value:u.value,issues:[]},{...f,skipChecks:!0});return g instanceof Promise?g.then(p=>c(p,u,f)):c(g,u,f)}const h=e._zod.parse(u,f);if(h instanceof Promise){if(f.async===!1)throw new Eo;return h.then(g=>i(g,s,f))}return i(h,s,f)}}e["~standard"]={validate:i=>{try{const c=NE(e,i);return c.success?{value:c.data}:{issues:c.error?.issues}}catch{return CE(e,i).then(u=>u.success?{value:u.data}:{issues:u.error?.issues})}},vendor:"zod",version:1}}),lh=ne("$ZodString",(e,t)=>{pt.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??nP(e._zod.bag),e._zod.parse=(r,s)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),rt=ne("$ZodStringFormat",(e,t)=>{uc.init(e,t),lh.init(e,t)}),_P=ne("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=BE),rt.init(e,t)}),jP=ne("$ZodUUID",(e,t)=>{if(t.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(s===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=k0(s))}else t.pattern??(t.pattern=k0());rt.init(e,t)}),kP=ne("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=WE),rt.init(e,t)}),SP=ne("$ZodURL",(e,t)=>{rt.init(e,t),e._zod.check=r=>{try{const s=r.value.trim(),i=new URL(s);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:YE.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=i.href:r.value=s;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),NP=ne("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=HE()),rt.init(e,t)}),CP=ne("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=UE),rt.init(e,t)}),EP=ne("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=DE),rt.init(e,t)}),PP=ne("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=ME),rt.init(e,t)}),AP=ne("$ZodULID",(e,t)=>{t.pattern??(t.pattern=zE),rt.init(e,t)}),TP=ne("$ZodXID",(e,t)=>{t.pattern??(t.pattern=FE),rt.init(e,t)}),OP=ne("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=LE),rt.init(e,t)}),RP=ne("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=rP(t)),rt.init(e,t)}),IP=ne("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=eP),rt.init(e,t)}),$P=ne("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=tP(t)),rt.init(e,t)}),DP=ne("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=VE),rt.init(e,t)}),MP=ne("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=ZE),rt.init(e,t),e._zod.onattach.push(r=>{const s=r._zod.bag;s.format="ipv4"})}),zP=ne("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=KE),rt.init(e,t),e._zod.onattach.push(r=>{const s=r._zod.bag;s.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),FP=ne("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=GE),rt.init(e,t)}),LP=ne("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=JE),rt.init(e,t),e._zod.check=r=>{const s=r.value.split("/");try{if(s.length!==2)throw new Error;const[i,c]=s;if(!c)throw new Error;const u=Number(c);if(`${u}`!==c)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${i}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function ab(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const UP=ne("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=QE),rt.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{ab(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function VP(e){if(!eb.test(e))return!1;const t=e.replace(/[-_]/g,s=>s==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return ab(r)}const BP=ne("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=eb),rt.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{VP(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),WP=ne("$ZodE164",(e,t)=>{t.pattern??(t.pattern=XE),rt.init(e,t)});function qP(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[s]=r;if(!s)return!1;const i=JSON.parse(atob(s));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const HP=ne("$ZodJWT",(e,t)=>{rt.init(e,t),e._zod.check=r=>{qP(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),ib=ne("$ZodNumber",(e,t)=>{pt.init(e,t),e._zod.pattern=e._zod.bag.pattern??oP,e._zod.parse=(r,s)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;const c=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...c?{received:c}:{}}),r}}),ZP=ne("$ZodNumber",(e,t)=>{cP.init(e,t),ib.init(e,t)}),KP=ne("$ZodUnknown",(e,t)=>{pt.init(e,t),e._zod.parse=r=>r}),GP=ne("$ZodNever",(e,t)=>{pt.init(e,t),e._zod.parse=(r,s)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function S0(e,t,r){e.issues.length&&t.issues.push(...Yy(r,e.issues)),t.value[r]=e.value}const JP=ne("$ZodArray",(e,t)=>{pt.init(e,t),e._zod.parse=(r,s)=>{const i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);const c=[];for(let u=0;u<i.length;u++){const f=i[u],h=t.element._zod.run({value:f,issues:[]},s);h instanceof Promise?c.push(h.then(g=>S0(g,r,u))):S0(h,r,u)}return c.length?Promise.all(c).then(()=>r):r}});function Ll(e,t,r,s){e.issues.length&&t.issues.push(...Yy(r,e.issues)),e.value===void 0?r in s&&(t.value[r]=void 0):t.value[r]=e.value}function lb(e){const t=Object.keys(e.shape);for(const s of t)if(!e.shape?.[s]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${s}": expected a Zod schema`);const r=hE(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function cb(e,t,r,s,i,c){const u=[],f=i.keySet,h=i.catchall._zod,g=h.def.type;for(const p of Object.keys(t)){if(f.has(p))continue;if(g==="never"){u.push(p);continue}const v=h.run({value:t[p],issues:[]},s);v instanceof Promise?e.push(v.then(y=>Ll(y,r,p,t))):Ll(v,r,p,t)}return u.length&&r.issues.push({code:"unrecognized_keys",keys:u,input:t,inst:c}),e.length?Promise.all(e).then(()=>r):r}const QP=ne("$ZodObject",(e,t)=>{if(pt.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const f=t.shape;Object.defineProperty(t,"shape",{get:()=>{const h={...f};return Object.defineProperty(t,"shape",{value:h}),h}})}const s=nh(()=>lb(t));Ge(e._zod,"propValues",()=>{const f=t.shape,h={};for(const g in f){const p=f[g]._zod;if(p.values){h[g]??(h[g]=new Set);for(const v of p.values)h[g].add(v)}}return h});const i=Fl,c=t.catchall;let u;e._zod.parse=(f,h)=>{u??(u=s.value);const g=f.value;if(!i(g))return f.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),f;f.value={};const p=[],v=u.shape;for(const y of u.keys){const S=v[y]._zod.run({value:g[y],issues:[]},h);S instanceof Promise?p.push(S.then(b=>Ll(b,f,y,g))):Ll(S,f,y,g)}return c?cb(p,g,f,h,s.value,e):p.length?Promise.all(p).then(()=>f):f}}),YP=ne("$ZodObjectJIT",(e,t)=>{QP.init(e,t);const r=e._zod.parse,s=nh(()=>lb(t)),i=y=>{const j=new bP(["shape","payload","ctx"]),S=s.value,b=P=>{const D=j0(P);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};j.write("const input = payload.value;");const N=Object.create(null);let k=0;for(const P of S.keys)N[P]=`key_${k++}`;j.write("const newResult = {};");for(const P of S.keys){const D=N[P],E=j0(P);j.write(`const ${D} = ${b(P)};`),j.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${E}, ...iss.path] : [${E}]
          })));
        }
        
        
        if (${D}.value === undefined) {
          if (${E} in input) {
            newResult[${E}] = undefined;
          }
        } else {
          newResult[${E}] = ${D}.value;
        }
        
      `)}j.write("payload.value = newResult;"),j.write("return payload;");const C=j.compile();return(P,D)=>C(y,P,D)};let c;const u=Fl,f=!Gy.jitless,g=f&&dE.value,p=t.catchall;let v;e._zod.parse=(y,j)=>{v??(v=s.value);const S=y.value;return u(S)?f&&g&&j?.async===!1&&j.jitless!==!0?(c||(c=i(t.shape)),y=c(y,j),p?cb([],S,y,j,v,e):y):r(y,j):(y.issues.push({expected:"object",code:"invalid_type",input:S,inst:e}),y)}});function N0(e,t,r,s){for(const c of e)if(c.issues.length===0)return t.value=c.value,t;const i=e.filter(c=>!jo(c));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(c=>c.issues.map(u=>ks(u,s,js())))}),t)}const XP=ne("$ZodUnion",(e,t)=>{pt.init(e,t),Ge(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Ge(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Ge(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),Ge(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(c=>c._zod.pattern);return new RegExp(`^(${i.map(c=>oh(c.source)).join("|")})$`)}});const r=t.options.length===1,s=t.options[0]._zod.run;e._zod.parse=(i,c)=>{if(r)return s(i,c);let u=!1;const f=[];for(const h of t.options){const g=h._zod.run({value:i.value,issues:[]},c);if(g instanceof Promise)f.push(g),u=!0;else{if(g.issues.length===0)return g;f.push(g)}}return u?Promise.all(f).then(h=>N0(h,i,e,c)):N0(f,i,e,c)}}),e4=ne("$ZodIntersection",(e,t)=>{pt.init(e,t),e._zod.parse=(r,s)=>{const i=r.value,c=t.left._zod.run({value:i,issues:[]},s),u=t.right._zod.run({value:i,issues:[]},s);return c instanceof Promise||u instanceof Promise?Promise.all([c,u]).then(([h,g])=>C0(r,h,g)):C0(r,c,u)}});function bf(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Ua(e)&&Ua(t)){const r=Object.keys(t),s=Object.keys(e).filter(c=>r.indexOf(c)!==-1),i={...e,...t};for(const c of s){const u=bf(e[c],t[c]);if(!u.valid)return{valid:!1,mergeErrorPath:[c,...u.mergeErrorPath]};i[c]=u.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let s=0;s<e.length;s++){const i=e[s],c=t[s],u=bf(i,c);if(!u.valid)return{valid:!1,mergeErrorPath:[s,...u.mergeErrorPath]};r.push(u.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function C0(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),jo(e))return e;const s=bf(t.value,r.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const t4=ne("$ZodEnum",(e,t)=>{pt.init(e,t);const r=cE(t.entries),s=new Set(r);e._zod.values=s,e._zod.pattern=new RegExp(`^(${r.filter(i=>fE.has(typeof i)).map(i=>typeof i=="string"?sc(i):i.toString()).join("|")})$`),e._zod.parse=(i,c)=>{const u=i.value;return s.has(u)||i.issues.push({code:"invalid_value",values:r,input:u,inst:e}),i}}),r4=ne("$ZodTransform",(e,t)=>{pt.init(e,t),e._zod.parse=(r,s)=>{if(s.direction==="backward")throw new Ky(e.constructor.name);const i=t.transform(r.value,r);if(s.async)return(i instanceof Promise?i:Promise.resolve(i)).then(u=>(r.value=u,r));if(i instanceof Promise)throw new Eo;return r.value=i,r}});function E0(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const n4=ne("$ZodOptional",(e,t)=>{pt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Ge(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Ge(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${oh(r.source)})?$`):void 0}),e._zod.parse=(r,s)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(r,s);return i instanceof Promise?i.then(c=>E0(c,r.value)):E0(i,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,s)}}),s4=ne("$ZodNullable",(e,t)=>{pt.init(e,t),Ge(e._zod,"optin",()=>t.innerType._zod.optin),Ge(e._zod,"optout",()=>t.innerType._zod.optout),Ge(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${oh(r.source)}|null)$`):void 0}),Ge(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,s)=>r.value===null?r:t.innerType._zod.run(r,s)}),o4=ne("$ZodDefault",(e,t)=>{pt.init(e,t),e._zod.optin="optional",Ge(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,s)=>{if(s.direction==="backward")return t.innerType._zod.run(r,s);if(r.value===void 0)return r.value=t.defaultValue,r;const i=t.innerType._zod.run(r,s);return i instanceof Promise?i.then(c=>P0(c,t)):P0(i,t)}});function P0(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const a4=ne("$ZodPrefault",(e,t)=>{pt.init(e,t),e._zod.optin="optional",Ge(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,s)=>(s.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,s))}),i4=ne("$ZodNonOptional",(e,t)=>{pt.init(e,t),Ge(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(s=>s!==void 0)):void 0}),e._zod.parse=(r,s)=>{const i=t.innerType._zod.run(r,s);return i instanceof Promise?i.then(c=>A0(c,e)):A0(i,e)}});function A0(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const l4=ne("$ZodCatch",(e,t)=>{pt.init(e,t),Ge(e._zod,"optin",()=>t.innerType._zod.optin),Ge(e._zod,"optout",()=>t.innerType._zod.optout),Ge(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,s)=>{if(s.direction==="backward")return t.innerType._zod.run(r,s);const i=t.innerType._zod.run(r,s);return i instanceof Promise?i.then(c=>(r.value=c.value,c.issues.length&&(r.value=t.catchValue({...r,error:{issues:c.issues.map(u=>ks(u,s,js()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(c=>ks(c,s,js()))},input:r.value}),r.issues=[]),r)}}),c4=ne("$ZodPipe",(e,t)=>{pt.init(e,t),Ge(e._zod,"values",()=>t.in._zod.values),Ge(e._zod,"optin",()=>t.in._zod.optin),Ge(e._zod,"optout",()=>t.out._zod.optout),Ge(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,s)=>{if(s.direction==="backward"){const c=t.out._zod.run(r,s);return c instanceof Promise?c.then(u=>gl(u,t.in,s)):gl(c,t.in,s)}const i=t.in._zod.run(r,s);return i instanceof Promise?i.then(c=>gl(c,t.out,s)):gl(i,t.out,s)}});function gl(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const u4=ne("$ZodReadonly",(e,t)=>{pt.init(e,t),Ge(e._zod,"propValues",()=>t.innerType._zod.propValues),Ge(e._zod,"values",()=>t.innerType._zod.values),Ge(e._zod,"optin",()=>t.innerType._zod.optin),Ge(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,s)=>{if(s.direction==="backward")return t.innerType._zod.run(r,s);const i=t.innerType._zod.run(r,s);return i instanceof Promise?i.then(T0):T0(i)}});function T0(e){return e.value=Object.freeze(e.value),e}const d4=ne("$ZodCustom",(e,t)=>{Qt.init(e,t),pt.init(e,t),e._zod.parse=(r,s)=>r,e._zod.check=r=>{const s=r.value,i=t.fn(s);if(i instanceof Promise)return i.then(c=>O0(c,r,s,e));O0(i,r,s,e)}});function O0(e,t,r,s){if(!e){const i={code:"custom",input:r,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(i.params=s._zod.def.params),t.issues.push(Va(i))}}class f4{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const s=r[0];if(this._map.set(t,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const s={...this.get(r)??{}};delete s.id;const i={...s,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function h4(){return new f4}const xl=h4();function m4(e,t){return new e({type:"string",...Ae(t)})}function p4(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ae(t)})}function R0(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ae(t)})}function g4(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ae(t)})}function x4(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ae(t)})}function v4(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ae(t)})}function y4(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ae(t)})}function b4(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ae(t)})}function w4(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ae(t)})}function _4(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ae(t)})}function j4(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ae(t)})}function k4(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ae(t)})}function S4(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ae(t)})}function N4(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ae(t)})}function C4(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ae(t)})}function E4(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ae(t)})}function P4(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ae(t)})}function A4(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ae(t)})}function T4(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ae(t)})}function O4(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ae(t)})}function R4(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ae(t)})}function I4(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ae(t)})}function $4(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ae(t)})}function D4(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ae(t)})}function M4(e,t){return new e({type:"string",format:"date",check:"string_format",...Ae(t)})}function z4(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ae(t)})}function F4(e,t){return new e({type:"string",format:"duration",check:"string_format",...Ae(t)})}function L4(e,t){return new e({type:"number",checks:[],...Ae(t)})}function U4(e,t){return new e({type:"number",coerce:!0,checks:[],...Ae(t)})}function V4(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ae(t)})}function B4(e){return new e({type:"unknown"})}function W4(e,t){return new e({type:"never",...Ae(t)})}function I0(e,t){return new sb({check:"less_than",...Ae(t),value:e,inclusive:!1})}function Dd(e,t){return new sb({check:"less_than",...Ae(t),value:e,inclusive:!0})}function $0(e,t){return new ob({check:"greater_than",...Ae(t),value:e,inclusive:!1})}function Md(e,t){return new ob({check:"greater_than",...Ae(t),value:e,inclusive:!0})}function D0(e,t){return new lP({check:"multiple_of",...Ae(t),value:e})}function ub(e,t){return new uP({check:"max_length",...Ae(t),maximum:e})}function Ul(e,t){return new dP({check:"min_length",...Ae(t),minimum:e})}function db(e,t){return new fP({check:"length_equals",...Ae(t),length:e})}function q4(e,t){return new hP({check:"string_format",format:"regex",...Ae(t),pattern:e})}function H4(e){return new mP({check:"string_format",format:"lowercase",...Ae(e)})}function Z4(e){return new pP({check:"string_format",format:"uppercase",...Ae(e)})}function K4(e,t){return new gP({check:"string_format",format:"includes",...Ae(t),includes:e})}function G4(e,t){return new xP({check:"string_format",format:"starts_with",...Ae(t),prefix:e})}function J4(e,t){return new vP({check:"string_format",format:"ends_with",...Ae(t),suffix:e})}function Ka(e){return new yP({check:"overwrite",tx:e})}function Q4(e){return Ka(t=>t.normalize(e))}function Y4(){return Ka(e=>e.trim())}function X4(){return Ka(e=>e.toLowerCase())}function eA(){return Ka(e=>e.toUpperCase())}function tA(e,t,r){return new e({type:"array",element:t,...Ae(r)})}function rA(e,t,r){return new e({type:"custom",check:"custom",fn:t,...Ae(r)})}function nA(e){const t=sA(r=>(r.addIssue=s=>{if(typeof s=="string")r.issues.push(Va(s,r.value,t._zod.def));else{const i=s;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),r.issues.push(Va(i))}},e(r.value,r)));return t}function sA(e,t){const r=new Qt({check:"custom",...Ae(t)});return r._zod.check=e,r}const oA=ne("ZodISODateTime",(e,t)=>{RP.init(e,t),ot.init(e,t)});function aA(e){return D4(oA,e)}const iA=ne("ZodISODate",(e,t)=>{IP.init(e,t),ot.init(e,t)});function lA(e){return M4(iA,e)}const cA=ne("ZodISOTime",(e,t)=>{$P.init(e,t),ot.init(e,t)});function uA(e){return z4(cA,e)}const dA=ne("ZodISODuration",(e,t)=>{DP.init(e,t),ot.init(e,t)});function fA(e){return F4(dA,e)}const hA=(e,t)=>{ih.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>jE(e,r)},flatten:{value:r=>_E(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,yf,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,yf,2)}},isEmpty:{get(){return e.issues.length===0}}})},yr=ne("ZodError",hA,{Parent:Error}),mA=ac(yr),pA=ic(yr),gA=lc(yr),xA=cc(yr),vA=EE(yr),yA=PE(yr),bA=AE(yr),wA=TE(yr),_A=OE(yr),jA=RE(yr),kA=IE(yr),SA=$E(yr),wt=ne("ZodType",(e,t)=>(pt.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(Cs(t,{checks:[...t.checks??[],...r.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]})),e.clone=(r,s)=>Gn(e,r,s),e.brand=()=>e,e.register=((r,s)=>(r.add(e,s),e)),e.parse=(r,s)=>mA(e,r,s,{callee:e.parse}),e.safeParse=(r,s)=>gA(e,r,s),e.parseAsync=async(r,s)=>pA(e,r,s,{callee:e.parseAsync}),e.safeParseAsync=async(r,s)=>xA(e,r,s),e.spa=e.safeParseAsync,e.encode=(r,s)=>vA(e,r,s),e.decode=(r,s)=>yA(e,r,s),e.encodeAsync=async(r,s)=>bA(e,r,s),e.decodeAsync=async(r,s)=>wA(e,r,s),e.safeEncode=(r,s)=>_A(e,r,s),e.safeDecode=(r,s)=>jA(e,r,s),e.safeEncodeAsync=async(r,s)=>kA(e,r,s),e.safeDecodeAsync=async(r,s)=>SA(e,r,s),e.refine=(r,s)=>e.check(mT(r,s)),e.superRefine=r=>e.check(pT(r)),e.overwrite=r=>e.check(Ka(r)),e.optional=()=>V0(e),e.nullable=()=>B0(e),e.nullish=()=>V0(B0(e)),e.nonoptional=r=>iT(e,r),e.array=()=>hb(e),e.or=r=>QA([e,r]),e.and=r=>XA(e,r),e.transform=r=>W0(e,tT(r)),e.default=r=>sT(e,r),e.prefault=r=>aT(e,r),e.catch=r=>cT(e,r),e.pipe=r=>W0(e,r),e.readonly=()=>fT(e),e.describe=r=>{const s=e.clone();return xl.add(s,{description:r}),s},Object.defineProperty(e,"description",{get(){return xl.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return xl.get(e);const s=e.clone();return xl.add(s,r[0]),s},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),fb=ne("_ZodString",(e,t)=>{lh.init(e,t),wt.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...s)=>e.check(q4(...s)),e.includes=(...s)=>e.check(K4(...s)),e.startsWith=(...s)=>e.check(G4(...s)),e.endsWith=(...s)=>e.check(J4(...s)),e.min=(...s)=>e.check(Ul(...s)),e.max=(...s)=>e.check(ub(...s)),e.length=(...s)=>e.check(db(...s)),e.nonempty=(...s)=>e.check(Ul(1,...s)),e.lowercase=s=>e.check(H4(s)),e.uppercase=s=>e.check(Z4(s)),e.trim=()=>e.check(Y4()),e.normalize=(...s)=>e.check(Q4(...s)),e.toLowerCase=()=>e.check(X4()),e.toUpperCase=()=>e.check(eA())}),NA=ne("ZodString",(e,t)=>{lh.init(e,t),fb.init(e,t),e.email=r=>e.check(p4(CA,r)),e.url=r=>e.check(b4(EA,r)),e.jwt=r=>e.check($4(BA,r)),e.emoji=r=>e.check(w4(PA,r)),e.guid=r=>e.check(R0(M0,r)),e.uuid=r=>e.check(g4(vl,r)),e.uuidv4=r=>e.check(x4(vl,r)),e.uuidv6=r=>e.check(v4(vl,r)),e.uuidv7=r=>e.check(y4(vl,r)),e.nanoid=r=>e.check(_4(AA,r)),e.guid=r=>e.check(R0(M0,r)),e.cuid=r=>e.check(j4(TA,r)),e.cuid2=r=>e.check(k4(OA,r)),e.ulid=r=>e.check(S4(RA,r)),e.base64=r=>e.check(O4(LA,r)),e.base64url=r=>e.check(R4(UA,r)),e.xid=r=>e.check(N4(IA,r)),e.ksuid=r=>e.check(C4($A,r)),e.ipv4=r=>e.check(E4(DA,r)),e.ipv6=r=>e.check(P4(MA,r)),e.cidrv4=r=>e.check(A4(zA,r)),e.cidrv6=r=>e.check(T4(FA,r)),e.e164=r=>e.check(I4(VA,r)),e.datetime=r=>e.check(aA(r)),e.date=r=>e.check(lA(r)),e.time=r=>e.check(uA(r)),e.duration=r=>e.check(fA(r))});function Dn(e){return m4(NA,e)}const ot=ne("ZodStringFormat",(e,t)=>{rt.init(e,t),fb.init(e,t)}),CA=ne("ZodEmail",(e,t)=>{kP.init(e,t),ot.init(e,t)}),M0=ne("ZodGUID",(e,t)=>{_P.init(e,t),ot.init(e,t)}),vl=ne("ZodUUID",(e,t)=>{jP.init(e,t),ot.init(e,t)}),EA=ne("ZodURL",(e,t)=>{SP.init(e,t),ot.init(e,t)}),PA=ne("ZodEmoji",(e,t)=>{NP.init(e,t),ot.init(e,t)}),AA=ne("ZodNanoID",(e,t)=>{CP.init(e,t),ot.init(e,t)}),TA=ne("ZodCUID",(e,t)=>{EP.init(e,t),ot.init(e,t)}),OA=ne("ZodCUID2",(e,t)=>{PP.init(e,t),ot.init(e,t)}),RA=ne("ZodULID",(e,t)=>{AP.init(e,t),ot.init(e,t)}),IA=ne("ZodXID",(e,t)=>{TP.init(e,t),ot.init(e,t)}),$A=ne("ZodKSUID",(e,t)=>{OP.init(e,t),ot.init(e,t)}),DA=ne("ZodIPv4",(e,t)=>{MP.init(e,t),ot.init(e,t)}),MA=ne("ZodIPv6",(e,t)=>{zP.init(e,t),ot.init(e,t)}),zA=ne("ZodCIDRv4",(e,t)=>{FP.init(e,t),ot.init(e,t)}),FA=ne("ZodCIDRv6",(e,t)=>{LP.init(e,t),ot.init(e,t)}),LA=ne("ZodBase64",(e,t)=>{UP.init(e,t),ot.init(e,t)}),UA=ne("ZodBase64URL",(e,t)=>{BP.init(e,t),ot.init(e,t)}),VA=ne("ZodE164",(e,t)=>{WP.init(e,t),ot.init(e,t)}),BA=ne("ZodJWT",(e,t)=>{HP.init(e,t),ot.init(e,t)}),ch=ne("ZodNumber",(e,t)=>{ib.init(e,t),wt.init(e,t),e.gt=(s,i)=>e.check($0(s,i)),e.gte=(s,i)=>e.check(Md(s,i)),e.min=(s,i)=>e.check(Md(s,i)),e.lt=(s,i)=>e.check(I0(s,i)),e.lte=(s,i)=>e.check(Dd(s,i)),e.max=(s,i)=>e.check(Dd(s,i)),e.int=s=>e.check(F0(s)),e.safe=s=>e.check(F0(s)),e.positive=s=>e.check($0(0,s)),e.nonnegative=s=>e.check(Md(0,s)),e.negative=s=>e.check(I0(0,s)),e.nonpositive=s=>e.check(Dd(0,s)),e.multipleOf=(s,i)=>e.check(D0(s,i)),e.step=(s,i)=>e.check(D0(s,i)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function z0(e){return L4(ch,e)}const WA=ne("ZodNumberFormat",(e,t)=>{ZP.init(e,t),ch.init(e,t)});function F0(e){return V4(WA,e)}const qA=ne("ZodUnknown",(e,t)=>{KP.init(e,t),wt.init(e,t)});function L0(){return B4(qA)}const HA=ne("ZodNever",(e,t)=>{GP.init(e,t),wt.init(e,t)});function ZA(e){return W4(HA,e)}const KA=ne("ZodArray",(e,t)=>{JP.init(e,t),wt.init(e,t),e.element=t.element,e.min=(r,s)=>e.check(Ul(r,s)),e.nonempty=r=>e.check(Ul(1,r)),e.max=(r,s)=>e.check(ub(r,s)),e.length=(r,s)=>e.check(db(r,s)),e.unwrap=()=>e.element});function hb(e,t){return tA(KA,e,t)}const GA=ne("ZodObject",(e,t)=>{YP.init(e,t),wt.init(e,t),Ge(e,"shape",()=>t.shape),e.keyof=()=>mb(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:L0()}),e.loose=()=>e.clone({...e._zod.def,catchall:L0()}),e.strict=()=>e.clone({...e._zod.def,catchall:ZA()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>xE(e,r),e.safeExtend=r=>vE(e,r),e.merge=r=>yE(e,r),e.pick=r=>pE(e,r),e.omit=r=>gE(e,r),e.partial=(...r)=>bE(pb,e,r[0]),e.required=(...r)=>wE(gb,e,r[0])});function U0(e,t){const r={type:"object",shape:e??{},...Ae(t)};return new GA(r)}const JA=ne("ZodUnion",(e,t)=>{XP.init(e,t),wt.init(e,t),e.options=t.options});function QA(e,t){return new JA({type:"union",options:e,...Ae(t)})}const YA=ne("ZodIntersection",(e,t)=>{e4.init(e,t),wt.init(e,t)});function XA(e,t){return new YA({type:"intersection",left:e,right:t})}const wf=ne("ZodEnum",(e,t)=>{t4.init(e,t),wt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(s,i)=>{const c={};for(const u of s)if(r.has(u))c[u]=t.entries[u];else throw new Error(`Key ${u} not found in enum`);return new wf({...t,checks:[],...Ae(i),entries:c})},e.exclude=(s,i)=>{const c={...t.entries};for(const u of s)if(r.has(u))delete c[u];else throw new Error(`Key ${u} not found in enum`);return new wf({...t,checks:[],...Ae(i),entries:c})}});function mb(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(s=>[s,s])):e;return new wf({type:"enum",entries:r,...Ae(t)})}const eT=ne("ZodTransform",(e,t)=>{r4.init(e,t),wt.init(e,t),e._zod.parse=(r,s)=>{if(s.direction==="backward")throw new Ky(e.constructor.name);r.addIssue=c=>{if(typeof c=="string")r.issues.push(Va(c,r.value,t));else{const u=c;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=r.value),u.inst??(u.inst=e),r.issues.push(Va(u))}};const i=t.transform(r.value,r);return i instanceof Promise?i.then(c=>(r.value=c,r)):(r.value=i,r)}});function tT(e){return new eT({type:"transform",transform:e})}const pb=ne("ZodOptional",(e,t)=>{n4.init(e,t),wt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function V0(e){return new pb({type:"optional",innerType:e})}const rT=ne("ZodNullable",(e,t)=>{s4.init(e,t),wt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function B0(e){return new rT({type:"nullable",innerType:e})}const nT=ne("ZodDefault",(e,t)=>{o4.init(e,t),wt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function sT(e,t){return new nT({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Qy(t)}})}const oT=ne("ZodPrefault",(e,t)=>{a4.init(e,t),wt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function aT(e,t){return new oT({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Qy(t)}})}const gb=ne("ZodNonOptional",(e,t)=>{i4.init(e,t),wt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function iT(e,t){return new gb({type:"nonoptional",innerType:e,...Ae(t)})}const lT=ne("ZodCatch",(e,t)=>{l4.init(e,t),wt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function cT(e,t){return new lT({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const uT=ne("ZodPipe",(e,t)=>{c4.init(e,t),wt.init(e,t),e.in=t.in,e.out=t.out});function W0(e,t){return new uT({type:"pipe",in:e,out:t})}const dT=ne("ZodReadonly",(e,t)=>{u4.init(e,t),wt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function fT(e){return new dT({type:"readonly",innerType:e})}const hT=ne("ZodCustom",(e,t)=>{d4.init(e,t),wt.init(e,t)});function mT(e,t={}){return rA(hT,e,t)}function pT(e){return nA(e)}function Ta(e){return U4(ch,e)}const q0=(e,t,r)=>{if(e&&"reportValidity"in e){const s=me(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},_f=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?q0(s.ref,r,e):s&&s.refs&&s.refs.forEach(i=>q0(i,r,e))}},H0=(e,t)=>{t.shouldUseNativeValidation&&_f(e,t);const r={};for(const s in e){const i=me(t.fields,s),c=Object.assign(e[s]||{},{ref:i&&i.ref});if(gT(t.names||Object.keys(e),s)){const u=Object.assign({},me(r,s));We(u,"root",c),We(r,s,u)}else We(r,s,c)}return r},gT=(e,t)=>{const r=Z0(t);return e.some(s=>Z0(s).match(`^${r}\\.\\d+`))};function Z0(e){return e.replace(/\]|\[/g,"")}function K0(e,t){try{var r=e()}catch(s){return t(s)}return r&&r.then?r.then(void 0,t):r}function xT(e,t){for(var r={};e.length;){var s=e[0],i=s.code,c=s.message,u=s.path.join(".");if(!r[u])if("unionErrors"in s){var f=s.unionErrors[0].errors[0];r[u]={message:f.message,type:f.code}}else r[u]={message:c,type:i};if("unionErrors"in s&&s.unionErrors.forEach(function(p){return p.errors.forEach(function(v){return e.push(v)})}),t){var h=r[u].types,g=h&&h[s.code];r[u]=eh(u,t,r,i,g?[].concat(g,s.message):s.message)}e.shift()}return r}function vT(e,t){for(var r={};e.length;){var s=e[0],i=s.code,c=s.message,u=s.path.join(".");if(!r[u])if(s.code==="invalid_union"&&s.errors.length>0){var f=s.errors[0][0];r[u]={message:f.message,type:f.code}}else r[u]={message:c,type:i};if(s.code==="invalid_union"&&s.errors.forEach(function(p){return p.forEach(function(v){return e.push(v)})}),t){var h=r[u].types,g=h&&h[s.code];r[u]=eh(u,t,r,i,g?[].concat(g,s.message):s.message)}e.shift()}return r}function yT(e,t,r){if(r===void 0&&(r={}),(function(s){return"_def"in s&&typeof s._def=="object"&&"typeName"in s._def})(e))return function(s,i,c){try{return Promise.resolve(K0(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(u){return c.shouldUseNativeValidation&&_f({},c),{errors:{},values:r.raw?Object.assign({},s):u}})},function(u){if((function(f){return Array.isArray(f?.issues)})(u))return{values:{},errors:H0(xT(u.errors,!c.shouldUseNativeValidation&&c.criteriaMode==="all"),c)};throw u}))}catch(u){return Promise.reject(u)}};if((function(s){return"_zod"in s&&typeof s._zod=="object"})(e))return function(s,i,c){try{return Promise.resolve(K0(function(){return Promise.resolve((r.mode==="sync"?kE:SE)(e,s,t)).then(function(u){return c.shouldUseNativeValidation&&_f({},c),{errors:{},values:r.raw?Object.assign({},s):u}})},function(u){if((function(f){return f instanceof ih})(u))return{values:{},errors:H0(vT(u.issues,!c.shouldUseNativeValidation&&c.criteriaMode==="all"),c)};throw u}))}catch(u){return Promise.reject(u)}};throw new Error("Invalid input: not a Zod schema")}const bT=({products:e,selectedProductId:t,onSelect:r,excludeProductIds:s=[],placeholder:i="Selecione um produto..."})=>{const[c,u]=_.useState(!1),[f,h]=_.useState(""),p=e.filter(b=>!s.includes(b.id)).filter(b=>b.name.toLowerCase().includes(f.toLowerCase())||b.description.toLowerCase().includes(f.toLowerCase())||b.category.toLowerCase().includes(f.toLowerCase())),v=e.find(b=>b.id===t),y=b=>({material_bruto:"bg-blue-100 text-blue-800",parte_produto:"bg-yellow-100 text-yellow-800",produto_pronto:"bg-green-100 text-green-800"})[b]||"bg-gray-100 text-gray-800",j=b=>({material_bruto:"Material Bruto",parte_produto:"Parte de Produto",produto_pronto:"Produto Pronto"})[b]||b,S=b=>b.current_stock<=b.min_stock;return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>u(!c),className:"w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-lg bg-white hover:bg-gray-50 focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors",children:[a.jsx("span",{className:v?"text-gray-900":"text-gray-500",children:v?v.name:i}),a.jsx(P_,{className:"h-4 w-4 text-gray-400"})]}),c&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)}),a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-80 overflow-hidden",children:[a.jsx("div",{className:"p-2 border-b border-gray-200",children:a.jsx("input",{type:"text",placeholder:"Buscar produto...",value:f,onChange:b=>h(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-amber-500 focus:border-transparent",autoFocus:!0})}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:p.length===0?a.jsxs("div",{className:"p-4 text-center text-gray-500",children:[a.jsx(ar,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),a.jsx("p",{children:"Nenhum produto encontrado"})]}):p.map(b=>{const N=S(b),k=b.id===t;return a.jsx("button",{type:"button",onClick:()=>{r(b),u(!1),h("")},className:`w-full flex items-start gap-3 px-3 py-2 hover:bg-gray-50 transition-colors ${k?"bg-amber-50":""} ${N?"bg-red-50":""}`,children:a.jsxs("div",{className:"flex-1 text-left",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium text-gray-900",children:b.name}),k&&a.jsx(jl,{className:"h-4 w-4 text-amber-600"}),N&&a.jsx(ps,{className:"h-4 w-4 text-red-500"})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${y(b.type)}`,children:j(b.type)}),a.jsx("span",{className:"text-xs text-gray-500",children:b.category}),a.jsxs("span",{className:"text-xs text-gray-500",children:["• ",b.unit]}),a.jsxs("span",{className:`text-xs font-medium ${N?"text-red-600":"text-green-600"}`,children:["Estoque: ",b.current_stock]}),a.jsxs("span",{className:"text-xs text-gray-600",children:["R$ ",b.cost_price.toFixed(2)]})]}),b.description&&a.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:b.description})]})},b.id)})})]})]})]})},wT=U0({name:Dn().min(1,{message:"Campo obrigatório"}),description:Dn().optional(),category:Dn().min(1,{message:"Selecione uma categoria"}),type:mb(["material_bruto","parte_produto","produto_pronto"],{errorMap:()=>({message:"Selecione um tipo"})}),unit:Dn().min(1,{message:"Campo obrigatório"}),current_stock:Ta().min(0,{message:"Estoque atual deve ser maior ou igual a 0"}),min_stock:Ta().min(0,{message:"Estoque mínimo deve ser maior ou igual a 0"}),cost_price:Ta().min(0,{message:"Informe um preço de custo válido"}),sale_price:Ta().min(0,{message:"Preço de venda inválido"}).optional(),supplier:Dn().optional(),components:hb(U0({product_id:Dn().min(1,{message:"Selecione um produto"}),product_name:Dn(),quantity:Ta().min(.001,{message:"Quantidade deve ser maior que 0"}),unit:Dn(),unit_cost:z0(),total_cost:z0()})).optional()}),_T=({product:e,onClose:t})=>{const{addProduct:r,updateProduct:s,products:i,calculateProductCost:c}=vr(),{productSettings:u}=Mo(),[f,h]=_.useState(!1),[g,p]=_.useState(null),{register:v,handleSubmit:y,setValue:j,watch:S,reset:b,control:N,formState:{errors:k}}=lE({resolver:yT(wT),defaultValues:{name:"",description:"",category:"",type:"material_bruto",unit:"",current_stock:0,min_stock:0,cost_price:0,sale_price:void 0,supplier:"",components:[]}}),{fields:C,append:P,remove:D,update:E}=iE({control:N,name:"components"}),V=S("components");S("type"),_.useEffect(()=>{e?b({name:e.name,description:e.description,category:e.category,type:e.type,unit:e.unit,current_stock:e.current_stock,min_stock:e.min_stock,cost_price:e.cost_price,sale_price:e.sale_price,supplier:e.supplier,components:e.components||[]}):b()},[e,b]),_.useEffect(()=>{if(V&&V.length>0&&u.automation.autoCalculateCosts){const Y=V.reduce((re,O)=>re+(O.total_cost||0),0);Y>0&&j("cost_price",Y)}},[V,j,u.automation.autoCalculateCosts]);const A=()=>{P({product_id:"",product_name:"",quantity:1,unit:"",unit_cost:0,total_cost:0})},M=(Y,re)=>{const ae=C[re].quantity||1;E(re,{product_id:Y.id,product_name:Y.name,quantity:ae,unit:Y.unit,unit_cost:Y.cost_price,total_cost:ae*Y.cost_price})},I=(Y,re)=>{const O=C[Y];E(Y,{...O,quantity:re,total_cost:re*O.unit_cost})},de=()=>{const Y=S("cost_price"),re=u.automation.defaultProfitMargin||20,O=Y*(1+re/100);j("sale_price",Math.round(O*100)/100)},be=async Y=>{h(!0),p(null);try{const re={name:Y.name,description:Y.description||"",category:Y.category,type:Y.type,unit:Y.unit,current_stock:Y.current_stock,min_stock:Y.min_stock,cost_price:Y.cost_price,sale_price:Y.sale_price,supplier:Y.supplier,components:Y.components||[]};e?await s({...re,id:e.id,created_at:e.created_at}):await r(re),t()}catch(re){p(re.message||"Erro ao salvar produto"),h(!1)}},ue=C.map(Y=>Y.product_id).filter(Boolean),X=e?[e.id,...ue]:ue,ce=C.reduce((Y,re)=>Y+(re.total_cost||0),0),te=C.length>0;return a.jsx(AN,{open:!0,onOpenChange:t,children:a.jsxs(wv,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsx(_v,{children:a.jsx(kv,{children:e?"Editar Produto":"Novo Produto"})}),a.jsxs("form",{onSubmit:y(be),className:"space-y-4",children:[g&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[a.jsx(ps,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-red-800",children:"Erro"}),a.jsx("p",{className:"text-sm text-red-600",children:g})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{children:"Nome do Produto"}),a.jsx(Kt,{...v("name")}),k.name&&a.jsx("p",{className:"text-red-500 text-sm",children:k.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{children:"Descrição"}),a.jsx(Sv,{...v("description")})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{children:"Categoria"}),a.jsxs(d0,{onValueChange:Y=>j("category",Y),defaultValue:e?.category,children:[a.jsx(hf,{children:a.jsx(f0,{placeholder:"Selecione uma categoria"})}),a.jsx(mf,{children:u.categories.map(Y=>a.jsx(Ia,{value:Y,children:Y},Y))})]}),k.category&&a.jsx("p",{className:"text-red-500 text-sm",children:k.category.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{children:"Tipo"}),a.jsxs(d0,{onValueChange:Y=>j("type",Y),defaultValue:e?.type||"material_bruto",children:[a.jsx(hf,{children:a.jsx(f0,{placeholder:"Selecione o tipo"})}),a.jsxs(mf,{children:[a.jsx(Ia,{value:"material_bruto",children:"Material Bruto"}),a.jsx(Ia,{value:"parte_produto",children:"Parte de Produto"}),a.jsx(Ia,{value:"produto_pronto",children:"Produto Pronto"})]})]}),k.type&&a.jsx("p",{className:"text-red-500 text-sm",children:k.type.message})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{children:"Unidade"}),a.jsx(Kt,{...v("unit"),placeholder:"UN, KG, M², L, etc."}),k.unit&&a.jsx("p",{className:"text-red-500 text-sm",children:k.unit.message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{children:"Estoque Atual"}),a.jsx(Kt,{type:"number",step:"0.01",...v("current_stock")}),k.current_stock&&a.jsx("p",{className:"text-red-500 text-sm",children:k.current_stock.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{children:"Estoque Mínimo"}),a.jsx(Kt,{type:"number",step:"0.01",...v("min_stock")}),k.min_stock&&a.jsx("p",{className:"text-red-500 text-sm",children:k.min_stock.message})]})]}),a.jsxs("div",{className:"border-t pt-4 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(ft,{children:"Componentes"}),a.jsx(pr,{size:"sm",type:"button",onClick:A,variant:"outline",children:"+ Adicionar Componente"})]}),C.length===0&&a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:'Nenhum componente adicionado. Clique em "Adicionar Componente" para começar.'}),C.map((Y,re)=>a.jsxs("div",{className:"border rounded-lg p-3 space-y-3 bg-gray-50",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{className:"text-sm",children:"Produto"}),a.jsx(HC,{name:`components.${re}.product_id`,control:N,render:({field:O})=>a.jsx(bT,{products:i,selectedProductId:O.value,onSelect:ae=>M(ae,re),excludeProductIds:X,placeholder:"Selecione um produto..."})}),k.components?.[re]?.product_id&&a.jsx("p",{className:"text-red-500 text-sm",children:k.components[re]?.product_id?.message})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(ft,{className:"text-xs",children:"Quantidade"}),a.jsx(Kt,{type:"number",step:"0.001",placeholder:"Qtd",value:Y.quantity||"",onChange:O=>I(re,parseFloat(O.target.value)||0)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(ft,{className:"text-xs",children:"Unidade"}),a.jsx(Kt,{value:Y.unit||"",disabled:!0,className:"bg-gray-100"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(ft,{className:"text-xs",children:"Custo Unit."}),a.jsx(Kt,{value:Y.unit_cost?`R$ ${Y.unit_cost.toFixed(2)}`:"",disabled:!0,className:"bg-gray-100"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(ft,{className:"text-xs",children:"Custo Total"}),a.jsx(Kt,{value:Y.total_cost?`R$ ${Y.total_cost.toFixed(2)}`:"",disabled:!0,className:"bg-gray-100 font-medium"})]})]}),a.jsx(pr,{type:"button",variant:"destructive",size:"sm",onClick:()=>D(re),className:"w-full",children:"Remover Componente"})]},Y.id)),te&&a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-amber-800",children:"Custo Total dos Componentes:"}),a.jsxs("span",{className:"text-lg font-bold text-amber-900",children:["R$ ",ce.toFixed(2)]})]}),u.automation.autoCalculateCosts&&a.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"O custo do produto será atualizado automaticamente"})]})]}),a.jsx("div",{className:"border-t pt-4 space-y-3",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{children:"Preço de Custo"}),a.jsx(Kt,{type:"number",step:"0.01",...v("cost_price"),className:te&&u.automation.autoCalculateCosts?"bg-amber-50":""}),k.cost_price&&a.jsx("p",{className:"text-red-500 text-sm",children:k.cost_price.message}),te&&u.automation.autoCalculateCosts&&a.jsx("p",{className:"text-xs text-amber-600",children:"Calculado automaticamente a partir dos componentes"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ft,{children:"Preço de Venda (opcional)"}),a.jsxs(pr,{type:"button",size:"sm",variant:"ghost",onClick:de,className:"h-auto py-1 px-2 text-xs",children:[a.jsx(N_,{className:"h-3 w-3 mr-1"}),"Calcular (",u.automation.defaultProfitMargin,"%)"]})]}),a.jsx(Kt,{type:"number",step:"0.01",...v("sale_price")}),k.sale_price&&a.jsx("p",{className:"text-red-500 text-sm",children:k.sale_price.message})]})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{children:"Fornecedor (opcional)"}),a.jsx(Kt,{...v("supplier")})]}),a.jsxs(jv,{className:"mt-6",children:[a.jsx(pr,{type:"button",variant:"outline",onClick:t,disabled:f,children:"Cancelar"}),a.jsx(pr,{type:"submit",disabled:f,children:f?"Salvando...":"Salvar"})]})]})]})})},jT=()=>{const{products:e,deleteProduct:t}=vr(),{productSettings:r}=Mo(),[s,i]=_.useState(""),[c,u]=_.useState("all"),[f,h]=_.useState("all"),[g,p]=_.useState(!1),[v,y]=_.useState(null),j=r.categories,S=[{value:"material_bruto",label:"Material Bruto"},{value:"parte_produto",label:"Parte de Produto"},{value:"produto_pronto",label:"Produto Pronto"}],b=e.filter(E=>{const V=E.name.toLowerCase().includes(s.toLowerCase())||E.description.toLowerCase().includes(s.toLowerCase()),A=c==="all"||E.category===c,M=f==="all"||E.type===f;return V&&A&&M}),N=E=>({material_bruto:"bg-blue-100 text-blue-800",parte_produto:"bg-yellow-100 text-yellow-800",produto_pronto:"bg-green-100 text-green-800"})[E]||"bg-gray-100 text-gray-800",k=E=>({material_bruto:"Material Bruto",parte_produto:"Parte de Produto",produto_pronto:"Produto Pronto"})[E]||E,C=E=>{y(E),p(!0)},P=E=>{window.confirm("Tem certeza que deseja excluir este produto?")&&t(E)},D=()=>{p(!1),y(null)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Gestão de Produtos"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie seus produtos e composições"})]}),a.jsxs("button",{onClick:()=>p(!0),className:"bg-gradient-to-r from-amber-600 to-orange-600 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:from-amber-700 hover:to-orange-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[a.jsx(cn,{className:"h-5 w-5"}),a.jsx("span",{children:"Novo Produto"})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:s,onChange:E=>i(E.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),a.jsxs("select",{value:c,onChange:E=>u(E.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Todas as Categorias"}),j.map(E=>a.jsx("option",{value:E,children:E},E))]}),a.jsxs("select",{value:f,onChange:E=>h(E.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Todos os Tipos"}),S.map(E=>a.jsx("option",{value:E.value,children:E.label},E.value))]})]})}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:b.map(E=>{const V=r.stockAlerts.enabled&&E.current_stock<=E.min_stock+r.stockAlerts.threshold,A=E.sale_price?(E.sale_price-E.cost_price)/E.sale_price*100:0;return a.jsx("div",{className:`bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 overflow-hidden ${V&&r.stockAlerts.highlightLowStock?"ring-2 ring-red-300 bg-red-50":""}`,children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:E.name}),a.jsxs("div",{className:"flex space-x-2 mb-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${N(E.type)}`,children:k(E.type)}),a.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm font-medium",children:E.category})]})]}),a.jsxs("div",{className:"flex space-x-2 ml-4",children:[a.jsx("button",{onClick:()=>C(E),className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",children:a.jsx(Po,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>P(E.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(gs,{className:"h-4 w-4"})})]})]}),a.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:E.description}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[a.jsx(ar,{className:"h-4 w-4 text-amber-600"}),a.jsxs("span",{className:"text-sm",children:["Unidade: ",E.unit]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Estoque Atual:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:`font-bold ${V&&r.stockAlerts.highlightLowStock?"text-red-600":"text-green-600"}`,children:[E.current_stock," ",E.unit]}),V&&r.stockAlerts.highlightLowStock&&a.jsx(ps,{className:"h-4 w-4 text-red-500"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Custo:"}),a.jsxs("span",{className:"font-medium text-red-600",children:["R$ ",E.cost_price.toFixed(2)]})]}),E.sale_price&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Preço de Venda:"}),a.jsxs("div",{className:"text-right",children:[a.jsxs("span",{className:"font-medium text-green-600",children:["R$ ",E.sale_price.toFixed(2)]}),A>0&&a.jsxs("div",{className:"flex items-center text-xs text-green-600",children:[a.jsx(Pf,{className:"h-3 w-3 mr-1"}),A.toFixed(1),"% lucro"]})]})]}),a.jsxs("div",{className:"border-t pt-3",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsxs("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:[a.jsx(W_,{className:"h-4 w-4 mr-1 text-amber-600"}),"Componentes (",E.components.length,")"]})}),a.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:E.components.map((M,I)=>a.jsxs("div",{className:"text-xs text-gray-500 flex justify-between",children:[a.jsx("span",{children:M.product_name}),a.jsxs("span",{children:[M.quantity," ",M.unit," - R$ ",M.total_cost.toFixed(2)]})]},I))})]}),E.supplier&&a.jsx("div",{className:"border-t pt-3",children:a.jsxs("div",{className:"text-xs text-gray-500",children:[a.jsx("strong",{children:"Fornecedor:"})," ",E.supplier]})})]}),V&&r.stockAlerts.enabled&&a.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ps,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:"text-sm font-medium text-red-800",children:"Estoque Baixo"})]}),a.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Estoque atual: ",E.current_stock," | Mínimo: ",E.min_stock," | Alerta: ",E.min_stock+r.stockAlerts.threshold]})]})]})},E.id)})}),b.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx(ar,{className:"h-16 w-16 mx-auto"})}),a.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:s||c!=="all"||f!=="all"?"Nenhum produto encontrado":"Nenhum produto cadastrado"}),a.jsx("p",{className:"text-gray-400",children:s||c!=="all"||f!=="all"?"Tente ajustar os filtros de busca":"Comece criando seu primeiro produto"})]})}),g&&a.jsx(_T,{product:v,onClose:D})]})},kT=({onClose:e})=>{const{products:t,projects:r,addStockMovement:s}=vr(),[i,c]=_.useState({product_id:"",type:"entrada",quantity:"",unit_price:"",project_id:"",date:new Date().toISOString().split("T")[0]}),[u,f]=_.useState(""),h=t.filter(y=>y.name.toLowerCase().includes(u.toLowerCase())||y.description.toLowerCase().includes(u.toLowerCase())),g=y=>{y.preventDefault();const j=t.find(C=>C.id===i.product_id),S=r.find(C=>C.id===i.project_id);if(!j)return;const b=parseFloat(i.quantity),N=i.unit_price?parseFloat(i.unit_price):void 0,k={product_id:i.product_id,product_name:j.name,type:i.type,quantity:b,unit_price:N,total_value:N?b*N:void 0,project_id:i.project_id||void 0,project_title:S?.title,date:i.date};s(k),e()},p=y=>{c(j=>({...j,[y.target.name]:y.target.value}))},v=t.find(y=>y.id===i.product_id);return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-xl",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Nova Movimentação de Estoque"}),a.jsx("button",{onClick:e,className:"p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",children:a.jsx(Jt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Tipo de Movimentação"}),a.jsxs("div",{className:"flex space-x-6",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"type",value:"entrada",checked:i.type==="entrada",onChange:p,className:"mr-2 text-green-600 focus:ring-green-500"}),a.jsx("span",{className:"text-sm font-medium text-green-700",children:"Entrada"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"type",value:"saida",checked:i.type==="saida",onChange:p,className:"mr-2 text-red-600 focus:ring-red-500"}),a.jsx("span",{className:"text-sm font-medium text-red-700",children:"Saída"})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(ar,{className:"h-4 w-4 inline mr-2 text-blue-600"}),"Produto"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Buscar produto...",value:u,onChange:y=>f(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("select",{name:"product_id",value:i.product_id,onChange:p,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Selecione um produto"}),h.map(y=>a.jsxs("option",{value:y.id,children:[y.name," - Estoque: ",y.current_stock," ",y.unit]},y.id))]})]}),v&&a.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Estoque atual:"})," ",v.current_stock," ",v.unit]}),a.jsx("p",{className:"text-sm text-blue-600",children:v.description})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantidade"}),a.jsx("input",{type:"number",name:"quantity",value:i.quantity,onChange:p,required:!0,min:"0.01",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Vn,{className:"h-4 w-4 inline mr-2 text-blue-600"}),"Data"]}),a.jsx("input",{type:"date",name:"date",value:i.date,onChange:p,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),i.type==="entrada"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(xr,{className:"h-4 w-4 inline mr-2 text-green-600"}),"Preço Unitário (R$) - Opcional"]}),a.jsx("input",{type:"number",name:"unit_price",value:i.unit_price,onChange:p,min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0,00"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Un,{className:"h-4 w-4 inline mr-2 text-blue-600"}),"Projeto (opcional)"]}),a.jsxs("select",{name:"project_id",value:i.project_id,onChange:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Selecione um projeto"}),r.map(y=>a.jsxs("option",{value:y.id,children:["#",y.number," - ",y.title]},y.id))]})]}),i.quantity&&i.unit_price&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium text-green-800",children:"Valor Total:"}),a.jsxs("span",{className:"font-bold text-green-800",children:["R$ ",(parseFloat(i.quantity)*parseFloat(i.unit_price)).toFixed(2)]})]})}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:"Cancelar"}),a.jsx("button",{type:"submit",className:`flex-1 px-6 py-3 text-white rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl ${i.type==="entrada"?"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800":"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800"}`,children:"Registrar Movimentação"})]})]})]})})},ST=()=>{const{products:e,stockMovements:t}=vr(),[r,s]=_.useState(""),[i,c]=_.useState("all"),[u,f]=_.useState(!1),h=t.filter(p=>{const v=p.product_name.toLowerCase().includes(r.toLowerCase())||p.project_title?.toLowerCase().includes(r.toLowerCase()),y=i==="all"||p.type===i;return v&&y}),g=e.filter(p=>p.current_stock<=p.min_stock);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Controle de Estoque"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Monitore movimentações e níveis de estoque"})]}),a.jsxs("button",{onClick:()=>f(!0),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-lg hover:shadow-xl",children:[a.jsx(cn,{className:"h-5 w-5"}),a.jsx("span",{children:"Nova Movimentação"})]})]}),g.length>0&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h2",{className:"text-lg font-semibold text-red-800 flex items-center",children:[a.jsx(ar,{className:"h-5 w-5 mr-2"}),"Produtos com Estoque Baixo (",g.length,")"]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(p=>a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-red-200",children:[a.jsx("h3",{className:"font-medium text-gray-800",children:p.name}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:["Atual: ",p.current_stock," ",p.unit]}),a.jsxs("span",{className:"text-sm text-red-600",children:["Mín: ",p.min_stock," ",p.unit]})]})]},p.id))})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Buscar movimentações...",value:r,onChange:p=>s(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("select",{value:i,onChange:p=>c(p.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Todos os Tipos"}),a.jsx("option",{value:"entrada",children:"Entradas"}),a.jsx("option",{value:"saida",children:"Saídas"})]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Histórico de Movimentações"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantidade"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor Unit."}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Projeto"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(p=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[p.type==="entrada"?a.jsx(X0,{className:"h-5 w-5 text-green-500 mr-2"}):a.jsx(Y0,{className:"h-5 w-5 text-red-500 mr-2"}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p.type==="entrada"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:p.type==="entrada"?"Entrada":"Saída"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.product_name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:p.quantity})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:p.unit_price?`R$ ${p.unit_price.toFixed(2)}`:"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.total_value?`R$ ${p.total_value.toFixed(2)}`:"-"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-600",children:p.project_title||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vn,{className:"h-4 w-4 mr-2"}),new Date(p.date).toLocaleDateString("pt-BR")]})})]},p.id))})]})}),h.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ar,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"Nenhuma movimentação encontrada"}),a.jsx("p",{className:"text-gray-400",children:"Tente ajustar os filtros ou adicione uma nova movimentação"})]})]}),u&&a.jsx(kT,{onClose:()=>f(!1)})]})},NT=({user:e,onClose:t})=>{const{addUser:r,updateUser:s,changePassword:i}=Ba(),[c,u]=_.useState({name:"",email:"",role:"user",active:!0,password:"",confirmPassword:""}),[f,h]=_.useState(!1),[g,p]=_.useState(!1),[v,y]=_.useState(!1);_.useEffect(()=>{e&&u({name:e.name,email:e.email,role:e.role,active:e.active,password:"",confirmPassword:""})},[e]);const j=b=>{if(b.preventDefault(),c.password!==c.confirmPassword){alert("As senhas não coincidem!");return}if(e)s(e.id,{name:c.name,email:c.email,role:c.role,active:c.active}),c.password&&v&&i(e.id,c.password);else{if(!c.password){alert("Senha é obrigatória para novos usuários!");return}r({name:c.name,email:c.email,role:c.role,active:c.active,password:c.password})}t()},S=b=>{const{name:N,value:k,type:C}=b.target;u(P=>({...P,[N]:C==="checkbox"?b.target.checked:k}))};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-t-xl",children:[a.jsx("h2",{className:"text-2xl font-bold",children:e?"Editar Usuário":"Novo Usuário"}),a.jsx("button",{onClick:t,className:"p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",children:a.jsx(Jt,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Ao,{className:"h-4 w-4 inline mr-2 text-amber-600"}),"Nome Completo"]}),a.jsx("input",{type:"text",name:"name",value:c.name,onChange:S,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Digite o nome completo"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Io,{className:"h-4 w-4 inline mr-2 text-amber-600"}),"Email"]}),a.jsx("input",{type:"email",name:"email",value:c.email,onChange:S,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"usuario@email.com"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Cl,{className:"h-4 w-4 inline mr-2 text-amber-600"}),"Nível de Acesso"]}),a.jsxs("select",{name:"role",value:c.role,onChange:S,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[a.jsx("option",{value:"user",children:"Usuário"}),a.jsx("option",{value:"admin",children:"Administrador"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:c.role==="admin"?"Acesso total ao sistema, incluindo gerenciamento de usuários":"Acesso às funcionalidades básicas do sistema"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"active",checked:c.active,onChange:S,className:"mr-2 text-amber-600 focus:ring-amber-500"}),a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Usuário Ativo"})]}),a.jsxs("div",{className:"border-t pt-6",children:[e&&a.jsx("div",{className:"mb-4",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:v,onChange:b=>y(b.target.checked),className:"mr-2 text-amber-600 focus:ring-amber-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Alterar senha"})]})}),(!e||v)&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Ld,{className:"h-4 w-4 inline mr-2 text-amber-600"}),e?"Nova Senha":"Senha"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:f?"text":"password",name:"password",value:c.password,onChange:S,required:!e,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"••••••••"}),a.jsx("button",{type:"button",onClick:()=>h(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f?a.jsx(zd,{className:"h-5 w-5"}):a.jsx(Fd,{className:"h-5 w-5"})})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Ld,{className:"h-4 w-4 inline mr-2 text-amber-600"}),"Confirmar Senha"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:g?"text":"password",name:"confirmPassword",value:c.confirmPassword,onChange:S,required:!e||v,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"••••••••"}),a.jsx("button",{type:"button",onClick:()=>p(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g?a.jsx(zd,{className:"h-5 w-5"}):a.jsx(Fd,{className:"h-5 w-5"})})]})]})]})]}),a.jsxs("div",{className:"flex space-x-4 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-lg hover:from-amber-700 hover:to-orange-700 font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:e?"Atualizar":"Criar"})]})]})]})})},CT=({onClose:e})=>{const{pdfSettings:t,updatePDFSettings:r,resetPDFSettings:s}=Mo(),[i,c]=_.useState("watermark"),u=(p,v)=>{r({watermark:{...t.watermark,[p]:v}})},f=(p,v)=>{if(p.startsWith("companyName.")){const y=p.split(".")[1];r({header:{...t.header,companyName:{...t.header.companyName,[y]:v}}})}else if(p.startsWith("gradient.")){const y=p.split(".")[1];r({header:{...t.header,gradient:{...t.header.gradient,[y]:v}}})}else r({header:{...t.header,[p]:v}})},h=()=>{window.confirm("Tem certeza que deseja restaurar as configurações padrão?")&&s()},g=[{id:"watermark",label:"Marca d'água",icon:$_},{id:"header",label:"Cabeçalho",icon:D_}];return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-xl",children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[a.jsx(Wr,{className:"h-6 w-6 mr-2"}),"Configurações do PDF"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:h,className:"p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",title:"Restaurar padrões",children:a.jsx(Ef,{className:"h-5 w-5"})}),a.jsx("button",{onClick:e,className:"p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",children:a.jsx(Jt,{className:"h-6 w-6"})})]})]}),a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"w-64 bg-gray-50 border-r border-gray-200",children:a.jsx("div",{className:"p-4",children:a.jsx("nav",{className:"space-y-2",children:g.map(p=>{const v=p.icon;return a.jsxs("button",{onClick:()=>c(p.id),className:`w-full flex items-center space-x-3 px-4 py-3 text-left rounded-lg transition-colors ${i===p.id?"bg-blue-100 text-blue-700 border border-blue-200":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(v,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:p.label})]},p.id)})})})}),a.jsxs("div",{className:"flex-1 p-6",children:[i==="watermark"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Configurações da Marca d'água"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsx("div",{children:a.jsxs("label",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("input",{type:"checkbox",checked:t.watermark.enabled,onChange:p=>u("enabled",p.target.checked),className:"text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"font-medium text-gray-700",children:"Habilitar marca d'água"})]})})}),t.watermark.enabled&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Opacidade: ",Math.round(t.watermark.opacity*100),"%"]}),a.jsx("input",{type:"range",min:"0.01",max:"0.5",step:"0.01",value:t.watermark.opacity,onChange:p=>u("opacity",parseFloat(p.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"1%"}),a.jsx("span",{children:"50%"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tamanho: ",t.watermark.size,"px"]}),a.jsx("input",{type:"range",min:"40",max:"150",step:"5",value:t.watermark.size,onChange:p=>u("size",parseInt(p.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"40px"}),a.jsx("span",{children:"150px"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Posição"}),a.jsxs("select",{value:t.watermark.position,onChange:p=>u("position",p.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"center",children:"Centro"}),a.jsx("option",{value:"top-left",children:"Superior Esquerdo"}),a.jsx("option",{value:"top-right",children:"Superior Direito"}),a.jsx("option",{value:"bottom-left",children:"Inferior Esquerdo"}),a.jsx("option",{value:"bottom-right",children:"Inferior Direito"})]})]})]})]}),i==="header"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Configurações do Cabeçalho"}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 p-6 rounded-lg border border-purple-200",children:[a.jsxs("h4",{className:"text-lg font-semibold text-purple-800 mb-4 flex items-center",children:[a.jsx(q_,{className:"h-5 w-5 mr-2"}),"Gradiente do Cabeçalho"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:t.header.gradient.enabled,onChange:p=>f("gradient.enabled",p.target.checked),className:"text-purple-600 focus:ring-purple-500"}),a.jsx("span",{className:"font-medium text-purple-700",children:"Usar gradiente no cabeçalho"})]}),t.header.gradient.enabled&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Cor Inicial"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"color",value:t.header.gradient.startColor,onChange:p=>f("gradient.startColor",p.target.value),className:"w-12 h-10 border border-purple-300 rounded cursor-pointer"}),a.jsx("input",{type:"text",value:t.header.gradient.startColor,onChange:p=>f("gradient.startColor",p.target.value),className:"flex-1 px-3 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"#4682B4"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Cor Final"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"color",value:t.header.gradient.endColor,onChange:p=>f("gradient.endColor",p.target.value),className:"w-12 h-10 border border-purple-300 rounded cursor-pointer"}),a.jsx("input",{type:"text",value:t.header.gradient.endColor,onChange:p=>f("gradient.endColor",p.target.value),className:"flex-1 px-3 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"#1E40AF"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Direção do Gradiente"}),a.jsxs("select",{value:t.header.gradient.direction,onChange:p=>f("gradient.direction",p.target.value),className:"w-full px-4 py-3 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[a.jsx("option",{value:"horizontal",children:"Horizontal (esquerda → direita)"}),a.jsx("option",{value:"vertical",children:"Vertical (cima → baixo)"}),a.jsx("option",{value:"diagonal-right",children:"Diagonal (↘)"}),a.jsx("option",{value:"diagonal-left",children:"Diagonal (↙)"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Pré-visualização"}),a.jsx("div",{className:"w-full h-16 rounded-lg border border-purple-300",style:{background:t.header.gradient.direction==="horizontal"?`linear-gradient(to right, ${t.header.gradient.startColor}, ${t.header.gradient.endColor})`:t.header.gradient.direction==="vertical"?`linear-gradient(to bottom, ${t.header.gradient.startColor}, ${t.header.gradient.endColor})`:t.header.gradient.direction==="diagonal-right"?`linear-gradient(to bottom right, ${t.header.gradient.startColor}, ${t.header.gradient.endColor})`:`linear-gradient(to bottom left, ${t.header.gradient.startColor}, ${t.header.gradient.endColor})`}})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tamanho da Fonte: ",t.header.companyName.fontSize,"pt"]}),a.jsx("input",{type:"range",min:"12",max:"24",step:"1",value:t.header.companyName.fontSize,onChange:p=>f("companyName.fontSize",parseInt(p.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"12pt"}),a.jsx("span",{children:"24pt"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Peso da Fonte"}),a.jsxs("select",{value:t.header.companyName.fontWeight,onChange:p=>f("companyName.fontWeight",p.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"normal",children:"Normal"}),a.jsx("option",{value:"bold",children:"Negrito"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor do Texto"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"color",value:t.header.companyName.color,onChange:p=>f("companyName.color",p.target.value),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),a.jsx("input",{type:"text",value:t.header.companyName.color,onChange:p=>f("companyName.color",p.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"#FFFFFF"})]})]}),!t.header.gradient.enabled&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor de Fundo"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"color",value:t.header.backgroundColor,onChange:p=>f("backgroundColor",p.target.value),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),a.jsx("input",{type:"text",value:t.header.backgroundColor,onChange:p=>f("backgroundColor",p.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"#4682B4"})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Altura do Cabeçalho: ",t.header.height,"px"]}),a.jsx("input",{type:"range",min:"25",max:"50",step:"1",value:t.header.height,onChange:p=>f("height",parseInt(p.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"25px"}),a.jsx("span",{children:"50px"})]})]})]})]})]}),a.jsx("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-200",children:a.jsx("button",{onClick:e,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:"Salvar Configurações"})})]})})},ET=({onClose:e})=>{const{companySettings:t,updateCompanySettings:r,resetCompanySettings:s}=Mo(),[i,c]=_.useState("basic"),u=(k,C)=>{r({basic:{...t.basic,[k]:C}})},f=(k,C)=>{r({address:{...t.address,[k]:C}})},h=(k,C)=>{r({fiscal:{...t.fiscal,[k]:C}})},g=(k,C)=>{r({banking:{...t.banking,[k]:C}})},p=()=>{window.confirm("Tem certeza que deseja restaurar as configurações padrão da empresa?")&&s()},v=k=>k.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),y=k=>k.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4,5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1"),j=k=>k.replace(/\D/g,"").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{3})\d+?$/,"$1"),S=[{id:"basic",label:"Dados Básicos",icon:yl},{id:"address",label:"Endereço",icon:Cf},{id:"fiscal",label:"Informações Fiscais",icon:Wr},{id:"banking",label:"Dados Bancários",icon:Po}],b=[{value:"simples_nacional",label:"Simples Nacional"},{value:"lucro_presumido",label:"Lucro Presumido"},{value:"lucro_real",label:"Lucro Real"},{value:"mei",label:"MEI - Microempreendedor Individual"}],N=[{value:"1",label:"1 - Simples Nacional"},{value:"2",label:"2 - Simples Nacional - Excesso"},{value:"3",label:"3 - Regime Normal"}];return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-t-xl",children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[a.jsx(yl,{className:"h-6 w-6 mr-2"}),"Configurações da Empresa"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:p,className:"p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",title:"Restaurar padrões",children:a.jsx(Ef,{className:"h-5 w-5"})}),a.jsx("button",{onClick:e,className:"p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",children:a.jsx(Jt,{className:"h-6 w-6"})})]})]}),a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"w-64 bg-gray-50 border-r border-gray-200",children:a.jsx("div",{className:"p-4",children:a.jsx("nav",{className:"space-y-2",children:S.map(k=>{const C=k.icon;return a.jsxs("button",{onClick:()=>c(k.id),className:`w-full flex items-center space-x-3 px-4 py-3 text-left rounded-lg transition-colors ${i===k.id?"bg-indigo-100 text-indigo-700 border border-indigo-200":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(C,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:k.label})]},k.id)})})})}),a.jsxs("div",{className:"flex-1 p-6",children:[i==="basic"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Dados Básicos da Empresa"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(yl,{className:"h-4 w-4 inline mr-2 text-indigo-600"}),"Razão Social"]}),a.jsx("input",{type:"text",value:t.basic.name,onChange:k=>u("name",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Nome completo da empresa"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Fantasia"}),a.jsx("input",{type:"text",value:t.basic.tradeName,onChange:k=>u("tradeName",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Nome comercial"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Io,{className:"h-4 w-4 inline mr-2 text-indigo-600"}),"Email Principal"]}),a.jsx("input",{type:"email",value:t.basic.email,onChange:k=>u("email",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"contato@empresa.com"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(T_,{className:"h-4 w-4 inline mr-2 text-indigo-600"}),"Website"]}),a.jsx("input",{type:"url",value:t.basic.website,onChange:k=>u("website",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"www.empresa.com.br"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Sl,{className:"h-4 w-4 inline mr-2 text-indigo-600"}),"Telefone Fixo"]}),a.jsx("input",{type:"tel",value:t.basic.phone,onChange:k=>u("phone",y(k.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"(11) 3333-3333"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Celular/WhatsApp"}),a.jsx("input",{type:"tel",value:t.basic.mobile,onChange:k=>u("mobile",y(k.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"(11) 99999-9999"})]})]})]}),i==="address"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Endereço da Empresa"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CEP"}),a.jsx("input",{type:"text",value:t.address.zipCode,onChange:k=>f("zipCode",j(k.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"00000-000"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),a.jsx("input",{type:"text",value:t.address.state,onChange:k=>f("state",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"SP"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cidade"}),a.jsx("input",{type:"text",value:t.address.city,onChange:k=>f("city",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"São Paulo"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logradouro"}),a.jsx("input",{type:"text",value:t.address.street,onChange:k=>f("street",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Rua das Flores"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bairro"}),a.jsx("input",{type:"text",value:t.address.neighborhood,onChange:k=>f("neighborhood",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Centro"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número"}),a.jsx("input",{type:"text",value:t.address.number,onChange:k=>f("number",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"123"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complemento"}),a.jsx("input",{type:"text",value:t.address.complement,onChange:k=>f("complement",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Sala 101"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"País"}),a.jsx("input",{type:"text",value:t.address.country,onChange:k=>f("country",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Brasil"})]})]})]}),i==="fiscal"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Informações Fiscais"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(R_,{className:"h-4 w-4 inline mr-2 text-indigo-600"}),"CNPJ"]}),a.jsx("input",{type:"text",value:t.fiscal.cnpj,onChange:k=>h("cnpj",v(k.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"00.000.000/0000-00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inscrição Estadual"}),a.jsx("input",{type:"text",value:t.fiscal.ie,onChange:k=>h("ie",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"123456789"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inscrição Municipal"}),a.jsx("input",{type:"text",value:t.fiscal.im,onChange:k=>h("im",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"123456"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CNAE Principal"}),a.jsx("input",{type:"text",value:t.fiscal.cnae,onChange:k=>h("cnae",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"1622-9/00"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Cl,{className:"h-4 w-4 inline mr-2 text-indigo-600"}),"Regime Tributário"]}),a.jsx("select",{value:t.fiscal.taxRegime,onChange:k=>h("taxRegime",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:b.map(k=>a.jsx("option",{value:k.value,children:k.label},k.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CRT (Código de Regime Tributário)"}),a.jsx("select",{value:t.fiscal.crt,onChange:k=>h("crt",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:N.map(k=>a.jsx("option",{value:k.value,children:k.label},k.value))})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-800 mb-4",children:"Contribuições"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:t.fiscal.icmsContributor,onChange:k=>h("icmsContributor",k.target.checked),className:"mr-2 text-indigo-600 focus:ring-indigo-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"ICMS"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:t.fiscal.issContributor,onChange:k=>h("issContributor",k.target.checked),className:"mr-2 text-indigo-600 focus:ring-indigo-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"ISS"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:t.fiscal.pisContributor,onChange:k=>h("pisContributor",k.target.checked),className:"mr-2 text-indigo-600 focus:ring-indigo-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"PIS"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:t.fiscal.cofinsContributor,onChange:k=>h("cofinsContributor",k.target.checked),className:"mr-2 text-indigo-600 focus:ring-indigo-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"COFINS"})]})]})]})]}),i==="banking"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Dados Bancários"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(k_,{className:"h-4 w-4 inline mr-2 text-indigo-600"}),"Banco"]}),a.jsx("input",{type:"text",value:t.banking.bank,onChange:k=>g("bank",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Nome do banco"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agência"}),a.jsx("input",{type:"text",value:t.banking.agency,onChange:k=>g("agency",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"0000"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Conta"}),a.jsx("input",{type:"text",value:t.banking.account,onChange:k=>g("account",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"00000-0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Conta"}),a.jsxs("select",{value:t.banking.accountType,onChange:k=>g("accountType",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"corrente",children:"Conta Corrente"}),a.jsx("option",{value:"poupanca",children:"Conta Poupança"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chave PIX"}),a.jsx("input",{type:"text",value:t.banking.pix,onChange:k=>g("pix",k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"CPF, CNPJ, email ou telefone"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pode ser CPF, CNPJ, email, telefone ou chave aleatória"})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"💡 Dica"}),a.jsx("p",{className:"text-sm text-blue-700",children:"Essas informações podem ser utilizadas em documentos fiscais e propostas comerciais. Mantenha sempre atualizadas para garantir a credibilidade da empresa."})]})]})]})]}),a.jsx("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-200",children:a.jsx("button",{onClick:e,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:"Salvar Configurações"})})]})})},PT=({onClose:e})=>{const{exportClientsCSV:t,exportProductsCSV:r,exportProjectsCSV:s,exportTransactionsCSV:i,importClientsCSV:c,importProductsCSV:u,importProjectsCSV:f,importTransactionsCSV:h}=vr(),[g,p]=_.useState("export"),[v,y]=_.useState(!1),j=_.useRef(null),S=_.useRef(null),b=_.useRef(null),N=_.useRef(null),k=async(D,E)=>{y(!0);try{switch(D){case"clients":await c(E);break;case"products":await u(E);break;case"projects":await f(E);break;case"transactions":await h(E);break}alert("Importação realizada com sucesso!")}catch(V){alert("Erro na importação: "+V)}finally{y(!1)}},C=D=>{const E=D==="clients"?j.current:D==="products"?S.current:D==="projects"?b.current:N.current;E?.files?.[0]&&k(D,E.files[0])},P=[{id:"clients",title:"Clientes",description:"Exportar lista completa de clientes",icon:xs,color:"text-blue-600",bgColor:"bg-blue-50",action:t},{id:"products",title:"Produtos",description:"Exportar catálogo de produtos",icon:ar,color:"text-green-600",bgColor:"bg-green-50",action:r},{id:"projects",title:"Projetos",description:"Exportar lista de projetos",icon:Un,color:"text-amber-600",bgColor:"bg-amber-50",action:s},{id:"transactions",title:"Transações",description:"Exportar histórico financeiro",icon:xr,color:"text-purple-600",bgColor:"bg-purple-50",action:i}];return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-xl",children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[a.jsx(Wr,{className:"h-6 w-6 mr-2"}),"Importar / Exportar Dados"]}),a.jsx("button",{onClick:e,className:"p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",children:a.jsx(Jt,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"flex border-b border-gray-200",children:[a.jsxs("button",{onClick:()=>p("export"),className:`flex-1 py-4 px-6 text-center font-medium transition-colors ${g==="export"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(Nf,{className:"h-5 w-5 inline mr-2"}),"Exportar"]}),a.jsxs("button",{onClick:()=>p("import"),className:`flex-1 py-4 px-6 text-center font-medium transition-colors ${g==="import"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(ox,{className:"h-5 w-5 inline mr-2"}),"Importar"]})]}),a.jsxs("div",{className:"p-6",children:[g==="export"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Exportar Dados"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Baixe seus dados em formato CSV para backup ou análise externa."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:P.map(D=>{const E=D.icon;return a.jsx("button",{onClick:D.action,className:`${D.bgColor} border border-gray-200 rounded-lg p-6 text-left hover:shadow-md transition-all duration-200 hover:scale-105`,children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`p-3 rounded-full bg-white ${D.color}`,children:a.jsx(E,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:D.title}),a.jsx("p",{className:"text-sm text-gray-600",children:D.description})]})]})},D.id)})})]}),g==="import"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Importar Dados"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Carregue dados de arquivos CSV. Certifique-se de que o formato está correto."})]}),v&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Processando importação..."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-gray-200 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-white text-blue-600",children:a.jsx(xs,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Clientes"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Importar lista de clientes"})]})]}),a.jsx("input",{ref:j,type:"file",accept:".csv",onChange:()=>C("clients"),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",disabled:v})]}),a.jsxs("div",{className:"bg-green-50 border border-gray-200 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-white text-green-600",children:a.jsx(ar,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Produtos"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Importar catálogo de produtos"})]})]}),a.jsx("input",{ref:S,type:"file",accept:".csv",onChange:()=>C("products"),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100",disabled:v})]}),a.jsxs("div",{className:"bg-amber-50 border border-gray-200 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-white text-amber-600",children:a.jsx(Un,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Projetos"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Importar lista de projetos"})]})]}),a.jsx("input",{ref:b,type:"file",accept:".csv",onChange:()=>C("projects"),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100",disabled:v})]}),a.jsxs("div",{className:"bg-purple-50 border border-gray-200 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-white text-purple-600",children:a.jsx(xr,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Transações"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Importar histórico financeiro"})]})]}),a.jsx("input",{ref:N,type:"file",accept:".csv",onChange:()=>C("transactions"),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100",disabled:v})]})]}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Formato dos Arquivos CSV"}),a.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Clientes:"})," tipo, nome, endereco, tipopessoa, fone_comercial, fone_celular, cep, cidade, email, cpf_cnpj, inscricao_estadual, bairro, complemento, numero, isento_icms, razao_social, id_empresa, fl_ativo"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Produtos:"})," id, nome, descricao, categoria, unidade, componentes"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Projetos:"})," numero, cliente, titulo, descricao, status, tipo, orcamento, data_inicio, data_fim, custo_materiais, custo_mao_obra, margem_lucro"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Transações:"})," tipo, categoria, descricao, valor, data, projeto"]})]})]})]})]}),a.jsx("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-200",children:a.jsx("button",{onClick:e,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:"Fechar"})})]})})},AT=({onClose:e})=>{const{productSettings:t,updateProductSettings:r,resetProductSettings:s}=Mo(),[i,c]=_.useState("categories"),[u,f]=_.useState(""),[h,g]=_.useState(""),[p,v]=_.useState(null),[y,j]=_.useState(null),S=()=>{u.trim()&&!t.categories.includes(u.trim())&&(r({categories:[...t.categories,u.trim()]}),f(""))},b=()=>{h.trim()&&!t.units.includes(h.trim())&&(r({units:[...t.units,h.trim()]}),g(""))},N=M=>{if(window.confirm("Tem certeza que deseja excluir esta categoria?")){const I=t.categories.filter((de,be)=>be!==M);r({categories:I})}},k=M=>{if(window.confirm("Tem certeza que deseja excluir esta unidade?")){const I=t.units.filter((de,be)=>be!==M);r({units:I})}},C=(M,I)=>{if(I.trim()&&!t.categories.includes(I.trim())){const de=[...t.categories];de[M]=I.trim(),r({categories:de})}v(null)},P=(M,I)=>{if(I.trim()&&!t.units.includes(I.trim())){const de=[...t.units];de[M]=I.trim(),r({units:de})}j(null)},D=(M,I)=>{r({stockAlerts:{...t.stockAlerts,[M]:I}})},E=(M,I)=>{r({automation:{...t.automation,[M]:I}})},V=()=>{window.confirm("Tem certeza que deseja restaurar todas as configurações padrão?")&&s()},A=[{id:"categories",label:"Categorias",icon:sx},{id:"units",label:"Unidades",icon:ar},{id:"alerts",label:"Alertas",icon:ps},{id:"automation",label:"Automação",icon:Nl}];return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-t-xl",children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[a.jsx(ar,{className:"h-6 w-6 mr-2"}),"Configurações de Produtos e Estoque"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:V,className:"p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",title:"Restaurar padrões",children:a.jsx(Ef,{className:"h-5 w-5"})}),a.jsx("button",{onClick:e,className:"p-2 text-white hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",children:a.jsx(Jt,{className:"h-6 w-6"})})]})]}),a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"w-64 bg-gray-50 border-r border-gray-200",children:a.jsx("div",{className:"p-4",children:a.jsx("nav",{className:"space-y-2",children:A.map(M=>{const I=M.icon;return a.jsxs("button",{onClick:()=>c(M.id),className:`w-full flex items-center space-x-3 px-4 py-3 text-left rounded-lg transition-colors ${i===M.id?"bg-amber-100 text-amber-700 border border-amber-200":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(I,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:M.label})]},M.id)})})})}),a.jsxs("div",{className:"flex-1 p-6",children:[i==="categories"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Gerenciar Categorias"}),a.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200",children:[a.jsx("h4",{className:"font-medium text-amber-800 mb-3",children:"Adicionar Nova Categoria"}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("input",{type:"text",value:u,onChange:M=>f(M.target.value),placeholder:"Nome da categoria",className:"flex-1 px-3 py-2 border border-amber-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",onKeyPress:M=>M.key==="Enter"&&S()}),a.jsxs("button",{onClick:S,disabled:!u.trim(),className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[a.jsx(cn,{className:"h-4 w-4"}),a.jsx("span",{children:"Adicionar"})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"font-medium text-gray-700",children:["Categorias Existentes (",t.categories.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.categories.map((M,I)=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 flex items-center justify-between",children:p?.index===I?a.jsxs("div",{className:"flex-1 flex space-x-2",children:[a.jsx("input",{type:"text",value:p.value,onChange:de=>v({...p,value:de.target.value}),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-amber-500 focus:border-transparent",onKeyPress:de=>{de.key==="Enter"&&C(I,p.value)},autoFocus:!0}),a.jsx("button",{onClick:()=>C(I,p.value),className:"p-1 text-green-600 hover:bg-green-50 rounded",children:a.jsx(sg,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>v(null),className:"p-1 text-gray-600 hover:bg-gray-50 rounded",children:a.jsx(Jt,{className:"h-4 w-4"})})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-medium text-gray-800",children:M}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>v({index:I,value:M}),className:"p-1 text-amber-600 hover:bg-amber-50 rounded",children:a.jsx(Po,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>N(I),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:a.jsx(gs,{className:"h-4 w-4"})})]})]})},I))})]})]}),i==="units"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Gerenciar Unidades de Medida"}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-3",children:"Adicionar Nova Unidade"}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("input",{type:"text",value:h,onChange:M=>g(M.target.value),placeholder:"Sigla da unidade (ex: KG, M²)",className:"flex-1 px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:M=>M.key==="Enter"&&b()}),a.jsxs("button",{onClick:b,disabled:!h.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[a.jsx(cn,{className:"h-4 w-4"}),a.jsx("span",{children:"Adicionar"})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"font-medium text-gray-700",children:["Unidades Existentes (",t.units.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:t.units.map((M,I)=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 flex items-center justify-between",children:y?.index===I?a.jsxs("div",{className:"flex-1 flex space-x-2",children:[a.jsx("input",{type:"text",value:y.value,onChange:de=>j({...y,value:de.target.value}),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:de=>{de.key==="Enter"&&P(I,y.value)},autoFocus:!0}),a.jsx("button",{onClick:()=>P(I,y.value),className:"p-1 text-green-600 hover:bg-green-50 rounded",children:a.jsx(sg,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>j(null),className:"p-1 text-gray-600 hover:bg-gray-50 rounded",children:a.jsx(Jt,{className:"h-4 w-4"})})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-medium text-gray-800",children:M}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>j({index:I,value:M}),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:a.jsx(Po,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>k(I),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:a.jsx(gs,{className:"h-4 w-4"})})]})]})},I))})]})]}),i==="alerts"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Configurações de Alertas"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[a.jsx("h4",{className:"font-medium text-red-800 mb-4",children:"Alertas de Estoque Baixo"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:t.stockAlerts.enabled,onChange:M=>D("enabled",M.target.checked),className:"mr-3 text-red-600 focus:ring-red-500"}),a.jsx("span",{className:"font-medium text-red-700",children:"Habilitar alertas de estoque baixo"})]}),t.stockAlerts.enabled&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-red-700 mb-2",children:"Mostrar alerta quando estoque for menor ou igual a:"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"number",value:t.stockAlerts.threshold,onChange:M=>D("threshold",parseInt(M.target.value)||0),min:"0",className:"w-20 px-3 py-2 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),a.jsx("span",{className:"text-sm text-red-600",children:"unidades do estoque mínimo"})]})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:t.stockAlerts.showInDashboard,onChange:M=>D("showInDashboard",M.target.checked),className:"mr-3 text-red-600 focus:ring-red-500"}),a.jsx("span",{className:"text-sm text-red-700",children:"Mostrar alertas no dashboard"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:t.stockAlerts.highlightLowStock,onChange:M=>D("highlightLowStock",M.target.checked),className:"mr-3 text-red-600 focus:ring-red-500"}),a.jsx("span",{className:"text-sm text-red-700",children:"Destacar produtos com estoque baixo na lista"})]})]})]})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[a.jsx("h4",{className:"font-medium text-yellow-800 mb-4",children:"Alertas de Validade"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:t.stockAlerts.expirationAlerts,onChange:M=>D("expirationAlerts",M.target.checked),className:"mr-3 text-yellow-600 focus:ring-yellow-500"}),a.jsx("span",{className:"font-medium text-yellow-700",children:"Habilitar alertas de validade (futuro)"})]}),a.jsx("p",{className:"text-sm text-yellow-600",children:"Esta funcionalidade será implementada em versões futuras para produtos com data de validade."})]})]})]})]}),i==="automation"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Configurações de Automação"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[a.jsx("h4",{className:"font-medium text-green-800 mb-4",children:"Movimentação Automática de Estoque"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:t.automation.autoStockMovement,onChange:M=>E("autoStockMovement",M.target.checked),className:"mr-3 text-green-600 focus:ring-green-500"}),a.jsx("span",{className:"font-medium text-green-700",children:"Movimentar estoque automaticamente ao criar projetos"})]}),a.jsx("p",{className:"text-sm text-green-600 ml-6",children:"Quando habilitado, o sistema automaticamente reduzirá o estoque dos materiais ao criar um projeto."})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-4",children:"Cálculo Automático de Custos"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:t.automation.autoCalculateCosts,onChange:M=>E("autoCalculateCosts",M.target.checked),className:"mr-3 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"font-medium text-blue-700",children:"Calcular custos automaticamente"})]}),a.jsx("p",{className:"text-sm text-blue-600 ml-6",children:"Recalcula automaticamente o custo de produtos compostos quando o custo dos componentes é alterado."}),a.jsxs("div",{className:"ml-6",children:[a.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"Margem de lucro padrão para novos produtos (%):"}),a.jsx("input",{type:"number",value:t.automation.defaultProfitMargin,onChange:M=>E("defaultProfitMargin",parseFloat(M.target.value)||0),min:"0",max:"100",step:"0.1",className:"w-24 px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[a.jsx("h4",{className:"font-medium text-purple-800 mb-4",children:"Sugestões Inteligentes"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:t.automation.suggestReorder,onChange:M=>E("suggestReorder",M.target.checked),className:"mr-3 text-purple-600 focus:ring-purple-500"}),a.jsx("span",{className:"font-medium text-purple-700",children:"Sugerir reposição de estoque"})]}),a.jsx("p",{className:"text-sm text-purple-600 ml-6",children:"Sugere automaticamente quando é necessário repor o estoque baseado no histórico de consumo."}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:t.automation.suggestAlternatives,onChange:M=>E("suggestAlternatives",M.target.checked),className:"mr-3 text-purple-600 focus:ring-purple-500"}),a.jsx("span",{className:"font-medium text-purple-700",children:"Sugerir produtos alternativos"})]}),a.jsx("p",{className:"text-sm text-purple-600 ml-6",children:"Sugere produtos alternativos quando um item está em falta no estoque."})]})]})]})]})]})]}),a.jsx("div",{className:"flex justify-end space-x-4 p-6 border-t border-gray-200",children:a.jsx("button",{onClick:e,className:"px-6 py-3 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-lg hover:from-amber-700 hover:to-orange-700 font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:"Salvar Configurações"})})]})})},TT=({isOpen:e,onClose:t})=>{const[r,s]=_.useState(null),[i,c]=_.useState(null),[u,f]=_.useState(!1),[h,g]=_.useState(null),[p,v]=_.useState(!1),[y,j]=_.useState(!1),[S,b]=_.useState(""),[N,k]=_.useState("");_.useEffect(()=>{e&&(C(),P())},[e]);const C=()=>{const ce=mr().getConfig();s(ce),b(ce.supabase?.url||""),k(ce.supabase?.anonKey||"")},P=()=>{const X=mr();c(X.getSyncStatus())},D=async X=>{if(r)try{await mr().updateConfig({provider:X}),C(),P()}catch(ce){console.error("Failed to change provider:",ce),alert("Erro ao alterar provedor de armazenamento")}},E=async()=>{if(r)try{await mr().updateConfig({autoSync:!r.autoSync}),C()}catch(X){console.error("Failed to toggle auto sync:",X),alert("Erro ao alterar sincronização automática")}},V=async X=>{if(r)try{await mr().updateConfig({syncStrategy:X}),C()}catch(ce){console.error("Failed to change sync strategy:",ce),alert("Erro ao alterar estratégia de sincronização")}},A=async()=>{if(!S||!N){alert("Preencha URL e chave do Supabase");return}try{await mr().updateConfig({provider:"supabase",supabase:{url:S,anonKey:N}}),C(),alert("Configuração do Supabase salva com sucesso")}catch(X){console.error("Failed to save Supabase config:",X),alert("Erro ao salvar configuração do Supabase")}},M=async()=>{f(!0),g(null);try{const ce=await mr().testConnection();g(ce?"success":"error")}catch(X){console.error("Connection test failed:",X),g("error")}finally{f(!1)}},I=async()=>{v(!0);try{await mr().sync(),P(),alert("Sincronização concluída com sucesso")}catch(X){console.error("Sync failed:",X),alert("Erro ao sincronizar: "+X.message)}finally{v(!1)}},de=async()=>{if(confirm("Deseja migrar todos os dados do Supabase para o armazenamento local? Esta operação pode demorar alguns minutos.")){j(!0);try{await mr().migrateFromSupabase(),alert("Migração concluída com sucesso! Todos os dados foram importados para o armazenamento local.")}catch(X){console.error("Migration failed:",X),alert("Erro ao migrar dados: "+X.message)}finally{j(!1)}}},be=async()=>{try{const ce=await mr().exportData(),te=new Blob([ce],{type:"application/json"}),Y=URL.createObjectURL(te),re=document.createElement("a");re.href=Y,re.download=`backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(re),re.click(),document.body.removeChild(re),URL.revokeObjectURL(Y)}catch(X){console.error("Export failed:",X),alert("Erro ao exportar dados")}},ue=async X=>{const ce=X.target.files?.[0];if(ce)try{const te=await ce.text();await mr().importData(te),alert("Dados importados com sucesso!")}catch(te){console.error("Import failed:",te),alert("Erro ao importar dados: arquivo inválido")}};return!e||!r?null:a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Configurações de Sincronização"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Jt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(kl,{className:"w-5 h-5 text-blue-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-blue-900",children:"Status da Sincronização"}),a.jsxs("div",{className:"mt-2 space-y-1 text-sm text-blue-800",children:[a.jsxs("p",{children:["Provedor: ",a.jsx("strong",{children:r.provider==="local"?"Local":"Supabase"})]}),i&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:["Status: ",a.jsx("strong",{children:i.isOnline?"Online":"Offline"})]}),a.jsxs("p",{children:["Operações pendentes: ",a.jsx("strong",{children:i.pendingOperations})]}),i.lastSync&&a.jsxs("p",{children:["Última sincronização: ",a.jsx("strong",{children:new Date(i.lastSync).toLocaleString()})]})]})]})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Provedor de Armazenamento"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:()=>D("local"),className:`p-4 border-2 rounded-lg transition-all ${r.provider==="local"?"border-[#8B4513] bg-[#8B4513]/5":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx(O_,{className:"w-8 h-8 mx-auto mb-2 text-[#8B4513]"}),a.jsx("div",{className:"font-medium",children:"Local"}),a.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Armazenamento offline"})]}),a.jsxs("button",{onClick:()=>D("supabase"),className:`p-4 border-2 rounded-lg transition-all ${r.provider==="supabase"?"border-[#8B4513] bg-[#8B4513]/5":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx(kl,{className:"w-8 h-8 mx-auto mb-2 text-[#8B4513]"}),a.jsx("div",{className:"font-medium",children:"Supabase"}),a.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Sincronização na nuvem"})]})]})]}),r.provider==="supabase"&&a.jsxs("div",{className:"space-y-4 border-t pt-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Configuração Supabase"}),a.jsxs("div",{children:[a.jsx(ft,{htmlFor:"supabase-url",children:"URL do Projeto"}),a.jsx(Kt,{id:"supabase-url",type:"url",value:S,onChange:X=>b(X.target.value),placeholder:"https://seu-projeto.supabase.co"})]}),a.jsxs("div",{children:[a.jsx(ft,{htmlFor:"supabase-key",children:"Chave Anônima (Anon Key)"}),a.jsx(Kt,{id:"supabase-key",type:"password",value:N,onChange:X=>k(X.target.value),placeholder:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(pr,{onClick:A,className:"flex-1",children:"Salvar Configuração"}),a.jsx(pr,{onClick:M,disabled:u,variant:"outline",className:"flex-1",children:u?"Testando...":"Testar Conexão"})]}),h&&a.jsx("div",{className:`flex items-center gap-2 p-3 rounded-lg ${h==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:h==="success"?a.jsxs(a.Fragment,{children:[a.jsx(C_,{className:"w-5 h-5"})," Conexão bem-sucedida!"]}):a.jsxs(a.Fragment,{children:[a.jsx(Q0,{className:"w-5 h-5"})," Falha na conexão"]})})]}),r.provider!=="local"&&a.jsxs("div",{className:"space-y-4 border-t pt-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Opções de Sincronização"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Sincronização Automática"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Sincronizar automaticamente a cada 5 minutos"})]}),a.jsx("button",{onClick:E,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${r.autoSync?"bg-[#8B4513]":"bg-gray-300"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${r.autoSync?"translate-x-6":"translate-x-1"}`})})]}),a.jsxs("div",{children:[a.jsx(ft,{children:"Estratégia de Resolução de Conflitos"}),a.jsxs("select",{value:r.syncStrategy,onChange:X=>V(X.target.value),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"newest-wins",children:"Mais recente vence"}),a.jsx("option",{value:"local-wins",children:"Local vence"}),a.jsx("option",{value:"remote-wins",children:"Remoto vence"}),a.jsx("option",{value:"manual",children:"Resolução manual"})]})]}),a.jsxs(pr,{onClick:I,disabled:p,className:"w-full",children:[a.jsx(z_,{className:`w-4 h-4 mr-2 ${p?"animate-spin":""}`}),p?"Sincronizando...":"Sincronizar Agora"]})]}),a.jsxs("div",{className:"space-y-4 border-t pt-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Backup e Migração"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(pr,{onClick:be,variant:"outline",children:[a.jsx(Nf,{className:"w-4 h-4 mr-2"}),"Exportar Dados"]}),a.jsxs(pr,{variant:"outline",className:"relative",children:[a.jsx(ox,{className:"w-4 h-4 mr-2"}),"Importar Dados",a.jsx("input",{type:"file",accept:".json",onChange:ue,className:"absolute inset-0 opacity-0 cursor-pointer"})]})]}),r.supabase&&a.jsx(pr,{onClick:de,disabled:y,variant:"outline",className:"w-full",children:y?"Migrando...":"Migrar Dados do Supabase para Local"})]})]})]})})},OT=()=>{const{users:e,user:t,deleteUser:r,logout:s}=Ba(),[i,c]=_.useState(""),[u,f]=_.useState(!1),[h,g]=_.useState(null),[p,v]=_.useState(!1),[y,j]=_.useState(!1),[S,b]=_.useState(!1),[N,k]=_.useState(!1),[C,P]=_.useState(!1),[D,E]=_.useState(null),V=e.filter(te=>te.name.toLowerCase().includes(i.toLowerCase())||te.email.toLowerCase().includes(i.toLowerCase())),A=te=>{g(te),f(!0)},M=te=>{if(te===t?.id){alert("Você não pode excluir seu próprio usuário!");return}window.confirm("Tem certeza que deseja excluir este usuário?")&&r(te)},I=()=>{f(!1),g(null)},de=te=>te==="admin"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800",be=te=>te==="admin"?"Administrador":"Usuário";if(!(t?.role==="admin"))return a.jsx("div",{className:"space-y-6",children:a.jsx("div",{className:"text-center py-12",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx(Cl,{className:"h-16 w-16 mx-auto"})}),a.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"Acesso Restrito"}),a.jsx("p",{className:"text-gray-400",children:"Apenas administradores podem acessar as configurações do sistema"})]})})});const X=[{id:"users",title:"Gerenciamento de Usuários",description:"Adicionar, editar e gerenciar usuários do sistema",icon:U_,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"},{id:"system",title:"Configurações do Sistema",description:"PDFs, produtos, importação e exportação de dados",icon:Nl,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200"}],ce=[{id:"sync",title:"Sincronização e Nuvem",description:"Configurar armazenamento local ou sincronização com nuvem",icon:kl,color:"text-sky-600",action:()=>P(!0)},{id:"pdf",title:"Configurações de PDF",description:"Personalizar aparência dos documentos gerados",icon:Wr,color:"text-blue-600",action:()=>v(!0)},{id:"company",title:"Dados da Empresa",description:"Informações básicas, fiscais e bancárias",companyIcon:yl,color:"text-indigo-600",action:()=>j(!0)},{id:"products",title:"Configurações de Produtos",description:"Categorias, unidades e alertas de estoque",icon:ar,color:"text-purple-600",action:()=>k(!0)},{id:"import-export",title:"Importar/Exportar Dados",description:"Backup e migração de dados do sistema",icon:A_,color:"text-green-600",action:()=>b(!0)}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-800 flex items-center",children:[a.jsx(Nl,{className:"h-8 w-8 mr-3 text-amber-600"}),"Configurações do Sistema"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie usuários e configurações"})]}),a.jsxs("div",{className:"flex space-x-3",children:[D&&a.jsxs("button",{onClick:()=>E(null),className:"bg-gradient-to-r from-gray-600 to-gray-700 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:from-gray-700 hover:to-gray-800 transition-all duration-200 shadow-lg hover:shadow-xl",children:[a.jsx(j_,{className:"h-5 w-5"}),a.jsx("span",{children:"Voltar ao Menu"})]}),a.jsxs("button",{onClick:s,className:"bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-lg hover:shadow-xl",children:[a.jsx(nx,{className:"h-5 w-5"}),a.jsx("span",{children:"Sair"})]})]})]}),!D&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:X.map(te=>{const Y=te.icon;return a.jsxs("button",{onClick:()=>E(te.id),className:`${te.bgColor} ${te.borderColor} border-2 rounded-xl p-8 text-left hover:shadow-lg transition-all duration-200 hover:scale-105 group`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-4 rounded-full bg-white ${te.color} group-hover:scale-110 transition-transform duration-200`,children:a.jsx(Y,{className:"h-8 w-8"})}),a.jsx(ng,{className:`h-6 w-6 ${te.color} group-hover:translate-x-1 transition-transform duration-200`})]}),a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:te.title}),a.jsx("p",{className:"text-gray-600",children:te.description})]},te.id)})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total de Usuários"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(xs,{className:"h-8 w-8 text-blue-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Usuários Ativos"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.filter(te=>te.active).length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Ao,{className:"h-8 w-8 text-green-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-red-500",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Administradores"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:e.filter(te=>te.role==="admin").length})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Cl,{className:"h-8 w-8 text-red-600"})})]})})]})]}),D==="users"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Gerenciamento de Usuários"}),a.jsxs("button",{onClick:()=>f(!0),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-lg hover:shadow-xl",children:[a.jsx(cn,{className:"h-5 w-5"}),a.jsx("span",{children:"Novo Usuário"})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),a.jsx("input",{type:"text",placeholder:"Buscar usuários por nome ou email...",value:i,onChange:te=>c(te.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuário"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nível"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Último Login"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V.map(te=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-400 to-blue-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-medium text-sm",children:te.name.charAt(0).toUpperCase()})})}),a.jsx("div",{className:"ml-4",children:a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[te.name,te.id===t?.id&&a.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:"Você"})]})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Io,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("span",{className:"text-sm text-gray-900",children:te.email})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${de(te.role)}`,children:be(te.role)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${te.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:te.active?"Ativo":"Inativo"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ex,{className:"h-4 w-4 mr-2"}),te.last_login?new Date(te.last_login).toLocaleDateString("pt-BR"):"Nunca"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>A(te),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:a.jsx(Po,{className:"h-4 w-4"})}),te.id!==t?.id&&a.jsx("button",{onClick:()=>M(te.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(gs,{className:"h-4 w-4"})})]})})]},te.id))})]})}),V.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(xs,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-gray-500 mb-2",children:"Nenhum usuário encontrado"}),a.jsx("p",{className:"text-gray-400",children:"Tente ajustar os termos de busca"})]})]})]}),D==="system"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Configurações do Sistema"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Personalize o comportamento e aparência do sistema"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:ce.map(te=>{const Y=te.companyIcon||te.icon;return a.jsxs("button",{onClick:te.action,className:"bg-white border-2 border-gray-200 rounded-xl p-6 text-left hover:shadow-lg transition-all duration-200 hover:scale-105 hover:border-gray-300 group",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-full bg-gray-50 ${te.color} group-hover:scale-110 transition-transform duration-200`,children:a.jsx(Y,{className:"h-6 w-6"})}),a.jsx(ng,{className:"h-5 w-5 text-gray-400 group-hover:translate-x-1 transition-transform duration-200"})]}),a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:te.title}),a.jsx("p",{className:"text-sm text-gray-600",children:te.description})]},te.id)})})]}),u&&a.jsx(NT,{user:h,onClose:I}),p&&a.jsx(CT,{onClose:()=>v(!1)}),y&&a.jsx(ET,{onClose:()=>j(!1)}),S&&a.jsx(PT,{onClose:()=>b(!1)}),N&&a.jsx(AT,{onClose:()=>k(!1)}),C&&a.jsx(TT,{isOpen:C,onClose:()=>P(!1)})]})},RT=_.createContext(void 0),IT=({children:e})=>{const[t,r]=_.useState(!1),[s,i]=_.useState(null),[c,u]=_.useState(navigator.onLine);return _.useEffect(()=>{(async()=>{try{console.log("[StorageContext] Starting initialization...");const p={provider:"local",autoSync:!1,syncStrategy:"newest-wins"};console.log("[StorageContext] Initializing with local-only config");const v=await Og(p);console.log("[StorageContext] Storage manager initialized successfully"),i(v),r(!0)}catch(p){console.error("[StorageContext] Failed to initialize storage:",p);const v=await Og({provider:"local"});i(v),r(!0)}})();const h=()=>u(!0),g=()=>u(!1);return window.addEventListener("online",h),window.addEventListener("offline",g),()=>{window.removeEventListener("online",h),window.removeEventListener("offline",g),s?.destroy()}},[]),a.jsx(RT.Provider,{value:{isInitialized:t,storageManager:s,isOnline:c},children:e})},$T=()=>{const{isAuthenticated:e}=Ba(),[t,r]=_.useState("dashboard");if(!e)return a.jsx(lk,{});const s=()=>{switch(t){case"dashboard":return a.jsx(Rg,{});case"clients":return a.jsx(dk,{});case"projects":return a.jsx(mk,{});case"finance":return a.jsx(gk,{});case"products":return a.jsx(jT,{});case"stock":return a.jsx(ST,{});case"settings":return a.jsx(OT,{});default:return a.jsx(Rg,{})}};return a.jsxs("div",{className:"flex min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50",children:[a.jsx(ik,{currentPage:t,setCurrentPage:r}),a.jsx("main",{className:"flex-1 ml-64 p-6",children:s()})]})};function DT(){return a.jsx(Z_,{children:a.jsx(fk,{children:a.jsx(IT,{children:a.jsx(ck,{children:a.jsx($T,{})})})})})}b_.createRoot(document.getElementById("root")).render(a.jsx(_.StrictMode,{children:a.jsx(DT,{})}));export{$o as _,MT as c,jf as g};
